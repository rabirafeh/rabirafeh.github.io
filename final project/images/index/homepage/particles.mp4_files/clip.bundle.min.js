(function(modules){var parentJsonpFunction=window["webpackJsonp"];window["webpackJsonp"]=function webpackJsonpCallback(chunkIds,moreModules){var moduleId,chunkId,i=0,callbacks=[];for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(installedChunks[chunkId])callbacks.push.apply(callbacks,installedChunks[chunkId]);installedChunks[chunkId]=0}for(moduleId in moreModules){if(Object.prototype.hasOwnProperty.call(moreModules,moduleId)){var _m=moreModules[moduleId];switch(typeof _m){case"object":modules[moduleId]=function(_m){var args=_m.slice(1),templateId=_m[0];return function(a,b,c){modules[templateId].apply(this,[a,b,c].concat(args))}}(_m);break;case"function":modules[moduleId]=_m;break;default:modules[moduleId]=modules[_m];break}}}if(parentJsonpFunction)parentJsonpFunction(chunkIds,moreModules);while(callbacks.length)callbacks.shift().call(null,__webpack_require__)};var installedModules={};var installedChunks={0:0};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}__webpack_require__.e=function requireEnsure(chunkId,callback){if(installedChunks[chunkId]===0)return callback.call(null,__webpack_require__);if(installedChunks[chunkId]!==undefined){installedChunks[chunkId].push(callback)}else{installedChunks[chunkId]=[callback];var head=document.getElementsByTagName("head")[0];var script=document.createElement("script");script.type="text/javascript";script.charset="utf-8";script.async=true;script.src=__webpack_require__.p+"clip.chunk-"+chunkId+".min.js?"+{1:"ccff0c0bfe02056b9371"}[chunkId]+"";head.appendChild(script)}};__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0)})(function(modules){for(var i in modules){if(Object.prototype.hasOwnProperty.call(modules,i)){switch(typeof modules[i]){case"function":break;case"object":modules[i]=function(_m){var args=_m.slice(1),fn=modules[_m[0]];return function(a,b,c){fn.apply(this,[a,b,c].concat(args))}}(modules[i]);break;default:modules[i]=modules[modules[i]];break}}}return modules}([function(module,exports,__webpack_require__){"use strict";__webpack_require__(1);var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(6);var _reactDom2=_interopRequireDefault(_reactDom);var _ClipStorageKeys=__webpack_require__(7);var _ClipStorageKeys2=_interopRequireDefault(_ClipStorageKeys);var _ClipActions=__webpack_require__(8);var _ClipActions2=_interopRequireDefault(_ClipActions);var _ClipMain=__webpack_require__(57);var _ClipMain2=_interopRequireDefault(_ClipMain);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}__webpack_require__.p=window.JS_DIR+"_bundles/";var INITIAL_CONFIG=vimeo.clip_page_config;var CLIP_ID=INITIAL_CONFIG.clip.id;var CUR_USER=vimeo.cur_user;var CONTINUOUS_PLAY_OFF="0";var CONTINUOUS_PLAY_ON="1";window.__app_name__="clip-page";var main_el=document.getElementById("main");markUserTime("clip|js:init");_reactDom2.default.render(_react2.default.createElement(_ClipMain2.default,{onMount:function onMount(){markUserTime("clip|ClipMain:onMount");$(main_el).removeClass("is_loading");INITIAL_CONFIG.original_clip_id=INITIAL_CONFIG.clip.id;_ClipActions2.default.updatePageData(INITIAL_CONFIG,{track_page_view:false,initial_page_load:true});setTimeout(function(){switch(window.location.hash){case"#share":case"#embed":case"#email":_ClipActions2.default.openShare(CLIP_ID,"url_hash");break;case"#download":case"#download_source_file":_ClipActions2.default.openDownload(CLIP_ID);break;case"#join":case"#log_in":if(!CUR_USER){_ClipActions2.default.openLogin()}break;case"#collections":if(!CUR_USER){_ClipActions2.default.openLogin()}else{_ClipActions2.default.openCollections(CLIP_ID)}break}},1e3);if(typeof $.cookie(_ClipStorageKeys2.default.CONTINUOUS_PLAY)==="undefined"){var cookie_value=INITIAL_CONFIG.continuous_play_enabled?CONTINUOUS_PLAY_ON:CONTINUOUS_PLAY_OFF;$.cookie(_ClipStorageKeys2.default.CONTINUOUS_PLAY,cookie_value,{expires:365,domain:vimeo.domain,path:"/"})}}}),main_el)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;(function(global,setImmediate){(function UMD(name,context,definition){context[name]=context[name]||definition();if(typeof module!="undefined"&&module.exports){module.exports=context[name]}else if(true){!(__WEBPACK_AMD_DEFINE_RESULT__=function $AMD$(){return context[name]}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}})("Promise",typeof global!="undefined"?global:this,function DEF(){"use strict";var builtInProp,cycle,scheduling_queue,ToString=Object.prototype.toString,timer=typeof setImmediate!="undefined"?function timer(fn){return setImmediate(fn)}:setTimeout;try{Object.defineProperty({},"x",{});builtInProp=function builtInProp(obj,name,val,config){return Object.defineProperty(obj,name,{value:val,writable:true,configurable:config!==false})}}catch(err){builtInProp=function builtInProp(obj,name,val){obj[name]=val;return obj}}scheduling_queue=function Queue(){var first,last,item;function Item(fn,self){this.fn=fn;this.self=self;this.next=void 0}return{add:function add(fn,self){item=new Item(fn,self);if(last){last.next=item}else{first=item}last=item;item=void 0},drain:function drain(){var f=first;first=last=cycle=void 0;while(f){f.fn.call(f.self);f=f.next}}}}();function schedule(fn,self){scheduling_queue.add(fn,self);if(!cycle){cycle=timer(scheduling_queue.drain)}}function isThenable(o){var _then,o_type=typeof o;if(o!=null&&(o_type=="object"||o_type=="function")){_then=o.then}return typeof _then=="function"?_then:false}function notify(){for(var i=0;i<this.chain.length;i++){notifyIsolated(this,this.state===1?this.chain[i].success:this.chain[i].failure,this.chain[i])}this.chain.length=0}function notifyIsolated(self,cb,chain){var ret,_then;try{if(cb===false){chain.reject(self.msg)}else{if(cb===true){ret=self.msg}else{ret=cb.call(void 0,self.msg)}if(ret===chain.promise){chain.reject(TypeError("Promise-chain cycle"))}else if(_then=isThenable(ret)){_then.call(ret,chain.resolve,chain.reject)}else{chain.resolve(ret)}}}catch(err){chain.reject(err)}}function resolve(msg){var _then,self=this;if(self.triggered){return}self.triggered=true;if(self.def){self=self.def}try{if(_then=isThenable(msg)){schedule(function(){var def_wrapper=new MakeDefWrapper(self);try{_then.call(msg,function $resolve$(){resolve.apply(def_wrapper,arguments)},function $reject$(){reject.apply(def_wrapper,arguments)})}catch(err){reject.call(def_wrapper,err)}})}else{self.msg=msg;self.state=1;if(self.chain.length>0){schedule(notify,self)}}}catch(err){reject.call(new MakeDefWrapper(self),err)}}function reject(msg){var self=this;if(self.triggered){return}self.triggered=true;if(self.def){self=self.def}self.msg=msg;self.state=2;if(self.chain.length>0){schedule(notify,self)}}function iteratePromises(Constructor,arr,resolver,rejecter){for(var idx=0;idx<arr.length;idx++){(function IIFE(idx){Constructor.resolve(arr[idx]).then(function $resolver$(msg){resolver(idx,msg)},rejecter)})(idx)}}function MakeDefWrapper(self){this.def=self;this.triggered=false}function MakeDef(self){this.promise=self;this.state=0;this.triggered=false;this.chain=[];this.msg=void 0}function Promise(executor){if(typeof executor!="function"){throw TypeError("Not a function")}if(this.__NPO__!==0){throw TypeError("Not a promise")}this.__NPO__=1;var def=new MakeDef(this);this["then"]=function then(success,failure){var o={success:typeof success=="function"?success:true,failure:typeof failure=="function"?failure:false};o.promise=new this.constructor(function extractChain(resolve,reject){if(typeof resolve!="function"||typeof reject!="function"){throw TypeError("Not a function")}o.resolve=resolve;o.reject=reject});def.chain.push(o);if(def.state!==0){schedule(notify,def)}return o.promise};this["catch"]=function $catch$(failure){return this.then(void 0,failure)};try{executor.call(void 0,function publicResolve(msg){resolve.call(def,msg)},function publicReject(msg){reject.call(def,msg)})}catch(err){reject.call(def,err)}}var PromisePrototype=builtInProp({},"constructor",Promise,false);Promise.prototype=PromisePrototype;builtInProp(PromisePrototype,"__NPO__",0,false);builtInProp(Promise,"resolve",function Promise$resolve(msg){var Constructor=this;if(msg&&typeof msg=="object"&&msg.__NPO__===1){return msg}return new Constructor(function executor(resolve,reject){if(typeof resolve!="function"||typeof reject!="function"){throw TypeError("Not a function")}resolve(msg)})});builtInProp(Promise,"reject",function Promise$reject(msg){return new this(function executor(resolve,reject){if(typeof resolve!="function"||typeof reject!="function"){throw TypeError("Not a function")}reject(msg)})});builtInProp(Promise,"all",function Promise$all(arr){var Constructor=this;if(ToString.call(arr)!="[object Array]"){return Constructor.reject(TypeError("Not an array"))}if(arr.length===0){return Constructor.resolve([])}return new Constructor(function executor(resolve,reject){if(typeof resolve!="function"||typeof reject!="function"){throw TypeError("Not a function")}var len=arr.length,msgs=Array(len),count=0;iteratePromises(Constructor,arr,function resolver(idx,msg){msgs[idx]=msg;if(++count===len){resolve(msgs)}},reject)})});builtInProp(Promise,"race",function Promise$race(arr){var Constructor=this;if(ToString.call(arr)!="[object Array]"){return Constructor.reject(TypeError("Not an array"))}return new Constructor(function executor(resolve,reject){if(typeof resolve!="function"||typeof reject!="function"){throw TypeError("Not a function")}iteratePromises(Constructor,arr,function resolver(idx,msg){resolve(msg)},reject)})});return Promise})}).call(exports,function(){return this}(),__webpack_require__(2).setImmediate)},function(module,exports,__webpack_require__){var apply=Function.prototype.apply;exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,window,arguments),clearTimeout)};exports.setInterval=function(){return new Timeout(apply.call(setInterval,window,arguments),clearInterval)};exports.clearTimeout=exports.clearInterval=function(timeout){if(timeout){timeout.close()}};function Timeout(id,clearFn){this._id=id;this._clearFn=clearFn}Timeout.prototype.unref=Timeout.prototype.ref=function(){};Timeout.prototype.close=function(){this._clearFn.call(window,this._id)};exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId);item._idleTimeout=msecs};exports.unenroll=function(item){clearTimeout(item._idleTimeoutId);item._idleTimeout=-1};exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;if(msecs>=0){item._idleTimeoutId=setTimeout(function onTimeout(){if(item._onTimeout)item._onTimeout()},msecs)}};__webpack_require__(3);exports.setImmediate=setImmediate;exports.clearImmediate=clearImmediate},function(module,exports,__webpack_require__){(function(global,process){(function(global,undefined){"use strict";if(global.setImmediate){return}var nextHandle=1;var tasksByHandle={};var currentlyRunningATask=false;var doc=global.document;var registerImmediate;function setImmediate(callback){if(typeof callback!=="function"){callback=new Function(""+callback)}var args=new Array(arguments.length-1);for(var i=0;i<args.length;i++){args[i]=arguments[i+1]}var task={callback:callback,args:args};tasksByHandle[nextHandle]=task;registerImmediate(nextHandle);return nextHandle++}function clearImmediate(handle){delete tasksByHandle[handle]}function run(task){var callback=task.callback;var args=task.args;switch(args.length){case 0:callback();break;case 1:callback(args[0]);break;case 2:callback(args[0],args[1]);break;case 3:callback(args[0],args[1],args[2]);break;default:callback.apply(undefined,args);break}}function runIfPresent(handle){if(currentlyRunningATask){setTimeout(runIfPresent,0,handle)}else{var task=tasksByHandle[handle];if(task){currentlyRunningATask=true;try{run(task)}finally{clearImmediate(handle);currentlyRunningATask=false}}}}function installNextTickImplementation(){registerImmediate=function(handle){process.nextTick(function(){runIfPresent(handle)})}}function canUsePostMessage(){if(global.postMessage&&!global.importScripts){var postMessageIsAsynchronous=true;var oldOnMessage=global.onmessage;global.onmessage=function(){postMessageIsAsynchronous=false};global.postMessage("","*");global.onmessage=oldOnMessage;return postMessageIsAsynchronous}}function installPostMessageImplementation(){var messagePrefix="setImmediate$"+Math.random()+"$";var onGlobalMessage=function(event){if(event.source===global&&typeof event.data==="string"&&event.data.indexOf(messagePrefix)===0){runIfPresent(+event.data.slice(messagePrefix.length))}};if(global.addEventListener){global.addEventListener("message",onGlobalMessage,false)}else{global.attachEvent("onmessage",onGlobalMessage)}registerImmediate=function(handle){global.postMessage(messagePrefix+handle,"*")}}function installMessageChannelImplementation(){var channel=new MessageChannel;channel.port1.onmessage=function(event){var handle=event.data;runIfPresent(handle)};registerImmediate=function(handle){channel.port2.postMessage(handle)}}function installReadyStateChangeImplementation(){var html=doc.documentElement;registerImmediate=function(handle){var script=doc.createElement("script");script.onreadystatechange=function(){runIfPresent(handle);script.onreadystatechange=null;html.removeChild(script);script=null};html.appendChild(script)}}function installSetTimeoutImplementation(){registerImmediate=function(handle){setTimeout(runIfPresent,0,handle)}}var attachTo=Object.getPrototypeOf&&Object.getPrototypeOf(global);attachTo=attachTo&&attachTo.setTimeout?attachTo:global;if({}.toString.call(global.process)==="[object process]"){installNextTickImplementation()}else if(canUsePostMessage()){installPostMessageImplementation()}else if(global.MessageChannel){installMessageChannelImplementation()}else if(doc&&"onreadystatechange"in doc.createElement("script")){installReadyStateChangeImplementation()}else{installSetTimeoutImplementation()}attachTo.setImmediate=setImmediate;attachTo.clearImmediate=clearImmediate})(typeof self==="undefined"?typeof global==="undefined"?this:global:self)}).call(exports,function(){return this}(),__webpack_require__(4))},function(module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(name){return[]};process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},function(module,exports){module.exports=React},function(module,exports){module.exports=ReactDOM},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ClipStorageKeys={CONTINUOUS_PLAY:"continuous_play_v3",OUTRO_SURVEY_DISABLED:"disable_outro_survey",OVERRIDE_STREAM:"override_stream"};exports.default=ClipStorageKeys;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _objectAssign=__webpack_require__(9);var _objectAssign2=_interopRequireDefault(_objectAssign);var _LocalStorage=__webpack_require__(10);var _LocalStorage2=_interopRequireDefault(_LocalStorage);var _SessionStorage=__webpack_require__(14);var _SessionStorage2=_interopRequireDefault(_SessionStorage);var _AppDispatcher=__webpack_require__(15);var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _UrlUtils=__webpack_require__(19);var _VimeoApp=__webpack_require__(20);var _VimeoApp2=_interopRequireDefault(_VimeoApp);var _ClipActionTypes=__webpack_require__(23);var _ClipActionTypes2=_interopRequireDefault(_ClipActionTypes);var _ContentModalTypes=__webpack_require__(25);var _ContentModalTypes2=_interopRequireDefault(_ContentModalTypes);var _PlayerActionTypes=__webpack_require__(26);var _PlayerActionTypes2=_interopRequireDefault(_PlayerActionTypes);var _ClipStorageKeys=__webpack_require__(7);var _ClipStorageKeys2=_interopRequireDefault(_ClipStorageKeys);var _CommentActionTypes=__webpack_require__(27);var _CommentActionTypes2=_interopRequireDefault(_CommentActionTypes);var _ClipStore=__webpack_require__(28);var _ClipStore2=_interopRequireDefault(_ClipStore);var _ContextualClipsStore=__webpack_require__(34);var _ContextualClipsStore2=_interopRequireDefault(_ContextualClipsStore);var _CommentStates=__webpack_require__(35);var _CommentStates2=_interopRequireDefault(_CommentStates);var _ClipStatuses=__webpack_require__(32);var ClipStatus=_interopRequireWildcard(_ClipStatuses);var _RateLimit=__webpack_require__(36);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}window._gtm=window._gtm||[];var local_storage=new _LocalStorage2.default;var session_storage=new _SessionStorage2.default;var OUTRO_SURVEY_PERCENTAGE=20;var _status_timer=-1;var _current_pathname=location.pathname;var _is_probably_human=!!local_storage.get("is_human")===true;var _ua=navigator.userAgent.toLowerCase();var _is_trusted_bot=_ua.indexOf("googlebot")!==-1||_ua.indexOf("bingbot")!==-1||_ua.indexOf("google web preview")!==-1;var _page_cache={};var _last_player_config=null;var _player_preload_initialized=false;var ClipActions={preloadNextPlayer:function preloadNextPlayer(){_last_player_config=_ClipStore2.default.getState().player;_player_preload_initialized=true;var next_clip=_ContextualClipsStore2.default.getNextClip();if(next_clip===null){return}_VimeoApp2.default.clip(next_clip.id).get("load_player_config").then(function(response){return response.json()}).then(function(next_player_config){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.PLAYER_CONFIG_UPDATED,player_config:next_player_config})})},_setLoadingState:function _setLoadingState(is_loading){if(is_loading){var main_el=document.getElementById("main");if(main_el){var main_el_y=main_el.offsetTop;if(window.scrollY>main_el_y){window.scrollTo(0,main_el_y)}}$("body").addClass("is-loading")}else{$("body").removeClass("is-loading")}},_cleanupPageState:function _cleanupPageState(){$('[id^="lightbox_container"]').remove();clearTimeout(_status_timer);_last_player_config=null},_loadRemote:function _loadRemote(original_clip_id,clip_id){var stream_id=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var stream_pos=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var direction=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;var context=_getContext();var endpoint=void 0;if(context!==null){endpoint=_VimeoApp2.default[context.type](context.id).videos(clip_id)}else{endpoint=_VimeoApp2.default.clip(clip_id)}return endpoint.get("load_config",{stream_id:stream_id,stream_pos:stream_pos}).then(function(response){if(response.status===403){window.location="/"+clip_id}return response.json()})},_load:function _load(original_clip_id,clip_id){var stream_id=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var stream_pos=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var direction=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;if(_page_cache[clip_id]){return Promise.resolve(_page_cache[clip_id])}return this._loadRemote(original_clip_id,clip_id,stream_id,stream_pos,direction)},loadPage:function loadPage(original_clip_id,clip_id){var stream_id=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var stream_pos=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var _this=this;var should_autoplay=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;var direction=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;this._setLoadingState(true);this._cleanupPageState();this._load(original_clip_id,clip_id,stream_id,stream_pos,direction).then(function(page_data){_this._setLoadingState(false);page_data.original_clip_id=original_clip_id;_player_preload_initialized=false;page_data.should_autoplay=should_autoplay;history.pushState(page_data,null,_getUpdatedPathname(location.pathname,clip_id));_this.updatePageData(page_data,{track_page_view:true,initial_page_load:false})}).catch(function(error){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.PAGE_LOAD_ERROR,error:error});_AppDispatcher2.default.logError(error);_this._hardRefresh(clip_id)})},_hardRefresh:function _hardRefresh(clip_id){setTimeout(function(){window.location="/"+clip_id},500)},openModal:function openModal(modal_type,modal_data){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.LIGHTBOX_OPEN,modal:modal_type,modal_data:modal_data})},closeModal:function closeModal(modal_type){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.LIGHTBOX_CLOSE,modal:modal_type})},_addInterruptEvents:function _addInterruptEvents(){window.addEventListener("mousedown",_handleCountdownInterrupt);window.addEventListener("keydown",_handleCountdownInterrupt)},_removeInterruptEvents:function _removeInterruptEvents(){window.removeEventListener("mousedown",_handleCountdownInterrupt);window.removeEventListener("keydown",_handleCountdownInterrupt)},startCountdownTimer:function startCountdownTimer(){this._addInterruptEvents();if(window.can_preload&&!_player_preload_initialized){this.preloadNextPlayer()}_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.CLIP_PAGE_COUNTDOWN_START})},pauseCountdownTimer:function pauseCountdownTimer(){var user_initiated=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.CLIP_PAGE_COUNTDOWN_PAUSE,user_initiated:user_initiated})},cancelCountdownTimer:function cancelCountdownTimer(){this._removeInterruptEvents();_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.CLIP_PAGE_COUNTDOWN_CANCEL})},mouseOutCountdownTimer:function mouseOutCountdownTimer(){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.CLIP_PAGE_COUNTDOWN_MOUSEOUT})},likeClip:function likeClip(do_like){var trigger_on_player=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var clip_id=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(trigger_on_player){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.SET_LIKE,like:do_like})}else if(clip_id!==null){_VimeoApp2.default.clip(clip_id).post("toggle_like",{clip_id:clip_id,do_like:do_like}).then(function(response){return response.json()}).then(function(json_response){if(json_response.success){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.LIKED,clip_id:clip_id,is_liked:do_like})}}).catch(function(error){_AppDispatcher2.default.logError(error)})}},seekClip:function seekClip(seconds){window.scrollTo(0,0);_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.SET_CURRENT_TIME,seconds:seconds,resume:true})},openShare:function openShare(clip_id){var referrer_context=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"player";window.scrollTo(0,1);this.openModal(_ContentModalTypes2.default.SHARE);vimeo.share.Popup(clip_id,"/"+clip_id+"?action=share&responsive=true",false,referrer_context)},loadDownloadConfig:function loadDownloadConfig(clip_id){_VimeoApp2.default.clip(clip_id).get("load_download_config").then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.DOWNLOAD_CONFIG_LOAD_SUCCESS,data:json_response})})},openDownload:function openDownload(clip_id){this.loadDownloadConfig(clip_id);this.openModal(_ContentModalTypes2.default.DOWNLOAD)},fetchColdSourceFile:function fetchColdSourceFile(url){fetch(url,{method:"get",credentials:"include",headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.DOWNLOAD_DEFROST_REQUESTED,is_defrosting:json_response.is_defrosting})}).catch(function(error){_AppDispatcher2.default.logError(error)})},loadCollections:function loadCollections(clip_id){_VimeoApp2.default.clip(clip_id).get("load_collections").then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.COLLECTIONS_LOAD_SUCCESS,data:json_response})})},openCollections:function openCollections(clip_id){this.loadCollections(clip_id);this.openModal(_ContentModalTypes2.default.COLLECTION)},createCollection:function createCollection(clip_id,collection_type,collection_name){_VimeoApp2.default.clip(clip_id).post("create_"+collection_type,{name:collection_name}).then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.COLLECTION_CREATE,collection_type:collection_type,collection_obj:{id:json_response.id,name:collection_name,checked:true,disabled:false}})}).catch(function(error){_AppDispatcher2.default.logError(error)})},toggleCollection:function toggleCollection(clip_id,collection_type,collection_id,toggle_value){var toggle=void 0;if(toggle_value===_ClipActionTypes2.default.COLLECTION_ADD){toggle="add"}else if(toggle_value===_ClipActionTypes2.default.COLLECTION_REMOVE){toggle="remove"}else{throw new Error("Unknown collection action type: "+toggle_value)}_VimeoApp2.default.clip(clip_id).post("toggle_collection",{toggle:toggle,type:collection_type,id:collection_id}).catch(function(error){_AppDispatcher2.default.logError(error)});_AppDispatcher2.default.dispatch({action_type:toggle_value,collection_type:collection_type,collection_id:collection_id})},openFlag:function openFlag(){this.openModal(_ContentModalTypes2.default.FLAG)},flag:function flag(clip_id,reason){_VimeoApp2.default.clip(clip_id).post("flag",{reason:reason}).then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.FLAG_SUCCESS})}).catch(function(error){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.FLAG_ERROR});_AppDispatcher2.default.logError(error)})},cancelFlag:function cancelFlag(){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.FLAG_CANCEL})},loadPhotos:function loadPhotos(clip_id){_VimeoApp2.default.clip(clip_id).get("load_photos").then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.PHOTOS_LOAD_SUCCESS,data:json_response})})},loadMoreInfo:function loadMoreInfo(clip_id){_VimeoApp2.default.clip(clip_id).get("load_more_info").then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.MORE_INFO_LOAD_SUCCESS,data:json_response})}).catch(function(error){_AppDispatcher2.default.logError(error)})},openMoreInfo:function openMoreInfo(clip_id){this.openModal(_ContentModalTypes2.default.MORE_INFO)},loadContextualClips:function loadContextualClips(original_clip_id,clip_id){var page=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var stream_id=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var stream_pos=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;var request_id=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;var dispatch_options=arguments.length>6&&arguments[6]!==undefined?arguments[6]:null;var offset=arguments.length>7&&arguments[7]!==undefined?arguments[7]:0;setTimeout(function(){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.CONTEXTUAL_CLIPS_PAGE_LOAD_REQUESTED})},10);_VimeoApp2.default.clip(clip_id).get("load_contextual_clips",{page:page,stream_id:stream_id,stream_pos:stream_pos,request_id:request_id,offset:offset}).then(function(response){return response.json()}).then(function(json_response){if(dispatch_options===null){dispatch_options={action_type:_ClipActionTypes2.default.CONTEXTUAL_CLIPS_PAGE_LOAD_SUCCESS,original_clip_id:original_clip_id}}_AppDispatcher2.default.dispatch((0,_objectAssign2.default)({},dispatch_options,json_response),false)}).catch(function(error){_AppDispatcher2.default.logError(error)})},removeCredit:function removeCredit(clip_id,credit_id){_VimeoApp2.default.clip(clip_id).post("toggle_clip_credits",{credit_id:credit_id}).then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.CREDIT_REMOVE_SUCCESS,credit_id:credit_id})}).catch(function(error){_AppDispatcher2.default.logError(error)})},replay:function replay(){if(window.can_preload){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.PLAYER_CONFIG_UPDATED,player_config:_last_player_config})}setTimeout(function(){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.REPLAY
})},500)},hideOutro:function hideOutro(){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.HIDE_OUTRO})},hideSurvey:function hideSurvey(){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.HIDE_SURVEY})},openLogin:function openLogin(){var clip_id=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var player_context=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var params=null;if(clip_id!==null&&player_context!==null){params={player:1,clip_id:clip_id,context:player_context}}vimeo.Session.create("xsmall",params)},openUnverified:function openUnverified(){this.openModal(_ContentModalTypes2.default.UNVERIFIED)},openContentPreferences:function openContentPreferences(){vimeo.Modal.create({content:"/settings/contentrating"})},bypassMatureContentBlock:function bypassMatureContentBlock(){var _this2=this;_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.BYPASS_MATURE_CONTENT_FILTER});_last_player_config=_ClipStore2.default.getState().player;setTimeout(function(){_this2.replay()},500)},pollForStatus:function pollForStatus(clip_id){var _this3=this;var hd_status_only=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;_VimeoApp2.default.clip(clip_id).get("status",{hd_status:hd_status_only}).then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.STATUS_UPDATE,data:json_response});var refresh_delay=5*1e3;switch(json_response.state){case ClipStatus.UPLOAD_IN_PROGRESS:refresh_delay=30*1e3;break;case ClipStatus.UNKNOWN:case ClipStatus.UPLOAD_ERROR_BLOCKED:case ClipStatus.UPLOAD_ERROR_MOVE:case ClipStatus.UPLOAD_INVALID_FILE:case ClipStatus.UPLOAD_ERROR_QUOTA:case ClipStatus.UPLOAD_ERROR_INCOMPLETE:case ClipStatus.TRANSCODE_FAILED:refresh_delay=null;break;case ClipStatus.READY:refresh_delay=null;break}if(refresh_delay!==null){_status_timer=setTimeout(function(){_this3.pollForStatus(clip_id,hd_status_only)},refresh_delay)}}).catch(function(error){_AppDispatcher2.default.logError(error)})},toggleContinuousPlay:function toggleContinuousPlay(){var CONTINUOUS_PLAY_OFF="0";var CONTINUOUS_PLAY_ON="1";var current_value=$.cookie(_ClipStorageKeys2.default.CONTINUOUS_PLAY);var next_value=CONTINUOUS_PLAY_ON;if(current_value===CONTINUOUS_PLAY_ON){next_value=CONTINUOUS_PLAY_OFF}$.cookie(_ClipStorageKeys2.default.CONTINUOUS_PLAY,next_value,{expires:365,domain:vimeo.domain,path:"/"});_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.CONTINUOUS_PLAY_TOGGLED,continuous_play_enabled:next_value===CONTINUOUS_PLAY_ON});return next_value},updateNewCommentValue:function updateNewCommentValue(comment_text,obj_name,clip_id){var twitter_handle=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;_AppDispatcher2.default.dispatch({action_type:_CommentActionTypes2.default.NEW_COMMENT_INPUT_CHANGE,comment_text:comment_text,obj_name:obj_name,clip_id:clip_id,twitter_handle:twitter_handle})},addComment:function addComment(object_id,comment_text){var reply_to_comment_id=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var is_ondemand=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;window._gtm.push({event:"comment_post_click"});var is_reply=reply_to_comment_id!==null;var action=is_reply?"add_reply":"add_comment";var context=_getContext();var endpoint=void 0;if(context!==null){endpoint=_VimeoApp2.default[context.type](context.id).videos(object_id)}else if(is_ondemand){endpoint=_VimeoApp2.default.ondemand(object_id)}else{endpoint=_VimeoApp2.default.clip(object_id)}endpoint.post(action,{text:comment_text,response_type:"json",comment_id:is_reply?reply_to_comment_id:null}).then(function(response){if((0,_RateLimit.isRateLimited)(response.status)){(0,_RateLimit.openRateLimitModal)("comment");return null}return response.ok?response.json():null}).then(function(responseData){if(responseData){_AppDispatcher2.default.dispatch({action_type:_CommentActionTypes2.default.COMMENT_ADDED,comment_obj:responseData})}}).catch(function(error){_AppDispatcher2.default.logError(error)})},editComment:function editComment(object_id,comment_id,comment_text){var is_ondemand=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var context=_getContext();var endpoint=void 0;if(context!==null){endpoint=_VimeoApp2.default[context.type](context.id).videos(object_id)}else if(is_ondemand){endpoint=_VimeoApp2.default.ondemand(object_id)}else{endpoint=_VimeoApp2.default.clip(object_id)}endpoint.post("edit_comment",{comment_id:comment_id,text:comment_text,response_type:"json"}).then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_CommentActionTypes2.default.COMMENT_EDITED,comment_obj:json_response})}).catch(function(error){_AppDispatcher2.default.logError(error)})},deleteComment:function deleteComment(object_id,comment_id,reply_to_comment_id){var is_ondemand=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var context=_getContext();var endpoint=void 0;if(context!==null){endpoint=_VimeoApp2.default[context.type](context.id).videos(object_id)}else if(is_ondemand){endpoint=_VimeoApp2.default.ondemand(object_id)}else{endpoint=_VimeoApp2.default.clip(object_id)}endpoint.post("delete_comment",{comment_id:comment_id,response_type:"json"}).then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_CommentActionTypes2.default.COMMENT_DELETED,comment_obj:{id:comment_id,reply_to_comment_id:reply_to_comment_id}})}).catch(function(error){_AppDispatcher2.default.logError(error)})},markSpamComment:function markSpamComment(clip_id,comment_id,reply_to_comment_id){_VimeoApp2.default.clip(clip_id).post("spam_comment",{comment_id:comment_id,response_type:"json"}).then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_CommentActionTypes2.default.COMMENT_SPAMMED,comment_obj:{id:comment_id,reply_to_comment_id:reply_to_comment_id}})}).catch(function(error){_AppDispatcher2.default.logError(error)})},setActiveComment:function setActiveComment(comment,ui_state){if(!comment||ui_state===_CommentStates2.default.COMMENT_STATE_DEFAULT){_AppDispatcher2.default.dispatch({action_type:_CommentActionTypes2.default.COMMENT_SET_ACTIVE,comment_id:null,ui_state:null});return}_AppDispatcher2.default.dispatch({action_type:_CommentActionTypes2.default.COMMENT_SET_ACTIVE,comment_id:comment.id,ui_state:ui_state})},loadComments:function loadComments(clip_id){var page=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var is_preview=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;setTimeout(function(){_AppDispatcher2.default.dispatch({action_type:_CommentActionTypes2.default.COMMENT_PAGE_LOAD_START})},10);_VimeoApp2.default.clip(clip_id).get("load_comments",{page:page,is_preview:is_preview}).then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_CommentActionTypes2.default.COMMENT_PAGE_LOAD_SUCCESS,comments_enabled:json_response.comments_enabled,comments:json_response.comments,page:json_response.page,has_next_page:json_response.has_next_page,is_preview:json_response.is_preview,total_comments:json_response.total_comments,total_comments_formatted:json_response.total_comments_formatted,social_apps:json_response.social_apps},false)}).catch(function(error){_AppDispatcher2.default.logError(error)})},loadDeepLinkedComment:function loadDeepLinkedComment(clip_id,comment_id){setTimeout(function(){_AppDispatcher2.default.dispatch({action_type:_CommentActionTypes2.default.COMMENT_DEEP_LINK_LOAD_START})});_VimeoApp2.default.clip(clip_id).get("load_deeplinked_comment",{comment_id:comment_id}).then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_CommentActionTypes2.default.COMMENT_DEEP_LINK_LOAD_SUCCESS,comment_obj:json_response.comment_obj})}).catch(function(error){_AppDispatcher2.default.logError(error)})},loadStats:function loadStats(clip_id){_VimeoApp2.default.clip(clip_id).get("load_stats").then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.STATS_LOAD_SUCCESS,stats_data:json_response},false)}).catch(function(error){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.STATS_LOAD_ERROR});_AppDispatcher2.default.logError(error)})},loadStatCounts:function loadStatCounts(clip_id){_VimeoApp2.default.clip(clip_id).get("load_stat_counts").then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.STAT_COUNTS_LOAD_SUCCESS,data:json_response},false)}).catch(function(error){_AppDispatcher2.default.logError(error)})},loadNotifications:function loadNotifications(clip_id){_VimeoApp2.default.clip(clip_id).get("load_notifications").then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.NOTIFICATIONS_LOAD_SUCCESS,data:json_response})}).catch(function(error){_AppDispatcher2.default.logError(error)})},dismissNotificationForUser:function dismissNotificationForUser(clip_id,notification_id,user_id){_VimeoApp2.default.user(user_id).post("set_tip",{data_tip_id:notification_id}).then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.DISMISS_NOTIFICATION,notification_id:notification_id})}).catch(function(error){_AppDispatcher2.default.logError(error)})},dismissSourceFileRecommendationNotification:function dismissSourceFileRecommendationNotification(clip_id){_VimeoApp2.default.clip(clip_id).post("dismiss_source_file_recommendation",{dismissed_state:1}).then(function(response){return response.json()}).catch(function(error){_AppDispatcher2.default.logError(error)})},updatePageData:function updatePageData(data){var _this4=this;var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{track_page_view:true,initial_page_load:true};if(options.initial_page_load){_removeAutoplayParameter(data);data=_determineOutroSurvey(data);data=_determineOverrideStream(data);data=_determineOutroType(data)}document.title=data.clip.title+" on Vimeo";_current_pathname=location.pathname;window._last_page_state=data;_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.PAGE_LOAD_SUCCESS,data:data},false);var is_owner=data.cur_user!==null&&data.cur_user.id===data.owner.id;var loadDeferredExtras=function loadDeferredExtras(){_is_probably_human=true;try{local_storage.set("is_human",true)}catch(x){}_this4.loadClipPageExtras(data.original_clip_id,data.clip.id,is_owner,data.stream.id,data.stream.pos,options.initial_page_load)};if(_is_probably_human||_is_trusted_bot){loadDeferredExtras()}else{$(window).one("mousemove",loadDeferredExtras);$(window).one("touchstart",loadDeferredExtras);$(window).one("keydown",loadDeferredExtras)}if(options.track_page_view){window._gtm.push({event:"pageview",page_path:_current_pathname})}},loadClipPageExtras:function loadClipPageExtras(original_clip_id,clip_id){var is_owner=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var stream_id=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var stream_pos=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;var initial_page_load=arguments.length>5&&arguments[5]!==undefined?arguments[5]:true;this.loadPhotos(clip_id);this.loadMoreInfo(clip_id);this.loadComments(clip_id,1,true);if(initial_page_load){this.loadContextualClips(original_clip_id,clip_id,1,stream_id,stream_pos)}else{var new_position=_ContextualClipsStore2.default.state.current_clip_position;_ContextualClipsStore2.default.state.clips.forEach(function(clip,index){if(clip.id===clip_id){new_position=index}});var dispatch_options={action_type:_ClipActionTypes2.default.CONTEXTUAL_CLIPS_MOVE,current_clip_id:clip_id,new_position:new_position,loaded_more_clips:false,loaded_prev_clips:false};var adjacent_prev=_ContextualClipsStore2.default.getPreviousClip();var load_prev_page=adjacent_prev!==null&&!adjacent_prev.is_first&&clip_id===adjacent_prev.id&&new_position===0;var load_next_page=_ContextualClipsStore2.default.state.has_more&&_ContextualClipsStore2.default.state.clips.length-new_position<_ContextualClipsStore2.default.state.default_page_size;if(load_prev_page){dispatch_options.loaded_prev_clips=true;this.loadContextualClips(original_clip_id,clip_id,_ContextualClipsStore2.default.state.current_page,stream_id,stream_pos,_ContextualClipsStore2.default.state.request_id,dispatch_options)}else if(load_next_page){dispatch_options.loaded_more_clips=true;this.loadContextualClips(original_clip_id,clip_id,_ContextualClipsStore2.default.state.current_page,stream_id,stream_pos,_ContextualClipsStore2.default.state.request_id,dispatch_options)}else{_AppDispatcher2.default.dispatch(dispatch_options)}}this.loadStatCounts(clip_id);if(is_owner){this.loadStats(clip_id)}},logStreamPlay:function logStreamPlay(clip_id,session_id){var stream=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};_VimeoApp2.default.clip(clip_id).post("log_stream_play",{session_id:session_id,stream_id:stream.id,stream_pos:stream.pos,request_id:stream.request_id}).then(function(response){return response.json()}).then(function(json_response){if(json_response.success){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.CONTEXTUAL_CLIPS_PLAY_LOG_SUCCESS})}}).catch(function(error){_AppDispatcher2.default.logError(error)})},acceptGroupClip:function acceptGroupClip(group_id,clip_id){_VimeoApp2.default.group(group_id).videos(clip_id).post("approve_item").then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.GROUP_PENDING_STATE_RESOLVED})})},rejectGroupClip:function rejectGroupClip(group_id,clip_id){_VimeoApp2.default.group(group_id).videos(clip_id).post("delete_item").then(function(response){return response.json()}).then(function(json_response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.GROUP_PENDING_STATE_RESOLVED})})},followUser:function followUser(user_id){_VimeoApp2.default.user(user_id).post("toggle_follow").then(function(response){if((0,_RateLimit.isRateLimited)(response.status)){return(0,_RateLimit.openRateLimitModal)("follow")}if(response.ok){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.FOLLOW_USER,user_id:user_id})}}).catch(function(error){_AppDispatcher2.default.logError(error)});window._gtm.push({event:"follow_user_click"})},unfollowUser:function unfollowUser(user_id){_VimeoApp2.default.user(user_id).post("toggle_follow").then(function(response){if(response.ok){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.UNFOLLOW_USER,user_id:user_id})}}).catch(function(error){_AppDispatcher2.default.logError(error)})},connectSocialCommenting:function connectSocialCommenting(social_provider){var social_connection_window=window.open("/settings/apps?action=connect&service="+social_provider,"social_connection_window","location=yes,resizable=yes,scrollbars=yes,top=0,left=0,height=620,width=670");var social_connection_window_interval=setInterval(function(){if(!social_connection_window||social_connection_window.self===null){clearInterval(social_connection_window_interval);return}var is_popup_on_vimeo=true;try{is_popup_on_vimeo=social_connection_window.location.origin===window.self.location.origin}catch(x){is_popup_on_vimeo=false}if(!is_popup_on_vimeo){return}clearInterval(social_connection_window_interval);social_connection_window.addEventListener("message",function(e){var message_origin=e.origin||e.originalEvent.origin;if(message_origin!==location.origin){return}var _JSON$parse=JSON.parse(e.data),action_type=_JSON$parse.action_type,app_name=_JSON$parse.app_name;if(action_type===_ClipActionTypes2.default.SOCIAL_APP_CONNECTED){_AppDispatcher2.default.dispatch({action_type:action_type,app_name:app_name})}social_connection_window.close()})},1e3)},toggleSocialCommenting:function toggleSocialCommenting(user_id,social_provider,do_enable){_VimeoApp2.default.user(user_id).settings.apps.post("modify",{service:social_provider,publish_action_comment:do_enable})},logPromoImpression:function logPromoImpression(cid,cids,pcids,stream_type,stream_id,request_id){var data={cid:cid,cids:cids,pcids:pcids,context:stream_type,stream:stream_id,request_id:request_id};_VimeoApp2.default.clip(cid).post("log_promo_impression",data).then(function(response){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.CONTEXTUAL_CLIPS_IMPRESSION_LOG})}).catch(function(error){_AppDispatcher2.default.logError(error)})}};function _handleHashChange(e){history.replaceState(window._last_page_state,null)}function _handlePopState(e){if(e.state===null){if(location.pathname===_current_pathname){return}}ClipActions.updatePageData(e.state,{track_page_view:true,initial_page_load:false})}function _handleCountdownInterrupt(e){var LEFT_MOUSE_BUTTON=0;if(!e.defaultPrevented&&e.button===LEFT_MOUSE_BUTTON){ClipActions.pauseCountdownTimer()}}function _handleError(e){_AppDispatcher2.default.logError(e.error)}function _getContext(){var path_parts=location.pathname.split("/").filter(function(path){return path!=="pwnd"});path_parts.shift();switch(path_parts[0]){case"groups":return{type:"group",id:path_parts[1]};case"album":return{type:"album",id:path_parts[1]}}return null}function _getUpdatedPathname(current_pathname,clip_id){var path_parts=current_pathname.split("/").filter(function(path){return path!=="pwnd"});path_parts[path_parts.length-1]=clip_id;return path_parts.join("/")}function _removeAutoplayParameter(page_data){var current_url=window.location.href;var formatted_url=(0,_UrlUtils.removeUrlParameters)(current_url,"autoplay");history.replaceState(page_data,null,formatted_url);window._last_page_state=page_data}function _determineOutroSurvey(page_data){var survey_disabled=$.cookie(_ClipStorageKeys2.default.OUTRO_SURVEY_DISABLED);var is_public_clip=page_data.clip.privacy.type==="anybody";var is_mature_clip=page_data.content_rating&&page_data.content_rating.type==="explicit";if(!survey_disabled&&is_public_clip&&!is_mature_clip){if(Math.random()*100<=OUTRO_SURVEY_PERCENTAGE){page_data.show_survey=true}}return page_data}function _determineOutroType(page_data){var outro_type=window.ABLincoln.getTest("DesktopOutro").get("outrotype","current");if(outro_type==="new"){page_data.show_new_outro=true}return page_data}function _determineOverrideStream(page_data){var new_override_stream=local_storage.get(_ClipStorageKeys2.default.OVERRIDE_STREAM);if(new_override_stream){local_storage.remove(_ClipStorageKeys2.default.OVERRIDE_STREAM);new_override_stream.clip_id=page_data.clip.id;session_storage.set(_ClipStorageKeys2.default.OVERRIDE_STREAM,new_override_stream);page_data.stream.id=new_override_stream.stream_id;if(new_override_stream.stream_pos){page_data.stream.pos=new_override_stream.stream_pos}}else{var existing_override_stream=session_storage.get(_ClipStorageKeys2.default.OVERRIDE_STREAM);if(existing_override_stream){if(existing_override_stream.clip_id===page_data.clip.id){page_data.stream.id=existing_override_stream.stream_id;if(existing_override_stream.stream_pos){page_data.stream.pos=existing_override_stream.stream_pos}}else{session_storage.remove(_ClipStorageKeys2.default.OVERRIDE_STREAM)}}}return page_data}window.addEventListener("hashchange",_handleHashChange);window.addEventListener("popstate",_handlePopState);window.addEventListener("error",_handleError);exports.default=ClipActions;window.___ClipActions=ClipActions;module.exports=exports["default"]},function(module,exports){"use strict";function ToObject(val){if(val==null){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(val)}module.exports=Object.assign||function(target,source){var from;var keys;var to=ToObject(target);for(var s=1;s<arguments.length;s++){from=arguments[s];keys=Object.keys(Object(from));for(var i=0;i<keys.length;i++){to[keys[i]]=from[keys[i]]}}return to}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _NullStorage=__webpack_require__(11);var _NullStorage2=_interopRequireDefault(_NullStorage);var _StorageUtils=__webpack_require__(12);var _StorageUtils2=_interopRequireDefault(_StorageUtils);var _SerializeUtils=__webpack_require__(13);var _SerializeUtils2=_interopRequireDefault(_SerializeUtils);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var LocalStorage=function(){function LocalStorage(){_classCallCheck(this,LocalStorage);if(!_StorageUtils2.default.isLocalStorageSupported()){return new _NullStorage2.default}}_createClass(LocalStorage,[{key:"get",value:function get(key){var data=localStorage.getItem(key);return _SerializeUtils2.default.unserialize(data)}},{key:"set",value:function set(key,value){var data=_SerializeUtils2.default.serialize(value);return localStorage.setItem(key,data)}},{key:"remove",value:function remove(key){return localStorage.removeItem(key)}}]);return LocalStorage}();exports.default=LocalStorage;module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var NullStorage=function(){function NullStorage(){_classCallCheck(this,NullStorage);console.log("NullStorage instantiated")}_createClass(NullStorage,[{key:"get",value:function get(key){return}},{key:"set",value:function set(key,value){return}},{key:"remove",value:function remove(key){return}}]);return NullStorage}();exports.default=NullStorage;module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var StorageUtils=function(){function StorageUtils(){_classCallCheck(this,StorageUtils)}_createClass(StorageUtils,null,[{key:"isLocalStorageSupported",value:function isLocalStorageSupported(){if((typeof localStorage==="undefined"?"undefined":_typeof(localStorage))==="object"){try{localStorage.setItem("localStorage",1);localStorage.removeItem("localStorage");return true}catch(e){var msg='Your web browser does not support storing settings locally.\n                In Safari, the most common cause of this is using "Private Browsing Mode".\n                Some settings may not save or some features may not work properly for you';console.info(msg);return false}}}},{key:"isSessionStorageSupported",value:function isSessionStorageSupported(){if((typeof sessionStorage==="undefined"?"undefined":_typeof(sessionStorage))==="object"){try{sessionStorage.setItem("session",1);sessionStorage.removeItem("session");return true}catch(e){var msg='Your web browser does not support storing settings locally.\n                In Safari, the most common cause of this is using "Private Browsing Mode".\n                Some settings may not save or some features may not work properly for you';console.info(msg);return false}}}}]);return StorageUtils}();exports.default=StorageUtils;module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var SerializeUtils=function(){function SerializeUtils(){_classCallCheck(this,SerializeUtils)}_createClass(SerializeUtils,null,[{key:"serialize",value:function serialize(data){return JSON.stringify(data)}},{key:"unserialize",value:function unserialize(data){return JSON.parse(data)}}]);return SerializeUtils}();exports.default=SerializeUtils;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _NullStorage=__webpack_require__(11);var _NullStorage2=_interopRequireDefault(_NullStorage);var _StorageUtils=__webpack_require__(12);var _StorageUtils2=_interopRequireDefault(_StorageUtils);var _SerializeUtils=__webpack_require__(13);var _SerializeUtils2=_interopRequireDefault(_SerializeUtils);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var SessionStorage=function(){function SessionStorage(){_classCallCheck(this,SessionStorage);if(!_StorageUtils2.default.isSessionStorageSupported()){return new _NullStorage2.default}}_createClass(SessionStorage,[{key:"get",value:function get(key){var data=sessionStorage.getItem(key);return _SerializeUtils2.default.unserialize(data)}},{key:"set",value:function set(key,value){var data=_SerializeUtils2.default.serialize(value);return sessionStorage.setItem(key,data)}},{key:"remove",value:function remove(key){return sessionStorage.removeItem(key)}}]);return SessionStorage}();exports.default=SessionStorage;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _flux=__webpack_require__(16);var _history=[];var _dispatcher=new _flux.Dispatcher;var AppDispatcher={_clearDispatchHistory:function _clearDispatchHistory(){_history=[]},register:function register(callback){return _dispatcher.register(callback)},unregister:function unregister(id){return _dispatcher.unregister(id)},waitFor:function waitFor(ids){return _dispatcher.waitFor(ids)},dispatch:function dispatch(payload){var enable_data_history=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(enable_data_history){_history.push(payload)}else if("action_type"in payload){_history.push({action_type:payload.action_type})}return _dispatcher.dispatch(payload)},isDispatching:function isDispatching(){return _dispatcher.isDispatching()},getDispatchHistory:function getDispatchHistory(){return _history},getLast:function getLast(){return _history[_history.length-1]},logError:function logError(error){var history=this.getDispatchHistory();if(!history.length||!error){return}var app_name=window.__app_name__;var log_details={app_name:typeof app_name!=="undefined"?app_name:null,error:{message:error.message,stack:error.stack.toString()},history:history,url:document.location.href,referer:document.referer,useragent:navigator.userAgent};var img=new Image;img.src="/log/js_event_history?log_data="+encodeURIComponent(JSON.stringify(log_details));this._clearDispatchHistory();console.warn(error);console.warn(error.stack)}};window.AppDispatcher=AppDispatcher;exports.default=AppDispatcher;module.exports=exports["default"]},function(module,exports,__webpack_require__){module.exports.Dispatcher=__webpack_require__(17)},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var invariant=__webpack_require__(18);var _prefix="ID_";var Dispatcher=function(){function Dispatcher(){_classCallCheck(this,Dispatcher);this._callbacks={};this._isDispatching=false;this._isHandled={};this._isPending={};this._lastID=1}Dispatcher.prototype.register=function register(callback){var id=_prefix+this._lastID++;this._callbacks[id]=callback;return id};Dispatcher.prototype.unregister=function unregister(id){!this._callbacks[id]?false?invariant(false,"Dispatcher.unregister(...): `%s` does not map to a registered callback.",id):invariant(false):undefined;delete this._callbacks[id]};Dispatcher.prototype.waitFor=function waitFor(ids){!this._isDispatching?false?invariant(false,"Dispatcher.waitFor(...): Must be invoked while dispatching."):invariant(false):undefined;for(var ii=0;ii<ids.length;ii++){var id=ids[ii];if(this._isPending[id]){!this._isHandled[id]?false?invariant(false,"Dispatcher.waitFor(...): Circular dependency detected while "+"waiting for `%s`.",id):invariant(false):undefined;continue}!this._callbacks[id]?false?invariant(false,"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",id):invariant(false):undefined;this._invokeCallback(id)}};Dispatcher.prototype.dispatch=function dispatch(payload){!!this._isDispatching?false?invariant(false,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."):invariant(false):undefined;this._startDispatching(payload);try{for(var id in this._callbacks){if(this._isPending[id]){continue}this._invokeCallback(id)}}finally{this._stopDispatching()}};Dispatcher.prototype.isDispatching=function isDispatching(){
return this._isDispatching};Dispatcher.prototype._invokeCallback=function _invokeCallback(id){this._isPending[id]=true;this._callbacks[id](this._pendingPayload);this._isHandled[id]=true};Dispatcher.prototype._startDispatching=function _startDispatching(payload){for(var id in this._callbacks){this._isPending[id]=false;this._isHandled[id]=false}this._pendingPayload=payload;this._isDispatching=true};Dispatcher.prototype._stopDispatching=function _stopDispatching(){delete this._pendingPayload;this._isDispatching=false};return Dispatcher}();module.exports=Dispatcher},function(module,exports,__webpack_require__){"use strict";var invariant=function(condition,format,a,b,c,d,e,f){if(false){if(format===undefined){throw new Error("invariant requires an error message argument")}}if(!condition){var error;if(format===undefined){error=new Error("Minified exception occurred; use the non-minified dev environment "+"for the full error message and additional helpful warnings.")}else{var args=[a,b,c,d,e,f];var argIndex=0;error=new Error("Invariant Violation: "+format.replace(/%s/g,function(){return args[argIndex++]}))}error.framesToPop=1;throw error}};module.exports=invariant},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var removeUrlParameters=exports.removeUrlParameters=function removeUrlParameters(url){for(var _len=arguments.length,unwanted_parameters=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){unwanted_parameters[_key-1]=arguments[_key]}var query_string=url.indexOf("?")!==-1?url.split("?")[1]:"";var new_url=url.split("?")[0];if(query_string){var parameters=query_string.split("&");for(var i=parameters.length-1;i>=0;i--){var key=parameters[i].split("=")[0];if(unwanted_parameters.indexOf(key)>-1){parameters.splice(i,1)}}if(parameters.length){new_url=new_url+"?"+parameters.join("&")}}return new_url}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _AppControllerService=__webpack_require__(21);var _AppControllerService2=_interopRequireDefault(_AppControllerService);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var VimeoApp={activity:function activity(){return new _AppControllerService2.default("/activity/json",{mark_seen:function mark_seen(activity_id){return new _AppControllerService2.default("/activity/json/mark_seen/"+activity_id)},mark_old:function mark_old(activity_id){return new _AppControllerService2.default("/activity/json/mark_old/"+activity_id)}})},album:function album(album_id){return new _AppControllerService2.default("/album/"+album_id,{videos:function videos(clip_id){return new _AppControllerService2.default("/album/"+album_id+"/video/"+clip_id)}})},category:function category(category_name){return new _AppControllerService2.default("/categories/"+category_name)},channel:function channel(channel_name){return new _AppControllerService2.default("/channels/"+channel_name)},clip:function clip(clip_id){return new _AppControllerService2.default("/"+clip_id,{settings:new _AppControllerService2.default("/"+clip_id+"/settings",{embed:new _AppControllerService2.default("/manage/"+clip_id+"/embed")})})},explore_data:new _AppControllerService2.default("/explore_data"),exception_video_content:new _AppControllerService2.default("/_exception_video_content"),forgot_password:new _AppControllerService2.default("/forgot_password"),forums:new _AppControllerService2.default("/forums"),group:function group(group_id){return new _AppControllerService2.default("/groups/"+group_id,{videos:function videos(clip_id){return new _AppControllerService2.default("/groups/"+group_id+"/videos/"+clip_id)}})},help:new _AppControllerService2.default("/help"),history:new _AppControllerService2.default("/history"),join:new _AppControllerService2.default("/join"),log_in:new _AppControllerService2.default("/log_in"),log_out:new _AppControllerService2.default("/log_out"),messages:new _AppControllerService2.default("/messages"),multiplex:new _AppControllerService2.default("/multiplexbeta"),ondemand:function ondemand(vod_id){return new _AppControllerService2.default("/ondemand/"+vod_id,{details:function details(clip_id){return new _AppControllerService2.default("/ondemand/"+vod_id+"/details/"+clip_id+"/json")},player_config:function player_config(clip_id){return new _AppControllerService2.default("/ondemand/"+vod_id+"/player_config/"+(clip_id?clip_id:""))},player_config_group:function player_config_group(group_id){return new _AppControllerService2.default("/ondemand/"+vod_id+"/player_config/season/"+(group_id?group_id:""))},download_urls:function download_urls(){return new _AppControllerService2.default("/ondemand/"+vod_id+"/downloads/json")},menus:function menus(){return new _AppControllerService2.default("/ondemand/"+vod_id+"/menus/json")},help:new _AppControllerService2.default("/ondemand/"+vod_id+"/help"),container_stats_dashboard:new _AppControllerService2.default("/ondemand/"+vod_id+"/container_stats_dashboard",{save_open_default:new _AppControllerService2.default("/ondemand/"+vod_id+"/container_stats_dashboard/save_open_default"),save_view_mode:new _AppControllerService2.default("/ondemand/"+vod_id+"/container_stats_dashboard/save_view_mode")})})},ondemand_settings:function ondemand_settings(vod_id){return{appearance:function appearance(){return new _AppControllerService2.default("/ondemand/"+vod_id+"/settings/appearance")},distribution:function distribution(){return new _AppControllerService2.default("/ondemand/"+vod_id+"/settings/distribution")},videos:function videos(){return new _AppControllerService2.default("/ondemand/"+vod_id+"/settings/videos")}}},ondemand_updates:function ondemand_updates(vod_id){return new _AppControllerService2.default("/ondemand_updates/"+vod_id,{start_sign_up:function start_sign_up(){return new _AppControllerService2.default("/ondemand_updates/"+vod_id+"/start_sign_up")},send_verification:function send_verification(subscription_id_key){return new _AppControllerService2.default("/ondemand_updates/send_verification/"+subscription_id_key)}})},search:new _AppControllerService2.default("/search"),stats:new _AppControllerService2.default("/stats"),store:new _AppControllerService2.default("/store",{ondemand:new _AppControllerService2.default("/store/ondemand",{apply_promo_code:new _AppControllerService2.default("/store/ondemand/apply_promo_code"),cart_fields:new _AppControllerService2.default("/store/ondemand/cart_fields"),clear_promo_code:new _AppControllerService2.default("/store/ondemand/clear_promo_code"),consent_to_updates:new _AppControllerService2.default("/store/receipt/ondemand/consent_to_updates"),payment_details:new _AppControllerService2.default("/store/ondemand/payment_details")})}),tools:new _AppControllerService2.default("/tools"),upload:new _AppControllerService2.default("/upload"),user:function user(user_id){return new _AppControllerService2.default("/user"+user_id,{settings:new _AppControllerService2.default("/settings",{apps:new _AppControllerService2.default("/settings/apps"),update_hero:new _AppControllerService2.default("/settings/profile/hero"),embed:new _AppControllerService2.default("/settings/videos/embed")}),following:new _AppControllerService2.default("/user"+user_id+"/following"),feed_manager:new _AppControllerService2.default("/feedmanager"),profile:new _AppControllerService2.default("/user"+user_id+"/profile"),search_videos:new _AppControllerService2.default("/user"+user_id)})},videoManager:function videoManager(){return new _AppControllerService2.default("/manage/videos")},videoReview:function videoReview(reviewUrl){return new _AppControllerService2.default(reviewUrl)},watch:new _AppControllerService2.default("/watch"),watchlater:new _AppControllerService2.default("/watchlater")};exports.default=VimeoApp;window.VimeoApp=VimeoApp;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();exports.handleJsonError=handleJsonError;var _objectAssign=__webpack_require__(9);var _objectAssign2=_interopRequireDefault(_objectAssign);var _SerializeObject=__webpack_require__(22);var _SerializeObject2=_interopRequireDefault(_SerializeObject);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function handleJsonError(response){if(response.ok){return response.json()}return response.json().then(function(error){throw error})}var AppControllerService=function(){function AppControllerService(uri){var child_endpoints=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,AppControllerService);this._uri=uri;for(var endpoint in child_endpoints){this[endpoint]=child_endpoints[endpoint]}}_createClass(AppControllerService,[{key:"get",value:function get(action_name,params,headers){var query_parameters=action_name?"action="+action_name:"";if(params){query_parameters=query_parameters+"&"+(0,_SerializeObject2.default)(params)}var uri=this._uri+"?"+query_parameters;var default_headers={"X-Requested-With":"XMLHttpRequest"};return fetch(uri,{method:"GET",credentials:"include",headers:(0,_objectAssign2.default)({},default_headers,headers)})}},{key:"getJsonp",value:function getJsonp(action_name,params,host){if(!window.jQuery){throw new Error("Only jquery is supported")}var query_parameters=action_name?"action="+action_name:"";if(params){query_parameters=query_parameters+"&"+(0,_SerializeObject2.default)(params)}var uri=""+host+this._uri+"?"+query_parameters;var fetchPromise=new Promise(function(resolve,reject){$.ajax({url:uri,dataType:"jsonp",method:"GET"}).always(function(data){resolve({ok:true,json:function json(){return Promise.resolve(data)}})})});return fetchPromise}},{key:"post",value:function post(action_name,data,headers){var params=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};if(action_name){params=(0,_objectAssign2.default)({},params,{action:action_name})}var uri=this._uri+"?"+(0,_SerializeObject2.default)(params);var post_data=(0,_objectAssign2.default)({},data,{token:vimeo.xsrft});var default_headers={"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","X-Requested-With":"XMLHttpRequest"};return fetch(uri,{method:"POST",credentials:"include",headers:(0,_objectAssign2.default)({},default_headers,headers),body:(0,_SerializeObject2.default)(post_data)})}}]);return AppControllerService}();exports.default=AppControllerService},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function serialize(object,base){var query_string=[],result=void 0;for(var key in object){if(object.hasOwnProperty(key)){var value=object[key];if(base){key=base+"["+key+"]"}switch(Object.prototype.toString.call(value)){case"[object Object]":result=serialize(value,key);break;case"[object Array]":var temp_qs={};if(value.length===0){value=null}else{for(var i=0,limit=value.length;i<limit;i++){temp_qs[i]=value[i]}result=serialize(temp_qs,key)}break;default:result=key+"="+encodeURIComponent(value)}if(value!==null){query_string.push(result)}}}return query_string.join("&")}exports.default=serialize;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _keymirror=__webpack_require__(24);var _keymirror2=_interopRequireDefault(_keymirror);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var ClipActionTypes=(0,_keymirror2.default)({PAGE_LOAD_ERROR:null,PAGE_LOAD_SUCCESS:null,CLIP_PAGE_COUNTDOWN_START:null,CLIP_PAGE_COUNTDOWN_PAUSE:null,CLIP_PAGE_COUNTDOWN_CANCEL:null,CLIP_PAGE_COUNTDOWN_COMPLETE:null,CLIP_PAGE_COUNTDOWN_MOUSEOUT:null,CLIP_PAGE_MINIBAR_TOGGLED:null,BYPASS_MATURE_CONTENT_FILTER:null,STATUS_UPDATE:null,LIGHTBOX_OPEN:null,LIGHTBOX_CLOSE:null,SHARE_OPEN:null,DOWNLOAD_CONFIG_LOAD_SUCCESS:null,DOWNLOAD_OPEN:null,DOWNLOAD_DEFROST_REQUESTED:null,COLLECTIONS_LOAD_SUCCESS:null,COLLECTION_OPEN:null,COLLECTION_CREATE:null,COLLECTION_ADD:"add",COLLECTION_REMOVE:"remove",GROUP_PENDING_STATE_RESOLVED:null,FLAG_OPEN:null,FLAG_ERROR:null,FLAG_SUCCESS:null,FLAG_CANCEL:null,MORE_INFO_OPEN:null,MORE_INFO_LOAD_SUCCESS:null,PHOTOS_LOAD_SUCCESS:null,CONTEXTUAL_CLIPS_PAGE_LOAD_REQUESTED:null,CONTEXTUAL_CLIPS_PAGE_LOAD_SUCCESS:null,CONTEXTUAL_CLIPS_PLAY_LOG_SUCCESS:null,CONTEXTUAL_CLIPS_MOVE:null,CONTEXTUAL_CLIPS_IMPRESSION_LOG:null,RECOMMENDATION_REMOVE_SUCCESS:null,CREDIT_REMOVE_SUCCESS:null,REPLAY:null,HIDE_OUTRO:null,HIDE_SURVEY:null,CONTINUOUS_PLAY_TOGGLED:null,PLAYER_AREA_HOVER_IN:null,PLAYER_AREA_HOVER_OUT:null,PLAYER_CONFIG_UPDATED:null,STATS_LOAD_SUCCESS:null,STATS_LOAD_ERROR:null,STAT_COUNTS_LOAD_SUCCESS:null,NOTIFICATIONS_LOAD_SUCCESS:null,DISMISS_NOTIFICATION:null,FOLLOW_USER:null,UNFOLLOW_USER:null,SOCIAL_APP_CONNECTED:null});exports.default=ClipActionTypes;module.exports=exports["default"]},function(module,exports){"use strict";var keyMirror=function(obj){var ret={};var key;if(!(obj instanceof Object&&!Array.isArray(obj))){throw new Error("keyMirror(...): Argument must be an object.")}for(key in obj){if(!obj.hasOwnProperty(key)){continue}ret[key]=key}return ret};module.exports=keyMirror},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ContentModalTypes={COLLECTION:"collection_modal",DOWNLOAD:"download_modal",FLAG:"flag_modal",MORE_INFO:"more_info_modal",SHARE:"share_modal",UNVERIFIED:"unverified"};exports.default=ContentModalTypes;module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var PlayerActionTypes={READY:"player_ready",PLAY:"player_play",PLAY_PROGRESS:"player_play_progress",PAUSE:"player_pause",FINISH:"player_finish",RESET_PLAYER:"player_reset_player",SET_LIKE:"player_set_like",LIKED:"player_liked",UNLIKED:"player_unliked",SET_WATCH_LATER:"player_set_watch_later",ADDED_TO_WATCH_LATER:"player_added_to_watch_later",REMOVED_FROM_WATCH_LATER:"player_removed_from_watch_later",SHARE:"player_share",LOGIN:"player_login",VOD:"player_vod",COLLECTIONS:"player_collections",ENTER_FULLSCREEN:"player_enter_fullscreen",EXIT_FULLSCREEN:"player_exit_fullscreen",SET_CURRENT_TIME:"player_set_current_time",INTERRUPT_PLAYBACK:"player_interrupt_playback",RESUME_PLAYBACK:"player_resume_playback"};exports.default=PlayerActionTypes;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _keymirror=__webpack_require__(24);var _keymirror2=_interopRequireDefault(_keymirror);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var CommentActionTypes=(0,_keymirror2.default)({COMMENT_ADDED:null,COMMENT_EDITED:null,COMMENT_DELETED:null,COMMENT_SPAMMED:null,COMMENT_PAGE_LOAD_START:null,COMMENT_PAGE_LOAD_ERROR:null,COMMENT_PAGE_LOAD_SUCCESS:null,COMMENT_SET_ACTIVE:null,COMMENT_DEEP_LINK_LOAD_START:null,COMMENT_DEEP_LINK_LOAD_SUCCESS:null,NEW_COMMENT_VALUE_CHANGE:null});exports.default=CommentActionTypes;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _objectAssign=__webpack_require__(9);var _objectAssign2=_interopRequireDefault(_objectAssign);var _fluxStore=__webpack_require__(29);var _fluxStore2=_interopRequireDefault(_fluxStore);var _AppDispatcher=__webpack_require__(15);var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _ClipActionTypes=__webpack_require__(23);var _ClipActionTypes2=_interopRequireDefault(_ClipActionTypes);var _PlayerActionTypes=__webpack_require__(26);var _PlayerActionTypes2=_interopRequireDefault(_PlayerActionTypes);var _ClipStatuses=__webpack_require__(32);var ClipStatus=_interopRequireWildcard(_ClipStatuses);var _CollectionTypes=__webpack_require__(33);var _CollectionTypes2=_interopRequireDefault(_CollectionTypes);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var ClipStore=_fluxStore2.default.extend({dispatcher:_AppDispatcher2.default,state:{is_loading:true,minibar_visible:false,show_outro:false,show_new_outro:false,show_survey:false,survey_url:null,is_playback_complete:false,is_player_fullscreen:false,countdown_paused:false,countdown_paused_user:false,countdown_paused_mouseout:false,current_modal:null,contextual_clips_enabled:true},_logTimings:function _logTimings(timings){var group_name=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"Timings";var table_data=[];for(var i in timings){table_data.push({method:i,"duration (ms)":parseFloat((timings[i]*1e3).toFixed(2))})}if(typeof console.groupCollapsed==="function"&&typeof console.table==="function"){window["console"].groupCollapsed(group_name);window["console"].table(table_data);window["console"].groupEnd()}},_humanizeNumber:function _humanizeNumber(n){var n=n.toString(),n2;while(true){n2=n.replace(/(\d)(\d{3})($|,|\.)/g,"$1,$2$3");if(n===n2){break}n=n2}return n},_setCollectionState:function _setCollectionState(collection_state){var collection_type=collection_state.collection_type,collection_id=collection_state.collection_id,is_toggled=collection_state.is_toggled;var collections=this.state.collection_adder;if(!collections.enabled){return}var collection_array=null;switch(collection_type){case _CollectionTypes2.default.ALBUM:collection_array=collections.albums;break;case _CollectionTypes2.default.CHANNEL:collection_array=collections.channels;break;case _CollectionTypes2.default.GROUP:collection_array=collections.groups;break}collection_array.forEach(function(collection){if(collection.id===collection_id){collection.checked=is_toggled}})},_addCollection:function _addCollection(collection_type,collection_obj){var collections=this.state.collection_adder;if(!collections.enabled){return}switch(collection_type){case _CollectionTypes2.default.ALBUM:var existing_albums=collections.albums;var new_albums=[].concat.call(collection_obj,existing_albums);this.state.collection_adder.albums=new_albums;break;case _CollectionTypes2.default.CHANNEL:var existing_channels=collections.channels;var new_channels=[].concat.call(collection_obj,existing_channels);this.state.collection_adder.channels=new_channels;break;case _CollectionTypes2.default.GROUP:var existing_groups=collections.groups;var new_groups=[].concat.call(collection_obj,existing_groups);this.state.collection_adder.groups=new_groups;break}},_setCountdownPausedState:function _setCountdownPausedState(value){var _state=this.state,minibar_visible=_state.minibar_visible,countdown_paused_user=_state.countdown_paused_user;this.state.countdown_paused=minibar_visible||countdown_paused_user||value},_disableSurveyTemporarily:function _disableSurveyTemporarily(){$.cookie("disable_outro_survey",true,{expires:30,domain:vimeo.domain,path:"/"})},getState:function getState(){return this.state},isReady:function isReady(){return this.state.status===ClipStatus.READY},isProcessing:function isProcessing(){var status=this.state.status;if(status===null){return true}var clip_state=status.state;var processing_states=[ClipStatus.UPLOAD_IN_PROGRESS,ClipStatus.UPLOAD_COMPLETE,ClipStatus.TRANSCODE_PENDING,ClipStatus.TRANSCODE_STARTING,ClipStatus.TRANSCODE_ACTIVE,ClipStatus.TRANSCODE_FINISHING,ClipStatus.TRANSCODE_DONE];return processing_states.indexOf(clip_state)!==-1},hasError:function hasError(){var clip_state=this.state.status.state;var error_states=[ClipStatus.UPLOAD_ERROR_BLOCKED,ClipStatus.UPLOAD_ERROR_MOVE,ClipStatus.UPLOAD_INVALID_FILE,ClipStatus.UPLOAD_ERROR_QUOTA,ClipStatus.UPLOAD_ERROR_INCOMPLETE,ClipStatus.TRANSCODE_FAILED];return error_states.indexOf(clip_state)!==-1},onDispatcherAction:function onDispatcherAction(payload){switch(payload.action_type){case _ClipActionTypes2.default.PAGE_LOAD_SUCCESS:this.state=(0,_objectAssign2.default)({},payload.data,{is_loading:false,minibar_visible:false,show_outro:false,is_playback_complete:false,countdown_paused:false,countdown_paused_user:false,countdown_paused_mouseout:false});if(payload.data.timings){this._logTimings(payload.data.timings,"Back-End Timings")}this.emitChange();break;case _ClipActionTypes2.default.CONTEXTUAL_CLIPS_PAGE_LOAD_SUCCESS:this.state.contextual_clips_enabled=payload.total_clips>1;this.emitChange();break;case _ClipActionTypes2.default.COLLECTIONS_LOAD_SUCCESS:this.state.collection_adder=payload.data;this.emitChange();break;case _ClipActionTypes2.default.DOWNLOAD_CONFIG_LOAD_SUCCESS:this.state.download_config=payload.data;this.emitChange();break;case _ClipActionTypes2.default.CLIP_PAGE_MINIBAR_TOGGLED:this.state.minibar_visible=payload.minibar_visible;this._setCountdownPausedState(payload.minibar_visible);this.emitChange();break;case _PlayerActionTypes2.default.LIKED:case _PlayerActionTypes2.default.UNLIKED:this.state.clip.is_liked=payload.is_liked;var total_likes=this.state.stat_counts.total_likes;var like_count=total_likes.raw;if(like_count<9999){var new_total_likes_raw=void 0;var new_total_likes_formatted=void 0;if(payload.is_liked){new_total_likes_raw=like_count+1}else{new_total_likes_raw=like_count-1}new_total_likes_formatted=this._humanizeNumber(new_total_likes_raw);this.state.stat_counts.total_likes={formatted:new_total_likes_formatted,raw:new_total_likes_raw}}this.emitChange();break;case _ClipActionTypes2.default.FOLLOW_USER:this.state.owner.is_following=true;this.emitChange();break;case _ClipActionTypes2.default.UNFOLLOW_USER:this.state.owner.is_following=false;this.emitChange();break;case _ClipActionTypes2.default.STATUS_UPDATE:this.state.status=payload.data;this.emitChange();break;case _ClipActionTypes2.default.CONTINUOUS_PLAY_TOGGLED:this.state.countdown_paused_user=false;this.state.countdown_paused_mouseout=false;this._setCountdownPausedState(false);this.state.continuous_play_enabled=payload.continuous_play_enabled;this.emitChange();break;case _ClipActionTypes2.default.CLIP_PAGE_COUNTDOWN_START:this._setCountdownPausedState(false);this.emitChange();break;case _ClipActionTypes2.default.CLIP_PAGE_COUNTDOWN_PAUSE:this.state.countdown_paused_user=payload.user_initiated;this._setCountdownPausedState(true);this.emitChange();break;case _ClipActionTypes2.default.CLIP_PAGE_COUNTDOWN_MOUSEOUT:this.state.countdown_paused_mouseout=true;this.emitChange();break;case _ClipActionTypes2.default.BYPASS_MATURE_CONTENT_FILTER:this.state.content_block_status.is_blocked=false;this.state.content_block_status.continuous_play_enabled=true;this.emitChange();break;case _ClipActionTypes2.default.HIDE_OUTRO:this.state.is_playback_complete=false;this.state.show_outro=false;this.emitChange();break;case _ClipActionTypes2.default.HIDE_SURVEY:this.state.show_survey=false;this.emitChange();this._disableSurveyTemporarily();break;case _ClipActionTypes2.default.LIGHTBOX_OPEN:this.state.current_modal=payload.modal;this.emitChange();break;case _ClipActionTypes2.default.LIGHTBOX_CLOSE:this.state.current_modal=null;this.emitChange();break;case _ClipActionTypes2.default.REPLAY:case _PlayerActionTypes2.default.PLAY:if(this.state.is_playback_complete){this.state.countdown_paused=false;this.state.countdown_paused_user=false;this.state.countdown_paused_mouseout=false}this.state.show_outro=false;this.state.is_playback_complete=false;this.emitChange();break;case _PlayerActionTypes2.default.FINISH:this.state.show_outro=true;this.state.is_playback_complete=true;this.state.should_autoplay=false;this.emitChange();break;case _PlayerActionTypes2.default.ENTER_FULLSCREEN:this.state.is_player_fullscreen=true;this.emitChange();break;case _PlayerActionTypes2.default.EXIT_FULLSCREEN:this.state.is_player_fullscreen=false;this.emitChange();break;case _ClipActionTypes2.default.COLLECTION_CREATE:var collection_type=payload.collection_type,collection_obj=payload.collection_obj;this._addCollection(collection_type,collection_obj);this.emitChange();break;case _ClipActionTypes2.default.COLLECTION_ADD:case _ClipActionTypes2.default.COLLECTION_REMOVE:this._setCollectionState({collection_type:payload.collection_type,collection_id:payload.collection_id,is_toggled:payload.action_type===_ClipActionTypes2.default.COLLECTION_ADD});this.emitChange();break;case _ClipActionTypes2.default.PHOTOS_LOAD_SUCCESS:this.state.photos=payload.data;this.emitChange();break;case _ClipActionTypes2.default.MORE_INFO_LOAD_SUCCESS:this.state.tags=payload.data.tags;this.state.api_app=payload.data.api_app;this.emitChange();break;case _ClipActionTypes2.default.STAT_COUNTS_LOAD_SUCCESS:this.state.stat_counts=payload.data;this.emitChange();if(payload.data.timings){this._logTimings(payload.data.timings,"Stat Count Timings")}break;case _ClipActionTypes2.default.CREDIT_REMOVE_SUCCESS:var deleted_credit_id=payload.credit_id;var current_credits=this.state.credits.displayed_credits;var filtered_credits=current_credits.filter(function(credit){return credit.id!==deleted_credit_id});var stat_count=this.state.stat_counts.total_credits;var current_count=stat_count.raw;var filtered_count=current_count-1;this.state.credits.displayed_credits=filtered_credits;this.state.credits.total_credits=filtered_count;stat_count.formatted=filtered_count.toString();stat_count.raw=filtered_count;this.emitChange();break;case _ClipActionTypes2.default.GROUP_PENDING_STATE_RESOLVED:this.state.group_config.clip_is_pending=false;this.emitChange();break;case _ClipActionTypes2.default.NOTIFICATIONS_LOAD_SUCCESS:this.state.notifications=payload.data;this.emitChange();break;case _ClipActionTypes2.default.DISMISS_NOTIFICATION:this.state.notifications=this.state.notifications.reduce(function(notifs,notif){return notif.dismissal_key===payload.notification_id?notifs:notifs.concat(notif)},[]);this.emitChange();break;case _ClipActionTypes2.default.PLAYER_CONFIG_UPDATED:this.state.player=(0,_objectAssign2.default)({},this.state.player,payload.player_config);this.emitChange();break}}});window.___ClipStore=ClipStore;exports.default=ClipStore;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var EventEmitter=__webpack_require__(30).EventEmitter;var ObjectAssign=__webpack_require__(31);var CHANGE_EVENT="change";var FluxStore=ObjectAssign({},EventEmitter.prototype,{dispatchToken:undefined,registerDispatcher:function(Dispatcher){var callback=this.onDispatcherAction.bind(this);this.dispatchToken=Dispatcher.register(callback)},emitChange:function(){this.emit(CHANGE_EVENT)},addChangeListener:function(callback){this.on(CHANGE_EVENT,callback)},removeChangeListener:function(callback){this.removeListener(CHANGE_EVENT,callback)},extend:function(stuff){var newStore=ObjectAssign({},FluxStore,stuff);if(stuff.dispatcher){newStore.registerDispatcher(stuff.dispatcher)}delete newStore.extend;return newStore}});module.exports=FluxStore},function(module,exports){function EventEmitter(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");this._maxListeners=n;return this};EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(!this._events)this._events={};if(type==="error"){if(!this._events.error||isObject(this._events.error)&&!this._events.error.length){er=arguments[1];if(er instanceof Error){throw er}else{var err=new Error('Uncaught, unspecified "error" event. ('+er+")");err.context=er;throw err}}}handler=this._events[type];if(isUndefined(handler))return false;if(isFunction(handler)){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1);handler.apply(this,args)}}else if(isObject(handler)){args=Array.prototype.slice.call(arguments,1);listeners=handler.slice();len=listeners.length;for(i=0;i<len;i++)listeners[i].apply(this,args)}return true};EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener);if(!this._events[type])this._events[type]=listener;else if(isObject(this._events[type]))this._events[type].push(listener);else this._events[type]=[this._events[type],listener];if(isObject(this._events[type])&&!this._events[type].warned){if(!isUndefined(this._maxListeners)){m=this._maxListeners}else{m=EventEmitter.defaultMaxListeners}if(m&&m>0&&this._events[type].length>m){this._events[type].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[type].length);if(typeof console.trace==="function"){console.trace()}}}return this};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if(!isFunction(listener))throw TypeError("listener must be a function");var fired=false;function g(){this.removeListener(type,g);if(!fired){fired=true;listener.apply(this,arguments)}}g.listener=listener;this.on(type,g);return this};EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;list=this._events[type];length=list.length;position=-1;if(list===listener||isFunction(list.listener)&&list.listener===listener){delete this._events[type];if(this._events.removeListener)this.emit("removeListener",type,listener)}else if(isObject(list)){for(i=length;i-- >0;){if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}}if(position<0)return this;if(list.length===1){list.length=0;delete this._events[type]}else{list.splice(position,1)}if(this._events.removeListener)this.emit("removeListener",type,listener)}return this};EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[type])delete this._events[type];return this}if(arguments.length===0){for(key in this._events){if(key==="removeListener")continue;this.removeAllListeners(key)}this.removeAllListeners("removeListener");this._events={};return this}listeners=this._events[type];if(isFunction(listeners)){this.removeListener(type,listeners)}else if(listeners){while(listeners.length)this.removeListener(type,listeners[listeners.length-1])}delete this._events[type];return this};EventEmitter.prototype.listeners=function(type){var ret;if(!this._events||!this._events[type])ret=[];else if(isFunction(this._events[type]))ret=[this._events[type]];else ret=this._events[type].slice();return ret};EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;else if(evlistener)return evlistener.length;
}return 0};EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)};function isFunction(arg){return typeof arg==="function"}function isNumber(arg){return typeof arg==="number"}function isObject(arg){return typeof arg==="object"&&arg!==null}function isUndefined(arg){return arg===void 0}},function(module,exports){"use strict";var getOwnPropertySymbols=Object.getOwnPropertySymbols;var hasOwnProperty=Object.prototype.hasOwnProperty;var propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(val===null||val===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(val)}function shouldUseNative(){try{if(!Object.assign){return false}var test1=new String("abc");test1[5]="de";if(Object.getOwnPropertyNames(test1)[0]==="5"){return false}var test2={};for(var i=0;i<10;i++){test2["_"+String.fromCharCode(i)]=i}var order2=Object.getOwnPropertyNames(test2).map(function(n){return test2[n]});if(order2.join("")!=="0123456789"){return false}var test3={};"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter});if(Object.keys(Object.assign({},test3)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(err){return false}}module.exports=shouldUseNative()?Object.assign:function(target,source){var from;var to=toObject(target);var symbols;for(var s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from){if(hasOwnProperty.call(from,key)){to[key]=from[key]}}if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++){if(propIsEnumerable.call(from,symbols[i])){to[symbols[i]]=from[symbols[i]]}}}}return to}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var UNKNOWN=exports.UNKNOWN="unknown";var READY=exports.READY="ready";var UPLOAD_IN_PROGRESS=exports.UPLOAD_IN_PROGRESS="standby";var UPLOAD_ERROR_BLOCKED=exports.UPLOAD_ERROR_BLOCKED="blocked";var UPLOAD_ERROR_MOVE=exports.UPLOAD_ERROR_MOVE="internal_error";var UPLOAD_INVALID_FILE=exports.UPLOAD_INVALID_FILE="invalid_file";var UPLOAD_COMPLETE=exports.UPLOAD_COMPLETE="upload_complete";var UPLOAD_ERROR_QUOTA=exports.UPLOAD_ERROR_QUOTA="exceeds_quota";var UPLOAD_ERROR_INCOMPLETE=exports.UPLOAD_ERROR_INCOMPLETE="upload_incomplete";var TRANSCODE_PENDING=exports.TRANSCODE_PENDING="pending";var TRANSCODE_STARTING=exports.TRANSCODE_STARTING="starting";var TRANSCODE_ACTIVE=exports.TRANSCODE_ACTIVE="active";var TRANSCODE_FINISHING=exports.TRANSCODE_FINISHING="finishing";var TRANSCODE_FAILED=exports.TRANSCODE_FAILED="failed";var TRANSCODE_DONE=exports.TRANSCODE_DONE="done"},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var CollectionTypes={CHANNEL:"channel",GROUP:"group",ALBUM:"album"};exports.default=CollectionTypes;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _fluxStore=__webpack_require__(29);var _fluxStore2=_interopRequireDefault(_fluxStore);var _SessionStorage=__webpack_require__(14);var _SessionStorage2=_interopRequireDefault(_SessionStorage);var _AppDispatcher=__webpack_require__(15);var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _ClipActionTypes=__webpack_require__(23);var _ClipActionTypes2=_interopRequireDefault(_ClipActionTypes);var _ClipStorageKeys=__webpack_require__(7);var _ClipStorageKeys2=_interopRequireDefault(_ClipStorageKeys);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var storage=new _SessionStorage2.default;var ContextualClipsStore=_fluxStore2.default.extend({dispatcher:_AppDispatcher2.default,state:{original_clip_id:null,initial_load:true,play_logged:false,current_page:1,default_page_size:10,visible_size:10,adjacent_clips:null,stream_id:null,stream_pos:null,stream_type:null,request_id:null,current_clip_id:null,current_clip_position:0,clips:[],visible_clips:[],has_more:false,continuous_play_enabled:vimeo.clip_page_config.continuous_play_enabled,impression_data:null},getState:function getState(){return this.state},getPreviousClip:function getPreviousClip(){if(!this.state.adjacent_clips){return null}return this.state.adjacent_clips.prev},getNextClip:function getNextClip(){if(!this.state.adjacent_clips){return null}return this.state.adjacent_clips.next},getStream:function getStream(){return{id:this.state.stream_id,pos:this.state.stream_pos,type:this.state.stream_type,page:this.state.current_page||1,request_id:this.state.request_id}},getOriginalClip:function getOriginalClip(){return this.state.original_clip_id},onDispatcherAction:function onDispatcherAction(payload){switch(payload.action_type){case _ClipActionTypes2.default.CONTINUOUS_PLAY_TOGGLED:this.state.continuous_play_enabled=payload.continuous_play_enabled;this.emitChange();break;case _ClipActionTypes2.default.CONTEXTUAL_CLIPS_PAGE_LOAD_SUCCESS:this.state.initial_load=false;if(!payload.clips){this.emitChange();return}this.state.has_more=payload.has_more;this.state.adjacent_clips=payload.adjacent_clips;this.state.current_page=payload.page;this.state.stream_id=payload.stream_id;this.state.stream_pos=payload.stream_pos;this.state.stream_type=payload.stream_type;this.state.request_id=payload.request_id;if(payload.adjacent_clips&&payload.adjacent_clips.next){var thumbnail=payload.adjacent_clips.next.thumbnail;var tmp_image=new Image;var tmp_image_2x=new Image;tmp_image.src=thumbnail.src;tmp_image_2x.src=thumbnail.src_2x}if(this.state.original_clip_id===null&&payload.hasOwnProperty("original_clip_id")){this.state.original_clip_id=payload.original_clip_id}if(payload.page>1){var new_clips=this._removeExistingClips(payload.clips);this.state.clips=this.state.clips.concat(new_clips)}else{this.state.title=payload.title;this.state.clips=payload.clips;if(payload.adjacent_clips.prev){var new_prev_clips=this._removeExistingClips([payload.adjacent_clips.prev]);if(new_prev_clips.length){this.state.clips.unshift(payload.adjacent_clips.prev)}}this.state.clips.forEach(function(clip,index){if(clip.id===this.state.original_clip_id){this.state.current_clip_id=clip.id;this.state.current_clip_position=index}},this);this.state.default_page_size=payload.default_page_size}this.state.visible_size=this.state.clips.length-this.state.current_clip_position;if(this.state.visible_size<this.state.default_page_size){this.state.visible_size=this.state.default_page_size}this.state.visible_clips=this.state.clips.slice(this.state.current_clip_position,this.state.current_clip_position+this.state.visible_size);if(payload.page>1&&this.state.visible_size>this.state.default_page_size){this.state.impression_data={cids:[],pcids:[]};payload.clips.forEach(function(clip,index){if(clip.id===this.state.current_clip_id){return}this.state.impression_data.cids.push(clip.id);if(clip.is_promoted===1){this.state.impression_data.pcids.push(clip.id)}},this)}this.emitChange();break;case _ClipActionTypes2.default.CONTEXTUAL_CLIPS_PLAY_LOG_SUCCESS:this.state.play_logged=true;this.emitChange();break;case _ClipActionTypes2.default.CONTEXTUAL_CLIPS_MOVE:this.state.current_clip_id=payload.current_clip_id;if(payload.loaded_more_clips){this.state.has_more=payload.has_more;this.state.current_page=payload.page;this.state.stream_id=payload.stream_id;this.state.stream_pos=payload.stream_pos;this.state.request_id=payload.request_id;var _new_clips=this._removeExistingClips(payload.clips);this.state.clips=this.state.clips.concat(_new_clips)}if(payload.loaded_prev_clips){this.state.stream_id=payload.stream_id;this.state.stream_pos=payload.stream_pos;this.state.request_id=payload.request_id;var _new_clips2=[];for(var i=0;i<payload.clips.length;i++){var clip=payload.clips[i];if(clip.id===this.state.clips[0].id){break}_new_clips2.push(clip)}this.state.clips=_new_clips2.concat(this.state.clips);if(payload.adjacent_clips.prev){this.state.clips.unshift(payload.adjacent_clips.prev)}}this.state.clips.forEach(function(clip,index){if(clip.id===this.state.current_clip_id){this.state.adjacent_clips={prev:null,next:null};if(index-1>=0){this.state.adjacent_clips.prev=this.state.clips[index-1]}if(index+1<this.state.clips.length){this.state.adjacent_clips.next=this.state.clips[index+1]}}if(clip.id===this.state.current_clip_id){this.state.current_clip_position=index}},this);this.state.visible_clips=this.state.clips.slice(this.state.current_clip_position,this.state.current_clip_position+this.state.visible_size);var override_stream=storage.get(_ClipStorageKeys2.default.OVERRIDE_STREAM);if(override_stream){override_stream.clip_id=this.state.current_clip_id;override_stream.stream_pos=this.state.stream_pos;storage.set(_ClipStorageKeys2.default.OVERRIDE_STREAM,override_stream)}this.emitChange();break;case _ClipActionTypes2.default.CONTEXTUAL_CLIPS_IMPRESSION_LOG:this.state.impression_data=null;break}},_removeExistingClips:function _removeExistingClips(clips){var _this=this;return clips.filter(function(clip){for(var i=0;i<_this.state.clips.length;i++){var existing_clip=_this.state.clips[i];if(clip.id===existing_clip.id){return false}}return true})}});window.___ContextualClipsStore=ContextualClipsStore;exports.default=ContextualClipsStore;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _keymirror=__webpack_require__(24);var _keymirror2=_interopRequireDefault(_keymirror);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var CommentStates=(0,_keymirror2.default)({COMMENT_STATE_DEFAULT:null,COMMENT_STATE_REPLYING:null,COMMENT_STATE_EDITING:null,COMMENT_STATE_DELETING:null,COMMENT_STATE_FLAGGING:null});exports.default=CommentStates;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.openRateLimitModal=openRateLimitModal;exports.isRateLimited=isRateLimited;var _i18n=__webpack_require__(37);var _react=__webpack_require__(5);var FOLLOW_TITLE=(0,_i18n.translate)("Unable to follow");var FOLLOW_CONTENT=(0,_react.createElement)("div",{},(0,_i18n.translate)("You've followed too many people too quickly. Please wait a while before following more."));var COMMENT_TITLE=(0,_i18n.translate)("Unable to comment");var COMMENT_CONTENT=(0,_react.createElement)("div",{},(0,_i18n.translate)("You've commented on too many videos too quickly. Please wait a while before commenting again."));function openRateLimitModal(type){vimeo.Modal.create({content_handler:vimeo.Modal.ReactContentHandler,title:type==="follow"?FOLLOW_TITLE:COMMENT_TITLE,content:type==="follow"?FOLLOW_CONTENT:COMMENT_CONTENT,size:"small"})}function isRateLimited(statusCode){return statusCode===420||statusCode===429}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Copy=undefined;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.translate=translate;exports.arrayToJSX=arrayToJSX;exports.translateToJSX=translateToJSX;var _react=__webpack_require__(5);var _es6Symbol=__webpack_require__(38);var _es6Symbol2=_interopRequireDefault(_es6Symbol);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}__webpack_require__(56);function getKeyBasedOnArgs(phrase,plural){var pluralizations=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var singular_key=typeof pluralizations.singular!=="undefined";var plural_key=typeof pluralizations.plural!=="undefined";if(typeof plural!=="boolean"){return phrase}if(singular_key&&plural_key){return plural?pluralizations.plural:pluralizations.singular}if(singular_key){if(!plural){return pluralizations.singular}return phrase}if(plural_key){if(plural){return pluralizations.plural}return phrase}return phrase}function interpolateStringToArray(str,options){var split=str.split(/\{([\w_\/]+)\}/g);for(var i=1;i<split.length;i+=2){var replaceWith=options[split[i]];split[i]=replaceWith===null||replaceWith===undefined?"{"+split[i]+"}":replaceWith}return split.filter(function(str){return str!==""})}var Copy=exports.Copy={dict:{},translate:function translate(key,plural,replacements){var dict={};if(window.Copy){dict=window.Copy.dict}var str=dict[key];var translation=void 0;if((typeof str==="undefined"?"undefined":_typeof(str))!=="object"){translation=str}else if(plural){translation=str.plural}else{translation=str.singular}return translation},substitute:function substitute(string,object){if(typeof string.substitute==="function"){return string.substitute(object)}return string.replace(/\\?\{([^{}]+)\}/g,function(match,name){if(match.charAt(0)==="\\"){return match.slice(1)}if(object[name]!==null&&object[name]!==undefined){return object[name]}return""})}};function translate(phrase,replacements,plural,pluralizations){if(arguments.length===3&&typeof replacements==="boolean"&&(typeof plural==="undefined"?"undefined":_typeof(plural))==="object"){pluralizations=plural;plural=replacements;replacements=null}var key=getKeyBasedOnArgs(phrase,plural,pluralizations);var translated_text=Copy.translate(phrase,plural,replacements);if(translated_text&&replacements){return interpolateStringToArray(translated_text,replacements)}return translated_text||phrase}function arrayToJSX(translation){if(!Array.isArray(translation)){return translation}return translation.map(function(item,i){if(item.startsWith("</")){return null}if(i>0&&i<translation.length-1&&translation[i-1].startsWith("<")&&translation[i+1].startsWith("</")){return null}if(!item.match(/<[a-zA-Z](?:.*?[^?])?>/)){return item}var type=item.match(/<(\S*)\b/)[1];var inner_text=(item.match(/^<.*>(.*)<\/.*>$/)||translation.slice(i))[1];var props={key:i};var attributes=item.match(/(\b\w+(-\w+)*\b)\s*=\s*"([^"']*)"/g)||[];attributes.forEach(function(attribute){var _attribute$split=attribute.split("="),_attribute$split2=_slicedToArray(_attribute$split,2),key=_attribute$split2[0],value=_attribute$split2[1];key=key.replace(/class/g,"className");value=value.replace(/"|'/g,"")||"";props[key]=value});return(0,_react.createElement)(type,props,inner_text)})}function translateToJSX(phrase,replacements,plural){var translated_text=Copy.translate(phrase,plural,replacements);if(!replacements||!translated_text){return translated_text||phrase}var split=translated_text.split(/\{([\w_\/]+)\}/g),stringsReplaced="";for(var i=1;i<split.length;i+=2){var replaceWith=replacements[split[i]];stringsReplaced+=split[i-1];if(typeof replaceWith==="number"){replaceWith=replaceWith.toString()}if(typeof replaceWith==="string"&&!replaceWith.startsWith("<")){stringsReplaced+=replaceWith;continue}stringsReplaced+="{"+split[i]+"}"}stringsReplaced+=split[split.length-1];split=stringsReplaced.split(/\{([\w_\/]+)\}/g);var components=[];for(var _i=1;_i<split.length;_i+=2){var _replaceWith=replacements[split[_i]];if(_replaceWith===null||_replaceWith===undefined){components.push({text:"{"+split[_i]+"}"});continue}if(typeof _replaceWith==="string"){if(_replaceWith.startsWith("</")){continue}if(_replaceWith.startsWith("<")){var container=document.createElement("div");container.innerHTML=_replaceWith.replace(/([^\/])>\s*$/,"$1/>");var tag=container.firstChild;if(tag instanceof Element){_replaceWith={type:tag.nodeName,props:{},text:null};if(tag.attributes){for(var _i2=tag.attributes.length-1;_i2>=0;_i2--){var attrName=tag.attributes[_i2].name;if(attrName==="class"){attrName="className"}_replaceWith.props[attrName]=tag.attributes[_i2].value}}}}}if(split[_i-1]!==""){components.push({text:split[_i-1]})}_replaceWith.text=split[_i+1];components.push(_replaceWith)}var prevString=split[split.length-1];if(prevString!==""){components.push({text:prevString})}var hasElement=false;var translated=components.map(function(item,i){if(!item.type){return item.text}hasElement=true;if(!item.props.key){item.props.key=i}return(0,_react.createElement)(item.type,item.props,item.text)});return hasElement?translated:translated.join(" ")}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(39)()?Symbol:__webpack_require__(40)},function(module,exports){"use strict";module.exports=function(){var symbol;if(typeof Symbol!=="function")return false;symbol=Symbol("test symbol");try{String(symbol)}catch(e){return false}if(typeof Symbol.iterator==="symbol")return true;if(typeof Symbol.isConcatSpreadable!=="object")return false;if(typeof Symbol.iterator!=="object")return false;if(typeof Symbol.toPrimitive!=="object")return false;if(typeof Symbol.toStringTag!=="object")return false;if(typeof Symbol.unscopables!=="object")return false;return true}},function(module,exports,__webpack_require__){"use strict";var d=__webpack_require__(41),validateSymbol=__webpack_require__(54),create=Object.create,defineProperties=Object.defineProperties,defineProperty=Object.defineProperty,objPrototype=Object.prototype,NativeSymbol,SymbolPolyfill,HiddenSymbol,globalSymbols=create(null);if(typeof Symbol==="function")NativeSymbol=Symbol;var generateName=function(){var created=create(null);return function(desc){var postfix=0,name,ie11BugWorkaround;while(created[desc+(postfix||"")])++postfix;desc+=postfix||"";created[desc]=true;name="@@"+desc;defineProperty(objPrototype,name,d.gs(null,function(value){if(ie11BugWorkaround)return;ie11BugWorkaround=true;defineProperty(this,name,d(value));ie11BugWorkaround=false}));return name}}();HiddenSymbol=function Symbol(description){if(this instanceof HiddenSymbol)throw new TypeError("TypeError: Symbol is not a constructor");return SymbolPolyfill(description)};module.exports=SymbolPolyfill=function Symbol(description){var symbol;if(this instanceof Symbol)throw new TypeError("TypeError: Symbol is not a constructor");symbol=create(HiddenSymbol.prototype);description=description===undefined?"":String(description);return defineProperties(symbol,{__description__:d("",description),__name__:d("",generateName(description))})};defineProperties(SymbolPolyfill,{"for":d(function(key){if(globalSymbols[key])return globalSymbols[key];return globalSymbols[key]=SymbolPolyfill(String(key))}),keyFor:d(function(s){var key;validateSymbol(s);for(key in globalSymbols)if(globalSymbols[key]===s)return key}),hasInstance:d("",NativeSymbol&&NativeSymbol.hasInstance||SymbolPolyfill("hasInstance")),isConcatSpreadable:d("",NativeSymbol&&NativeSymbol.isConcatSpreadable||SymbolPolyfill("isConcatSpreadable")),iterator:d("",NativeSymbol&&NativeSymbol.iterator||SymbolPolyfill("iterator")),match:d("",NativeSymbol&&NativeSymbol.match||SymbolPolyfill("match")),replace:d("",NativeSymbol&&NativeSymbol.replace||SymbolPolyfill("replace")),search:d("",NativeSymbol&&NativeSymbol.search||SymbolPolyfill("search")),species:d("",NativeSymbol&&NativeSymbol.species||SymbolPolyfill("species")),split:d("",NativeSymbol&&NativeSymbol.split||SymbolPolyfill("split")),toPrimitive:d("",NativeSymbol&&NativeSymbol.toPrimitive||SymbolPolyfill("toPrimitive")),toStringTag:d("",NativeSymbol&&NativeSymbol.toStringTag||SymbolPolyfill("toStringTag")),unscopables:d("",NativeSymbol&&NativeSymbol.unscopables||SymbolPolyfill("unscopables"))});defineProperties(HiddenSymbol.prototype,{constructor:d(SymbolPolyfill),toString:d("",function(){return this.__name__})});defineProperties(SymbolPolyfill.prototype,{toString:d(function(){return"Symbol ("+validateSymbol(this).__description__+")"}),valueOf:d(function(){return validateSymbol(this)})});defineProperty(SymbolPolyfill.prototype,SymbolPolyfill.toPrimitive,d("",function(){return validateSymbol(this)}));defineProperty(SymbolPolyfill.prototype,SymbolPolyfill.toStringTag,d("c","Symbol"));defineProperty(HiddenSymbol.prototype,SymbolPolyfill.toStringTag,d("c",SymbolPolyfill.prototype[SymbolPolyfill.toStringTag]));defineProperty(HiddenSymbol.prototype,SymbolPolyfill.toPrimitive,d("c",SymbolPolyfill.prototype[SymbolPolyfill.toPrimitive]))},function(module,exports,__webpack_require__){"use strict";var assign=__webpack_require__(42),normalizeOpts=__webpack_require__(49),isCallable=__webpack_require__(50),contains=__webpack_require__(51),d;d=module.exports=function(dscr,value){var c,e,w,options,desc;if(arguments.length<2||typeof dscr!=="string"){options=value;value=dscr;dscr=null}else{options=arguments[2]}if(dscr==null){c=w=true;e=false}else{c=contains.call(dscr,"c");e=contains.call(dscr,"e");w=contains.call(dscr,"w")}desc={value:value,configurable:c,enumerable:e,writable:w};return!options?desc:assign(normalizeOpts(options),desc)};d.gs=function(dscr,get,set){var c,e,options,desc;if(typeof dscr!=="string"){options=set;set=get;get=dscr;dscr=null}else{options=arguments[3]}if(get==null){get=undefined}else if(!isCallable(get)){options=get;get=set=undefined}else if(set==null){set=undefined}else if(!isCallable(set)){options=set;set=undefined}if(dscr==null){c=true;e=false}else{c=contains.call(dscr,"c");e=contains.call(dscr,"e")}desc={get:get,set:set,configurable:c,enumerable:e};return!options?desc:assign(normalizeOpts(options),desc)}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(43)()?Object.assign:__webpack_require__(44)},function(module,exports){"use strict";module.exports=function(){var assign=Object.assign,obj;if(typeof assign!=="function")return false;obj={foo:"raz"};assign(obj,{bar:"dwa"},{trzy:"trzy"});return obj.foo+obj.bar+obj.trzy==="razdwatrzy"}},function(module,exports,__webpack_require__){"use strict";var keys=__webpack_require__(45),value=__webpack_require__(48),max=Math.max;module.exports=function(dest,src){var error,i,l=max(arguments.length,2),assign;dest=Object(value(dest));assign=function(key){try{dest[key]=src[key]}catch(e){if(!error)error=e}};for(i=1;i<l;++i){src=arguments[i];keys(src).forEach(assign)}if(error!==undefined)throw error;return dest}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(46)()?Object.keys:__webpack_require__(47)},function(module,exports){"use strict";module.exports=function(){try{Object.keys("primitive");return true}catch(e){return false}}},function(module,exports){"use strict";var keys=Object.keys;module.exports=function(object){return keys(object==null?object:Object(object))}},function(module,exports){"use strict";module.exports=function(value){if(value==null)throw new TypeError("Cannot use null or undefined");return value}},function(module,exports){"use strict";var forEach=Array.prototype.forEach,create=Object.create;var process=function(src,obj){var key;for(key in src)obj[key]=src[key]};module.exports=function(options){var result=create(null);forEach.call(arguments,function(options){if(options==null)return;process(Object(options),result)});return result}},function(module,exports){"use strict";module.exports=function(obj){return typeof obj==="function"}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(52)()?String.prototype.contains:__webpack_require__(53)},function(module,exports){"use strict";var str="razdwatrzy";module.exports=function(){if(typeof str.contains!=="function")return false;return str.contains("dwa")===true&&str.contains("foo")===false}},function(module,exports){"use strict";var indexOf=String.prototype.indexOf;module.exports=function(searchString){return indexOf.call(this,searchString,arguments[1])>-1}},function(module,exports,__webpack_require__){"use strict";var isSymbol=__webpack_require__(55);module.exports=function(value){if(!isSymbol(value))throw new TypeError(value+" is not a symbol");return value}},function(module,exports){"use strict";module.exports=function(x){return x&&(typeof x==="symbol"||x["@@toStringTag"]==="Symbol")||false}},function(module,exports){(function(globals){if(String.prototype.startsWith)return;var startsWith=function(searchString,position){position=position||0;return this.indexOf(searchString,position)===position};if(Object.defineProperty){try{Object.defineProperty(String.prototype,"startsWith",{value:startsWith,configurable:true,enumerable:false,writable:true})}catch(e){}}if(!String.prototype.startsWith){String.prototype.startsWith=startsWith}})(this);(function(globals){if(String.prototype.endsWith)return;var endsWith=function(searchString,position){var subjectString=this.toString();if(typeof position!=="number"||!isFinite(position)||Math.floor(position)!==position||position>subjectString.length){position=subjectString.length}position-=searchString.length;var lastIndex=subjectString.indexOf(searchString,position);return lastIndex!==-1&&lastIndex===position};if(Object.defineProperty){try{Object.defineProperty(String.prototype,"endsWith",{value:endsWith,configurable:true,enumerable:false,writable:true})}catch(e){}}if(!String.prototype.endsWith){String.prototype.endsWith=endsWith}})(this)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _autobindDecorator=__webpack_require__(58);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);var _AppDispatcher=__webpack_require__(15);var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _ClipActionTypes=__webpack_require__(23);var _ClipActionTypes2=_interopRequireDefault(_ClipActionTypes);var _ContentModalTypes=__webpack_require__(25);var _ContentModalTypes2=_interopRequireDefault(_ContentModalTypes);var _ClipStore=__webpack_require__(28);var _ClipStore2=_interopRequireDefault(_ClipStore);var _ContextualClipsStore=__webpack_require__(34);var _ContextualClipsStore2=_interopRequireDefault(_ContextualClipsStore);var _ClipCommentsStore=__webpack_require__(59);var _ClipCommentsStore2=_interopRequireDefault(_ClipCommentsStore);var _ClipActions=__webpack_require__(8);var _ClipActions2=_interopRequireDefault(_ClipActions);var _ClipStatePane=__webpack_require__(62);var _ClipStatePane2=_interopRequireDefault(_ClipStatePane);var _ClipPlayerArea=__webpack_require__(63);var _ClipPlayerArea2=_interopRequireDefault(_ClipPlayerArea);var _GroupClipApprovalForm=__webpack_require__(291);var _GroupClipApprovalForm2=_interopRequireDefault(_GroupClipApprovalForm);var _ContextualClips=__webpack_require__(292);var _ContextualClips2=_interopRequireDefault(_ContextualClips);var _ModalsController=__webpack_require__(312);var _ModalsController2=_interopRequireDefault(_ModalsController);var _ApiApps=__webpack_require__(352);var ApiApp=_interopRequireWildcard(_ApiApps);var _StreamContexts=__webpack_require__(353);var StreamContext=_interopRequireWildcard(_StreamContexts);var _ClipStatsAsync=__webpack_require__(354);var _ClipStatsAsync2=_interopRequireDefault(_ClipStatsAsync);var _PlayerActionTypes=__webpack_require__(26);var _PlayerActionTypes2=_interopRequireDefault(_PlayerActionTypes);var _PlayerStore=__webpack_require__(71);var _PlayerStore2=_interopRequireDefault(_PlayerStore);var _ClipAuxLink=__webpack_require__(532);var _ClipAuxLink2=_interopRequireDefault(_ClipAuxLink);var _i18n=__webpack_require__(37);var _ClipContent=__webpack_require__(534);var _ClipContent2=_interopRequireDefault(_ClipContent);var _ViewerSegmentationSurveyBanner=__webpack_require__(590);var _ViewerSegmentationSurveyBanner2=_interopRequireDefault(_ViewerSegmentationSurveyBanner);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var AD_INDEX=3;var SHORT_AD_INDEX=2;var COLUMNS_NARROW=15;var COLUMNS_WIDE=24;var ClipMain=(_class=function(_React$Component){_inherits(ClipMain,_React$Component);function ClipMain(props){_classCallCheck(this,ClipMain);var _this=_possibleConstructorReturn(this,(ClipMain.__proto__||Object.getPrototypeOf(ClipMain)).call(this,props));_this.state=_ClipStore2.default.getState();return _this}_createClass(ClipMain,[{key:"componentDidMount",value:function componentDidMount(){_ClipStore2.default.addChangeListener(this._handleStoreChange.bind(this));_PlayerStore2.default.addChangeListener(this._handleStoreChange.bind(this));_ClipCommentsStore2.default.addChangeListener(this._handleStoreChange.bind(this));_ContextualClipsStore2.default.addChangeListener(this._handleStoreChange.bind(this));this._dispatcher_token=_AppDispatcher2.default.register(this._handleDispatcherAction.bind(this));this.props.onMount()}},{key:"_handleStoreChange",value:function _handleStoreChange(data){this.setState(_ClipStore2.default.getState())}},{key:"_handleDispatcherAction",value:function _handleDispatcherAction(payload){var _this2=this;switch(payload.action_type){case _ClipActionTypes2.default.FLAG_SUCCESS:case _ClipActionTypes2.default.FLAG_CANCEL:setTimeout(function(){_ClipActions2.default.closeModal(_ContentModalTypes2.default.FLAG)},100);break;case _ClipActionTypes2.default.CONTINUOUS_PLAY_TOGGLED:if(this.state.is_playback_complete){setTimeout(function(){if(payload.continuous_play_enabled){
_ClipActions2.default.startCountdownTimer()}else{_ClipActions2.default.cancelCountdownTimer()}},10)}break;case _PlayerActionTypes2.default.FINISH:setTimeout(function(){if(_this2.state.continuous_play_enabled){_ClipActions2.default.startCountdownTimer()}},10);break;case _ClipActionTypes2.default.CLIP_PAGE_COUNTDOWN_COMPLETE:var stream=_ContextualClipsStore2.default.getStream();var next_clip=_ContextualClipsStore2.default.getNextClip();var original_clip_id=_ContextualClipsStore2.default.getOriginalClip();if(next_clip){setTimeout(function(){_ClipActions2.default.loadPage(original_clip_id,next_clip.id,stream.id,stream.pos,true,-1)},10)}break}}},{key:"_handleModalClose",value:function _handleModalClose(){if(this.state.current_modal){_ClipActions2.default.closeModal(this.state.current_modal)}}},{key:"_handleNotificationDismissal",value:function _handleNotificationDismissal(e){var _state=this.state,clip=_state.clip,cur_user=_state.cur_user;var notification_id=e.dismissal_key;if(!cur_user){return}if(notification_id==="source_file_recommendation"){_ClipActions2.default.dismissSourceFileRecommendationNotification(clip.id)}else{_ClipActions2.default.dismissNotificationForUser(clip.id,notification_id,cur_user.id)}}},{key:"render",value:function render(){var state=this.state;if(state.is_loading===true){return null}var owner=state.owner,cur_user=state.cur_user,clip=state.clip,clip_status=state.status,collection_adder=state.collection_adder,tags=state.tags,share_enabled=state.share_enabled,minibar_visible=state.minibar_visible,continuous_play_enabled=state.continuous_play_enabled,group=state.group_config,thumbnail=state.thumbnail,player=state.player,is_player_fullscreen=state.is_player_fullscreen,current_modal=state.current_modal;var is_owner=this._isOwner();var clip_id=clip.id;var is_public=clip.privacy.is_public;var total_comments=_ClipCommentsStore2.default.getState().total_comments;var page_is_short=clip.description===null&&total_comments===0;var sidebar_ad_index=page_is_short?SHORT_AD_INDEX:AD_INDEX;var group_approval_enabled=cur_user!==null&&cur_user.permissions&&cur_user.permissions.can_approve_for_group===true;var clip_stats_enabled=state.clip_stats.enabled;var new_stats_url="/stats/date?filter_videos="+encodeURIComponent("/videos/"+clip_id)+"&clip_title="+encodeURIComponent(clip.title)+"&clip_thumbnail_id="+thumbnail.id;var should_render_sidebar=this._shouldRenderSidebar();var column_count=should_render_sidebar?COLUMNS_NARROW:COLUMNS_WIDE;return _react2.default.createElement("div",{className:column_count!==COLUMNS_WIDE?"iris_grid iris_grid_fp1260":"iris_grid iris_grid_fp960"},_react2.default.createElement("div",{className:"clip_main"+(minibar_visible?" is_mini":"")},_ClipStore2.default.isProcessing()||_ClipStore2.default.hasError()?_react2.default.createElement(_ClipStatePane2.default,_extends({},clip_status,{clip_id:clip.id})):_react2.default.createElement("div",{className:"player_area-wrapper js-player_area-wrapper"},_react2.default.createElement(_ClipPlayerArea2.default,_extends({},player,{clip:clip,owner:owner,is_following:owner.is_following,cur_user:cur_user,ondemand:this.state.ondemand,is_mini:this.state.minibar_visible,is_playback_complete:this.state.is_playback_complete,is_player_fullscreen:is_player_fullscreen,show_outro:this.state.show_outro,show_new_outro:this.state.show_new_outro,show_survey:this.state.show_survey,survey_url:this.state.survey_url,collections_enabled:collection_adder&&collection_adder.enabled,continuous_play_enabled:this.state.continuous_play_enabled,share_enabled:share_enabled,countdown_paused:this.state.countdown_paused,countdown_paused_user:this.state.countdown_paused_user,countdown_paused_mouseout:this.state.countdown_paused_mouseout,copyright_status:this.state.copyright_status,content_block_status:this.state.content_block_status,should_autoplay:this.state.should_autoplay,thumbnail:thumbnail}),current_modal&&is_player_fullscreen?_react2.default.createElement(_ModalsController2.default,{modal_type:current_modal,clip:clip,collection_adder:collection_adder,cur_user:cur_user,download_config:this.state.download_config,owner:owner,tags:tags,cc_license:this.state.cc_license,api_app:this.state.api_app,thumbnail:thumbnail}):null)),_react2.default.createElement(_ClipContent2.default,{cur_user:cur_user,owner:owner,clip_id:clip_id,should_render_sidebar:should_render_sidebar,columns_narrow:COLUMNS_NARROW,columns_wide:COLUMNS_WIDE,is_cameo:this._isCameo(),is_copyright_blocked:this._isCopyrightBlocked(),is_owner:this._isOwner(),dismissNotification:this._handleNotificationDismissal}),should_render_sidebar?_react2.default.createElement("aside",{className:"clip-contextual-clips iris_grid-wrapper--sidebar",ref:"contextual_clips",role:"complementary","aria-label":"Related Clips"},group&&group.clip_is_pending&&group_approval_enabled?_react2.default.createElement("div",{className:"clip-group_approval_form iris_divider--dark iris_divider-bot iris_divider-bot--pm"},_react2.default.createElement("div",{className:"iris_grid-sidebar"},_react2.default.createElement(_GroupClipApprovalForm2.default,{clip_id:clip_id,group_id:group.id,group_name:group.name,clip_owner_name:owner.display_name,onAccepted:function onAccepted(e){_ClipActions2.default.acceptGroupClip(e.group_id,e.clip_id)},onRejected:function onRejected(e){_ClipActions2.default.rejectGroupClip(e.group_id,e.clip_id)}}))):null,is_owner&&!this._isCopyrightBlocked()?_react2.default.createElement("div",{className:"clip-stats iris_divider--dark iris_divider-bot iris_divider-bot--pm"},_react2.default.createElement("div",{className:"iris_grid-sidebar"},clip_stats_enabled?_react2.default.createElement(_ClipStatsAsync2.default,{clip_id:clip_id,clip_title:clip.title,clip_thumbnail_id:thumbnail.id,cur_user:cur_user}):_react2.default.createElement(_ClipAuxLink2.default,{text:(0,_i18n.translate)("See all video stats"),subtext:(0,_i18n.translate)("Only visible to you"),href:new_stats_url}))):null,_react2.default.createElement(_ContextualClips2.default,{ad_index:sidebar_ad_index,ad_config:state.ads?state.ads.display_ad:null,continuous_play_enabled:continuous_play_enabled})):null,!is_player_fullscreen&&current_modal?_react2.default.createElement(_ModalsController2.default,{modal_type:current_modal,clip:clip,collection_adder:collection_adder,cur_user:cur_user,download_config:this.state.download_config,owner:owner,tags:tags,cc_license:this.state.cc_license,api_app:this.state.api_app,thumbnail:thumbnail}):null),_react2.default.createElement(_ViewerSegmentationSurveyBanner2.default,{clipId:clip_id,accountType:cur_user?cur_user.account_type:"logged_out",isPublic:is_public,isOwner:is_owner}))}},{key:"_isCameo",value:function _isCameo(){var api_app=this.state.api_app;return api_app&&(api_app.id===ApiApp.CAMEO_APP||api_app.id===ApiApp.CAMEO_V2_APP)}},{key:"_isCopyrightBlocked",value:function _isCopyrightBlocked(){return this.state.copyright_status&&this.state.copyright_status.is_blocked}},{key:"_isOwner",value:function _isOwner(){return this.state.cur_user&&this.state.owner.id===this.state.cur_user.id}},{key:"_shouldRenderSidebar",value:function _shouldRenderSidebar(){var state=this.state;var cur_user=state.cur_user;var is_public=state.clip&&state.clip.privacy.is_public;var stream_type=_ContextualClipsStore2.default.getState().stream_type;var group=state.group_config;var group_approval_enabled=cur_user!==null&&cur_user.permissions&&cur_user.permissions.can_approve_for_group===true;var show_stats=this._isOwner()&&!this._isCopyrightBlocked();var group_clip_approval=group&&group.clip_is_pending&&group_approval_enabled;var album_feed=state.contextual_clips_enabled&&(is_public||stream_type===StreamContext.ALBUM);return!!show_stats||!!group_clip_approval||!!album_feed}}]);return ClipMain}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"_handleNotificationDismissal",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleNotificationDismissal"),_class.prototype),_class);ClipMain.propTypes={onMount:_react2.default.PropTypes.func};exports.default=ClipMain;module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=autobind;function autobind(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}if(args.length===1){return boundClass.apply(undefined,args)}else{return boundMethod.apply(undefined,args)}}function boundClass(target){var keys=undefined;if(typeof Reflect!=="undefined"&&typeof Reflect.ownKeys==="function"){keys=Reflect.ownKeys(target.prototype)}else{keys=Object.getOwnPropertyNames(target.prototype);if(typeof Object.getOwnPropertySymbols==="function"){keys=keys.concat(Object.getOwnPropertySymbols(target.prototype))}}keys.forEach(function(key){if(key==="constructor"){return}var descriptor=Object.getOwnPropertyDescriptor(target.prototype,key);if(typeof descriptor.value==="function"){Object.defineProperty(target.prototype,key,boundMethod(target,key,descriptor))}});return target}function boundMethod(target,key,descriptor){var fn=descriptor.value;if(typeof fn!=="function"){throw new Error("@autobind decorator can only be applied to methods not: "+typeof fn)}var definingProperty=false;return{configurable:true,get:function get(){if(definingProperty||this===target.prototype||this.hasOwnProperty(key)){return fn}var boundFn=fn.bind(this);definingProperty=true;Object.defineProperty(this,key,{value:boundFn,configurable:true,writable:true});definingProperty=false;return boundFn}}}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _fluxStore=__webpack_require__(29);var _fluxStore2=_interopRequireDefault(_fluxStore);var _AppDispatcher=__webpack_require__(15);var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _ClipActionTypes=__webpack_require__(23);var _ClipActionTypes2=_interopRequireDefault(_ClipActionTypes);var _CommentActionTypes=__webpack_require__(27);var _CommentActionTypes2=_interopRequireDefault(_CommentActionTypes);var _Throbber=__webpack_require__(60);var _Throbber2=_interopRequireDefault(_Throbber);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}var CHAR_LIMIT=140;var URL_CHAR_LENGTH=23;var DEFAULT_PAGE_SIZE=100;var ClipCommentsStore=_fluxStore2.default.extend({dispatcher:_AppDispatcher2.default,state:{is_loading:true,next_page_loading:false,comments_enabled:true,comment_text:"",current_page:0,has_next_page:false,did_check_deeplinks:false,active_comment:{id:null,ui_state:null},comments:[],total_comments:0,total_comments_formatted:"",deep_linked_comment:null,social_apps:[],tweet_preview:""},getState:function getState(){return this.state},_resetState:function _resetState(){this.state={is_loading:true,comments_enabled:true,comment_text:"",current_page:0,has_next_page:false,did_check_deeplinks:false,active_comment:{id:null,ui_state:null},comments:[],total_comments:0,total_comments_formatted:"",deep_linked_comment:null,social_apps:[],tweet_preview:""}},_humanizeNumber:function _humanizeNumber(n){var n=n.toString(),n2;while(true){n2=n.replace(/(\d)(\d{3})($|,|\.)/g,"$1,$2$3");if(n===n2){break}n=n2}return n},_isReply:function _isReply(comment_obj){var comment_id=comment_obj.id;var reply_to_comment_id=comment_obj.reply_to_comment_id;return typeof reply_to_comment_id!=="undefined"&&reply_to_comment_id!==null&&reply_to_comment_id!==comment_id},_addComment:function _addComment(comment_obj){var reply_to_comment_id=comment_obj.reply_to_comment_id;if(!this._isReply(comment_obj)){this.state.comments.push(comment_obj)}else{var parent_comment=this.state.comments.filter(function(comment){return comment.id===reply_to_comment_id})[0];if(parent_comment){parent_comment.replies.push(comment_obj)}}var comment_count=this.state.total_comments;if(comment_count<9999){var new_total_comments=comment_count+1;this.state.total_comments=new_total_comments;this.state.total_comments_formatted=this._humanizeNumber(new_total_comments)}this.state.comment_text=""},_editComment:function _editComment(comment_obj){var comments=this.state.comments;var comment_id=comment_obj.id;var reply_to_comment_id=comment_obj.reply_to_comment_id;var text=comment_obj.text;var plaintext=comment_obj.plaintext;if(!this._isReply(comment_obj)){var comment=comments.filter(function(comment){return comment.id===comment_id})[0];if(comment){comment.text=text;comment.plaintext=plaintext}}else{var _comment=comments.filter(function(comment){return comment.id===reply_to_comment_id})[0];if(_comment){var reply=_comment.replies.filter(function(reply){return reply.id===comment_id})[0];if(reply){reply.text=text;reply.plaintext=plaintext}}}},_deleteComment:function _deleteComment(comment_obj){var comments=this.state.comments;var comment_id=comment_obj.id;var reply_to_comment_id=comment_obj.reply_to_comment_id;if(!this._isReply(comment_obj)){this.state.comments=[];this.emitChange();this.state.comments=comments.filter(function(comment){return comment.id!==comment_id})}else{var parent_comment=comments.filter(function(comment){return comment.id===reply_to_comment_id})[0];if(parent_comment){var replies=parent_comment.replies;var total_replies=replies.length;var reply=void 0;for(var i=0;i<total_replies;i++){reply=replies[i];if(reply.id===comment_id){replies.splice(i,1);break}}}}var comment_count=this.state.total_comments;if(comment_count<9999){var new_total_comments=comment_count-1;this.state.total_comments=new_total_comments;this.state.total_comments_formatted=this._humanizeNumber(new_total_comments)}},_buildCommentTweet:function _buildCommentTweet(comment_text,obj_name,clip_id){var twitter_handle=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var tweet=null;var tweet_body=comment_text;var url="vimeo.com/"+clip_id;var mentions=["#Vimeo"];if(twitter_handle!==null){mentions.push("@"+twitter_handle)}var suffix=mentions.join(" ");var characters_remaining=CHAR_LIMIT-URL_CHAR_LENGTH-1;if(suffix!==null){characters_remaining-=suffix.length+1}var tweet_length=comment_text.length;if(tweet_length>characters_remaining){tweet_body=tweet_body.substr(0,characters_remaining-1)+"…"}tweet=tweet_body+" "+url;if(suffix!==null){tweet=tweet+" "+suffix}return tweet},onDispatcherAction:function onDispatcherAction(payload){switch(payload.action_type){case _ClipActionTypes2.default.PAGE_LOAD_SUCCESS:this._resetState();this.emitChange();break;case _CommentActionTypes2.default.COMMENT_PAGE_LOAD_START:this.state.next_page_loading=true;this.state.loading_more_comments=true;this.emitChange();break;case _CommentActionTypes2.default.COMMENT_PAGE_LOAD_SUCCESS:this.state.is_loading=false;this.state.next_page_loading=false;this.state.comments_enabled=payload.comments_enabled;this.state.page=payload.page;this.state.has_next_page=payload.has_next_page;this.state.is_preview=payload.is_preview;this.state.total_comments=payload.total_comments;this.state.total_comments_formatted=payload.total_comments_formatted;this.state.social_apps=payload.social_apps;var existing_comments=[].concat(_toConsumableArray(this.state.comments));var new_comments=payload.comments||[];this.state.comments=[];this.emitChange();var comments=void 0;if(payload.page===1){comments=new_comments}else{comments=new_comments.concat(existing_comments)}var comments_rendered=0;if(comments&&comments.length){comments_rendered=comments.map(function(comment){return comment.replies.length+1}).reduce(function(prev_value,cur_value){return prev_value+cur_value})}this.state.comments=comments;this.state.comments_rendered=comments_rendered;this.state.remaining_comments=this.state.total_comments-comments_rendered;this.state.more_comments_count=Math.min(this.state.remaining_comments,DEFAULT_PAGE_SIZE);this.state.loading_more_comments=false;this.emitChange();break;case _CommentActionTypes2.default.COMMENT_SET_ACTIVE:this.state.active_comment={id:payload.comment_id,ui_state:payload.ui_state};this.emitChange();break;case _CommentActionTypes2.default.COMMENT_ADDED:this._addComment(payload.comment_obj);this.emitChange();break;case _CommentActionTypes2.default.COMMENT_EDITED:this._editComment(payload.comment_obj);this.emitChange();break;case _CommentActionTypes2.default.COMMENT_DELETED:this._deleteComment(payload.comment_obj);this.emitChange();break;case _CommentActionTypes2.default.COMMENT_SPAMMED:this.state.active_comment={id:null,ui_state:null};this.emitChange();break;case _CommentActionTypes2.default.COMMENT_DEEP_LINK_LOAD_START:this.state.did_check_deeplinks=true;this.emitChange();break;case _CommentActionTypes2.default.COMMENT_DEEP_LINK_LOAD_SUCCESS:this.state.deep_linked_comment=payload.comment_obj;this.emitChange();break;case _ClipActionTypes2.default.SOCIAL_APP_CONNECTED:this.state.social_apps[payload.app_name]={name:payload.app_name.charAt(0).toUpperCase()+payload.app_name.slice(1),status:1,is_connected:true,is_commenting_enabled:true};this.emitChange();break;case _CommentActionTypes2.default.NEW_COMMENT_INPUT_CHANGE:this.state.tweet_preview=this._buildCommentTweet(payload.comment_text,payload.obj_name,payload.clip_id,payload.twitter_handle);this.state.comment_text=payload.comment_text;this.emitChange();break}}});window.___ClipCommentsStore=ClipCommentsStore;exports.default=ClipCommentsStore;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=undefined;var _Throbber=__webpack_require__(61);var _Throbber2=_interopRequireDefault(_Throbber);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_Throbber2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Throbber=function(_React$Component){_inherits(Throbber,_React$Component);function Throbber(){_classCallCheck(this,Throbber);return _possibleConstructorReturn(this,(Throbber.__proto__||Object.getPrototypeOf(Throbber)).apply(this,arguments))}_createClass(Throbber,[{key:"render",value:function render(){var children=this.props.children;var message_element=null;if(children){message_element=_react2.default.createElement("span",{className:"iris_throbber-message"},children)}return _react2.default.createElement("div",{className:this.props.className},message_element,_react2.default.createElement("div",{className:"iris_throbber"},_react2.default.createElement("div",{className:"iris_throbber-dot iris_throbber-dot--blue"}),_react2.default.createElement("div",{className:"iris_throbber-dot iris_throbber-dot--green"}),_react2.default.createElement("div",{className:"iris_throbber-dot iris_throbber-dot--red"})))}}]);return Throbber}(_react2.default.Component);exports.default=Throbber;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _ClipActions=__webpack_require__(8);var _ClipActions2=_interopRequireDefault(_ClipActions);var _ClipStore=__webpack_require__(28);var _ClipStore2=_interopRequireDefault(_ClipStore);var _ClipStatuses=__webpack_require__(32);var ClipStatus=_interopRequireWildcard(_ClipStatuses);var _i18n=__webpack_require__(37);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ClipStatePane=function(_React$Component){_inherits(ClipStatePane,_React$Component);function ClipStatePane(){_classCallCheck(this,ClipStatePane);return _possibleConstructorReturn(this,(ClipStatePane.__proto__||Object.getPrototypeOf(ClipStatePane)).apply(this,arguments))}_createClass(ClipStatePane,[{key:"componentDidMount",value:function componentDidMount(){if(_ClipStore2.default.isProcessing()){_ClipActions2.default.pollForStatus(this.props.clip_id)}}},{key:"_formatWaitTime",value:function _formatWaitTime(wait_time){var hours=parseInt(wait_time/3600,10)%24,minutes=parseInt(wait_time/60,10)%60,seconds=parseInt(wait_time,10)%60,time_string;time_string=(hours<10?"0"+hours:hours)+":"+(minutes<10?"0"+minutes:minutes)+":"+(seconds<10?"0"+seconds:seconds);return time_string}},{key:"render",value:function render(){var _props=this.props,title=_props.title,description=_props.description,percent=_props.percent,time_left=_props.time_left,clip_state=_props.state;var animation_message="0%";var animation_class="";var outer_ring_class="clip_transcoding-ring--outer";var middle_ring_class="clip_transcoding-ring--middle";var inner_ring_class="clip_transcoding-ring--inner";var MaybeRetryButton=null;switch(clip_state){case ClipStatus.UPLOAD_IN_PROGRESS:animation_class="clip_transcoding-ring--wait";animation_message="Uploading";break;case ClipStatus.UPLOAD_COMPLETE:case ClipStatus.TRANSCODE_PENDING:animation_class="clip_transcoding-ring--wait";animation_message="Waiting";break;case ClipStatus.TRANSCODE_STARTING:animation_class="clip_transcoding-ring--underway";break;case ClipStatus.TRANSCODE_ACTIVE:case ClipStatus.TRANSCODE_FINISHING:animation_message=percent+"%";animation_class="clip_transcoding-ring--underway";break;case ClipStatus.UPLOAD_ERROR_MOVE:case ClipStatus.UPLOAD_INVALID_FILE:case ClipStatus.UPLOAD_ERROR_QUOTA:case ClipStatus.UPLOAD_ERROR_INCOMPLETE:case ClipStatus.TRANSCODE_FAILED:animation_message="×";animation_class="clip_transcoding-ring--failure";MaybeRetryButton=_react2.default.createElement("div",{className:"clip_transcoding-cta"},_react2.default.createElement("a",{role:"button",href:"/upload",className:"iris_btn iris_btn--primary"},(0,_i18n.translate)("Retry upload")));break}outer_ring_class=outer_ring_class+" "+animation_class;middle_ring_class=middle_ring_class+" "+animation_class;inner_ring_class=inner_ring_class+" "+animation_class;if(percent){if(percent>=33){outer_ring_class=outer_ring_class+" fill"}if(percent>=66){middle_ring_class=middle_ring_class+" fill"}if(percent>=99){inner_ring_class=inner_ring_class+" fill"}}var MaybeTimeRemaining=null;if(time_left>0){MaybeTimeRemaining=_react2.default.createElement("div",{className:"clip_transcoding-time"},_react2.default.createElement("h5",null,(0,_i18n.translate)("Approximate Time Remaining")),_react2.default.createElement("div",{id:"transcoding_time_left",className:"clip_transcoding-timer"},this._formatWaitTime(time_left)))}return _react2.default.createElement("div",{className:"clip_transcoding"},_react2.default.createElement("div",{className:"clip_transcoding-wrapper"},_react2.default.createElement("div",{id:"clip_animation",className:"clip_transcoding-rings js-clip_animation"},_react2.default.createElement("div",{className:"clip_transcoding-ring "+outer_ring_class}),_react2.default.createElement("div",{className:"clip_transcoding-ring "+inner_ring_class}),_react2.default.createElement("div",{className:"clip_transcoding-ring "+middle_ring_class}),_react2.default.createElement("span",{id:"animation_message",className:animation_class+" clip_transcoding-ring-message",dangerouslySetInnerHTML:{__html:animation_message}})),_react2.default.createElement("div",{className:"current_status clip_transcoding-status"},_react2.default.createElement("h2",null,title),_react2.default.createElement("p",{className:"description",dangerouslySetInnerHTML:{__html:description}}),MaybeRetryButton,MaybeTimeRemaining)))}}]);return ClipStatePane}(_react2.default.Component);ClipStatePane.propTypes={clip_id:_react2.default.PropTypes.number.isRequired,title:_react2.default.PropTypes.string,description:_react2.default.PropTypes.string,percent:_react2.default.PropTypes.number,time_left:_react2.default.PropTypes.number,state:_react2.default.PropTypes.oneOf([ClipStatus.UPLOAD_IN_PROGRESS,ClipStatus.UPLOAD_COMPLETE,ClipStatus.TRANSCODE_PENDING,ClipStatus.TRANSCODE_STARTING,ClipStatus.TRANSCODE_ACTIVE,ClipStatus.TRANSCODE_FINISHING,ClipStatus.UPLOAD_ERROR_MOVE,ClipStatus.UPLOAD_INVALID_FILE,ClipStatus.UPLOAD_ERROR_QUOTA,ClipStatus.UPLOAD_ERROR_INCOMPLETE,ClipStatus.TRANSCODE_FAILED])};exports.default=ClipStatePane;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(6);var _reactDom2=_interopRequireDefault(_reactDom);var _autobindDecorator=__webpack_require__(58);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);var _objectAssign=__webpack_require__(9);var _objectAssign2=_interopRequireDefault(_objectAssign);var _lodash=__webpack_require__(64);var _classnames=__webpack_require__(66);var _classnames2=_interopRequireDefault(_classnames);var _Debouncer=__webpack_require__(67);var _Debouncer2=_interopRequireDefault(_Debouncer);var _AppDispatcher=__webpack_require__(15);var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _GlobalActionTypes=__webpack_require__(68);var _GlobalActionTypes2=_interopRequireDefault(_GlobalActionTypes);var _AccountTypes=__webpack_require__(69);var _AccountTypes2=_interopRequireDefault(_AccountTypes);var _PlayerActions=__webpack_require__(70);var _PlayerActions2=_interopRequireDefault(_PlayerActions);var _PlayerActionTypes=__webpack_require__(26);var _PlayerActionTypes2=_interopRequireDefault(_PlayerActionTypes);var _PlayerStore=__webpack_require__(71);var _PlayerStore2=_interopRequireDefault(_PlayerStore);var _ClipPlayer=__webpack_require__(72);var _ClipPlayer2=_interopRequireDefault(_ClipPlayer);var _ClipActions=__webpack_require__(8);var _ClipActions2=_interopRequireDefault(_ClipActions);var _ClipActionTypes=__webpack_require__(23);var _ClipActionTypes2=_interopRequireDefault(_ClipActionTypes);var _ContextualClipsStore=__webpack_require__(34);var _ContextualClipsStore2=_interopRequireDefault(_ContextualClipsStore);var _CopyrightMatchWarning=__webpack_require__(75);var _CopyrightMatchWarning2=_interopRequireDefault(_CopyrightMatchWarning);var _MatureContentBlock=__webpack_require__(76);var _MatureContentBlock2=_interopRequireDefault(_MatureContentBlock);var _Outro=__webpack_require__(217);var _Outro2=_interopRequireDefault(_Outro);var _UpNext=__webpack_require__(267);var _UpNext2=_interopRequireDefault(_UpNext);var _IrisProgressRing=__webpack_require__(281);var _IrisProgressRing2=_interopRequireDefault(_IrisProgressRing);var _ClipPageAreaPagination=__webpack_require__(282);var _ClipPageAreaPagination2=_interopRequireDefault(_ClipPageAreaPagination);var _i18n=__webpack_require__(37);var _SubscriptionTypes=__webpack_require__(285);var SubscriptionType=_interopRequireWildcard(_SubscriptionTypes);var _iris_icon_flag_=__webpack_require__(286);var _iris_icon_flag_2=_interopRequireDefault(_iris_icon_flag_);var _iris_icon_unfullscreen_=__webpack_require__(287);var _iris_icon_unfullscreen_2=_interopRequireDefault(_iris_icon_unfullscreen_);var _iris_icon_collections_=__webpack_require__(250);var _iris_icon_collections_2=_interopRequireDefault(_iris_icon_collections_);var _iris_icon_like_=__webpack_require__(224);var _iris_icon_like_2=_interopRequireDefault(_iris_icon_like_);var _iris_icon_share_=__webpack_require__(245);var _iris_icon_share_2=_interopRequireDefault(_iris_icon_share_);var _iris_icon_tags_=__webpack_require__(288);var _iris_icon_tags_2=_interopRequireDefault(_iris_icon_tags_);var _iris_icon_upload_=__webpack_require__(289);var _iris_icon_upload_2=_interopRequireDefault(_iris_icon_upload_);var _iris_icon_user_=__webpack_require__(290);var _iris_icon_user_2=_interopRequireDefault(_iris_icon_user_);var _iris_icon_vod_=__webpack_require__(263);var _iris_icon_vod_2=_interopRequireDefault(_iris_icon_vod_);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){
if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var MINI_BAR_HEIGHT=120;var MIN_PLAYER_WIDTH=300;var MIN_PLAYER_HEIGHT=216;var MAX_PLAYER_HEIGHT=540;var COUNTDOWN_DURATION=10;var COUNTDOWN_START_DELAY=1;var PLAYER_DIMENSIONS;var PAGINATION_SPACE;var ClipPlayerArea=(_class=function(_React$Component){_inherits(ClipPlayerArea,_React$Component);function ClipPlayerArea(props){_classCallCheck(this,ClipPlayerArea);var _this=_possibleConstructorReturn(this,(ClipPlayerArea.__proto__||Object.getPrototypeOf(ClipPlayerArea)).call(this,props));_this.state=getStoreState();_this.state.show_video_nav=true;_this.scroll_debouncer=new _Debouncer2.default(_this._checkScroll);window.__fa=window.__fa||[];return _this}_createClass(ClipPlayerArea,[{key:"componentDidMount",value:function componentDidMount(){this._elementNode=_reactDom2.default.findDOMNode(this);this._component_y=getYPos($(".js-player_area-wrapper")[0]);this.scroll_limit=this._calculateScrollLimit();this._checkScroll();this.sticky_topnav=document.querySelector(".topnav_sticky");this._set$DOMNodes();PLAYER_DIMENSIONS=this.props.dimensions;PAGINATION_SPACE=Math.max(90,parseInt($(".js-pagination--right").outerWidth(true),10)*2);this._resizePlayer();window.addEventListener("scroll",this.scroll_debouncer,false);window.addEventListener("resize",this._resizePlayer,false);_PlayerStore2.default.addChangeListener(this._playerStoreChange);this._dispatcher_token=_AppDispatcher2.default.register(this._dispatcherAction)}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(next_props,next_state){return true}},{key:"componentWillUpdate",value:function componentWillUpdate(next_props,next_state){PLAYER_DIMENSIONS=next_props.dimensions;var content_block_status=next_props.content_block_status,is_playback_complete=next_props.is_playback_complete;if(is_playback_complete||content_block_status.is_blocked){this._createProgressRing();if(!this.props.countdown_paused){this._startUpNextCountdown()}}}},{key:"componentDidUpdate",value:function componentDidUpdate(prev_props,prev_state){window.resize=this._resizePlayer;this._resizePlayer();var _props=this.props,continuous_play_enabled=_props.continuous_play_enabled,is_mini=_props.is_mini,countdown_paused=_props.countdown_paused,is_playback_complete=_props.is_playback_complete,content_block_status=_props.content_block_status;if(!continuous_play_enabled||!is_playback_complete&&!content_block_status.is_blocked){this._destroyProgressRing();return}if(!this._progress_ring){this._createProgressRing()}if(continuous_play_enabled&&!is_mini&&!countdown_paused){this._startUpNextCountdown();return}this._stopUpNextCountdown()}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("scroll",this.scroll_debouncer,false);window.removeEventListener("resize",this._resizePlayer,false);_AppDispatcher2.default.unregister(this._dispatcher_token);_PlayerStore2.default.removeChangeListener(this._playerStoreChange);this._destroyProgressRing()}},{key:"_playerStoreChange",value:function _playerStoreChange(){this.setState(getStoreState())}},{key:"_playerAreaMouseEnter",value:function _playerAreaMouseEnter(e){this.setState({show_video_nav:true})}},{key:"_playerAreaMouseLeave",value:function _playerAreaMouseLeave(e){var video_started=this.state.player.is_playing||this.state.player.is_paused||this.state.player.is_finished;if(!this.state.player.is_paused&&!this.state.player.is_finished&&video_started){this.setState({show_video_nav:false})}}},{key:"_dispatcherAction",value:function _dispatcherAction(payload){switch(payload.action_type){case _ClipActionTypes2.default.REPLAY:this._player.play();this.setState({show_video_nav:false});break;case _ClipActionTypes2.default.CONTEXTUAL_CLIPS_PAGE_LOAD_SUCCESS:this.forceUpdate();break;case _ClipActionTypes2.default.LIGHTBOX_OPEN:if(this.state.player.is_playing){_PlayerActions2.default.interruptPlayback()}break;case _ClipActionTypes2.default.LIGHTBOX_CLOSE:if(this.state.player.was_playing){_PlayerActions2.default.resumePlayback()}break;case _PlayerActionTypes2.default.PAUSE:this.setState({show_video_nav:true});break;case _PlayerActionTypes2.default.PLAY:var session_id=this._player.sessionId,stream=_ContextualClipsStore2.default.getStream();this.setState({show_video_nav:false});if(session_id&&stream.id&&!_ContextualClipsStore2.default.getState().play_logged){var clip=this.props.clip;_ClipActions2.default.logStreamPlay(clip.id,session_id,stream)}break;case _GlobalActionTypes2.default.PAGE_HEIGHT_CHANGE:this._component_y=getYPos($(".js-player_area-wrapper")[0]);this.scroll_limit=this._calculateScrollLimit();break;case _PlayerActionTypes2.default.SET_LIKE:_PlayerActions2.default.setLike(this._player,payload.like);break;case _PlayerActionTypes2.default.SET_WATCH_LATER:_PlayerActions2.default.setWatchLater(this._player,payload.watch_later);break;case _PlayerActionTypes2.default.SET_CURRENT_TIME:_PlayerActions2.default.setCurrentTime(this._player,payload.seconds,payload.resume);break}}},{key:"_openFlag",value:function _openFlag(e){e.preventDefault();_ClipActions2.default.openFlag(this.props.clip.id)}},{key:"_loadPreviousClip",value:function _loadPreviousClip(e){if(!e.defaultPrevented&&!(e.button===1||e.metaKey||e.ctrlKey)){e.preventDefault();var stream=_ContextualClipsStore2.default.getStream();var prev_clip=_ContextualClipsStore2.default.getPreviousClip();var original_clip_id=_ContextualClipsStore2.default.getOriginalClip();_ClipActions2.default.loadPage(original_clip_id,prev_clip.id,stream.id,prev_clip.stream_pos,false,0)}}},{key:"_loadNextClip",value:function _loadNextClip(e){if(!e.defaultPrevented&&!(e.button===1||e.metaKey||e.ctrlKey)){e.preventDefault();this._loadNextPage()}}},{key:"_exitFullscreenClick",value:function _exitFullscreenClick(e){BigScreen.exit()}},{key:"_willSendPlayLog",value:function _willSendPlayLog(){var continuous_val=0;if(window.can_preload){if(this.props.should_autoplay){continuous_val=1}}return{continuous:continuous_val}}},{key:"_outroDidMount",value:function _outroDidMount(){var is_playback_complete=this.props.is_playback_complete;if(!is_playback_complete){return}window.__fa.push(["trackEvent",{type:"impression",container:"outro",component:"outro_displayed"}])}},{key:"_outroTitleClick",value:function _outroTitleClick(e){var _props2=this.props,is_playback_complete=_props2.is_playback_complete,is_mini=_props2.is_mini;if(is_mini){return}if(!is_playback_complete){return}_ClipActions2.default.hideOutro()}},{key:"_hideSurvey",value:function _hideSurvey(){_ClipActions2.default.hideSurvey()}},{key:"_bypassMatureContent",value:function _bypassMatureContent(e){e.preventDefault();_ClipActions2.default.bypassMatureContentBlock()}},{key:"_openMatureContentPreferences",value:function _openMatureContentPreferences(e){e.preventDefault();_ClipActions2.default.pauseCountdownTimer();_ClipActions2.default.openContentPreferences()}},{key:"_loadUpNextClip",value:function _loadUpNextClip(e){e.stopPropagation();e.preventDefault();this._navigateToClip()}},{key:"_progressClick",value:function _progressClick(e){e.preventDefault();e.stopPropagation();var _props3=this.props,continuous_play_enabled=_props3.continuous_play_enabled,countdown_paused=_props3.countdown_paused;if(continuous_play_enabled&&!countdown_paused){_ClipActions2.default.pauseCountdownTimer(true);return}this._navigateToClip()}},{key:"_progressMouseDown",value:function _progressMouseDown(e){e.preventDefault();e.stopPropagation()}},{key:"_progressMouseOver",value:function _progressMouseOver(e){}},{key:"_progressMouseOut",value:function _progressMouseOut(e){var _props4=this.props,countdown_paused_user=_props4.countdown_paused_user,countdown_paused_mouseout=_props4.countdown_paused_mouseout;if(countdown_paused_user&&!countdown_paused_mouseout){_ClipActions2.default.mouseOutCountdownTimer()}}},{key:"_progressComplete",value:function _progressComplete(){if(!this._progress_ring){return}this._resetCountdown();_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.CLIP_PAGE_COUNTDOWN_COMPLETE})}},{key:"_navigateToClip",value:function _navigateToClip(){var stream=_ContextualClipsStore2.default.getStream();var original_clip_id=_ContextualClipsStore2.default.getOriginalClip();var next_clip=_ContextualClipsStore2.default.getNextClip();_ClipActions2.default.loadPage(original_clip_id,next_clip.id,stream.id,stream.pos,true)}},{key:"_resetCountdown",value:function _resetCountdown(){}},{key:"_createProgressRing",value:function _createProgressRing(){if(this._progress_ring){return}if(!this.props.continuous_play_enabled){return}if(!this.refs.up_next||!this.refs.up_next.refs.progress_wrapper){return}this._progress_ring=new _IrisProgressRing2.default(_reactDom2.default.findDOMNode(this.refs.up_next.refs.progress_wrapper),{duration:COUNTDOWN_DURATION,className:"iris_progress_ring",size:54,stroke:{width:10,color:"#00adef"},onComplete:this._progressComplete})}},{key:"_destroyProgressRing",value:function _destroyProgressRing(){if(!this._progress_ring){return}this._progress_ring.destroy();delete this._progress_ring}},{key:"_startUpNextCountdown",value:function _startUpNextCountdown(){var _this2=this;var _props5=this.props,continuous_play_enabled=_props5.continuous_play_enabled,is_mini=_props5.is_mini;if(!this._progress_ring||!continuous_play_enabled||is_mini){return}setTimeout(function(){if(_this2._progress_ring&&typeof _this2._progress_ring.start==="function"){_this2._progress_ring.start()}},COUNTDOWN_START_DELAY*1e3)}},{key:"_stopUpNextCountdown",value:function _stopUpNextCountdown(){if(!this._progress_ring){return}this._progress_ring.pause()}},{key:"_getSubscriptionIconType",value:function _getSubscriptionIconType(feed_context){if(!feed_context){return null}switch(feed_context.type){case SubscriptionType.UPLOAD:return _iris_icon_upload_2.default;case SubscriptionType.APPEARANCE:return _iris_icon_user_2.default;case SubscriptionType.LIKE:return _iris_icon_like_2.default;case SubscriptionType.CHANNEL:case SubscriptionType.GROUP:return _iris_icon_collections_2.default;case SubscriptionType.TAG:return _iris_icon_tags_2.default;case SubscriptionType.ONDEMAND_PUBLISH:return _iris_icon_vod_2.default;case SubscriptionType.SHARE:return _iris_icon_share_2.default;case SubscriptionType.FACEBOOK:case SubscriptionType.TWITTER:default:return null}}},{key:"_startUpNextCountdown",value:function _startUpNextCountdown(){var _this3=this;var _props6=this.props,continuous_play_enabled=_props6.continuous_play_enabled,is_mini=_props6.is_mini;if(!this._progress_ring||!continuous_play_enabled||is_mini){return}setTimeout(function(){if(_this3._progress_ring&&typeof _this3._progress_ring.start==="function"){_this3._progress_ring.start()}},COUNTDOWN_START_DELAY*1e3)}},{key:"_stopUpNextCountdown",value:function _stopUpNextCountdown(){if(!this._progress_ring){return}this._progress_ring.pause()}},{key:"_shouldShowOutro",value:function _shouldShowOutro(){var _props7=this.props,copyright_status=_props7.copyright_status,content_block_status=_props7.content_block_status,is_mini=_props7.is_mini,show_outro=_props7.show_outro;return!content_block_status.is_blocked&&!copyright_status.is_blocked&&(is_mini||show_outro)}},{key:"_shouldShowUpNext",value:function _shouldShowUpNext(next_clip){var _props8=this.props,content_block_status=_props8.content_block_status,is_playback_complete=_props8.is_playback_complete;return next_clip&&(is_playback_complete||content_block_status.is_blocked)}},{key:"_shouldShowFlagIcon",value:function _shouldShowFlagIcon(){var _props9=this.props,is_player_fullscreen=_props9.is_player_fullscreen,cur_user=_props9.cur_user;return cur_user&&!is_player_fullscreen&&cur_user.permissions&&cur_user.permissions.can_flag}},{key:"render",value:function render(){var _props10=this.props,clip=_props10.clip,config_url=_props10.config_url,dimensions=_props10.dimensions,should_autoplay=_props10.should_autoplay,copyright_status=_props10.copyright_status,content_block_status=_props10.content_block_status,player_url=_props10.player_url,children=_props10.children,is_mini=_props10.is_mini,show_outro=_props10.show_outro,is_player_fullscreen=_props10.is_player_fullscreen,cur_user=_props10.cur_user,owner=_props10.owner,thumbnail=_props10.thumbnail,is_playback_complete=_props10.is_playback_complete,continuous_play_enabled=_props10.continuous_play_enabled,countdown_paused=_props10.countdown_paused,countdown_paused_user=_props10.countdown_paused_user,countdown_paused_mouseout=_props10.countdown_paused_mouseout;var show_video_nav=this.state.show_video_nav;var player_area_style={};var player_area_class=(0,_classnames2.default)("player_area","js-player-fullscreen",{show_outro:show_outro,is_mini:is_mini,is_fullscreen:!is_mini&&is_player_fullscreen});var prev_clip=_ContextualClipsStore2.default.getPreviousClip();var next_clip=_ContextualClipsStore2.default.getNextClip();var is_continuous_play_enabled=continuous_play_enabled&&!this.state.native_fullscreen;if(content_block_status.is_blocked){is_continuous_play_enabled=is_continuous_play_enabled&&content_block_status.continuous_play_enabled}if(is_mini){player_area_style.top=this.sticky_topnav?this.sticky_topnav.offsetHeight:0}return _react2.default.createElement("div",{className:player_area_class,style:player_area_style,onMouseEnter:this._playerAreaMouseEnter,onMouseLeave:this._playerAreaMouseLeave},this._shouldShowOutro()?_react2.default.createElement(_Outro2.default,_extends({},this.props,{next_clip:next_clip,show_owner:true,didMount:this._outroDidMount,surveyClick:this._hideSurvey,titleClick:this._outroTitleClick})):null,_react2.default.createElement(MaybePlayer,{copyright_status:copyright_status,content_block_status:content_block_status,is_unavailable:clip.is_unavailable,cur_user:cur_user,owner:owner,clip_id:clip.id,config_url:config_url,player_url:player_url,height:dimensions.height,width:dimensions.width,is_mini:is_mini,isFullscreen:is_player_fullscreen,thumbnail:thumbnail,should_autoplay:should_autoplay,getFullscreenElement:this._getFullscreenElement,onPlayerFinish:this._playerFinish,onPlayerPause:this._playerPause,onPlayerPlay:this._playerPlay,onPlayerReady:this._playerReady,handleWillOpenShareOverlay:this._willOpenShareOverlay,handleWillOpenLoginForm:this._openLoginForm,handleDidLikeVideo:this._didLikeVideo,handleDidUnlikeVideo:this._didUnlikeVideo,handleDidAddToWatchLater:this._didAddToWatchLater,handleDidRemoveFromWatchLater:this._didRemoveFromWatchLater,handleWillOpenVodPurchaseForm:this._willOpenVodPurchaseForm,handleWillOpenCollectionsOverlay:this._willOpenCollectionsOverlay,handleEnterFullscreen:this._enterFullscreen,handleExitFullscreen:this._exitFullscreen,handleWillSendPlayLog:this._willSendPlayLog,construct:this._clipPlayerConstruct,willMount:this._clipPlayerWillMount,didMount:this._clipPlayerDidMount}),!is_player_fullscreen?_react2.default.createElement(_ClipPageAreaPagination2.default,{clip:clip,show_video_nav:show_video_nav,is_playback_complete:is_playback_complete,prev_clip:prev_clip,next_clip:next_clip,onPreviousClick:this._loadPreviousClip,onNextClick:this._loadNextClip}):null,copyright_status.is_blocked?_react2.default.createElement(_CopyrightMatchWarning2.default,copyright_status):null,content_block_status.is_blocked?_react2.default.createElement(_MatureContentBlock2.default,{message:content_block_status.message,is_mini:is_mini,bypassClick:this._bypassMatureContent,changePrefsClick:this._openMatureContentPreferences,exitClick:preventDefault(this._loadNextPage)}):null,this._shouldShowUpNext(next_clip)?_react2.default.createElement(_UpNext2.default,{ref:"up_next",format:is_mini?"mini":"outro",clip:next_clip,continuous_play_enabled:is_continuous_play_enabled,countdown_paused:countdown_paused,countdown_paused_user:countdown_paused_user,countdown_paused_mouseout:countdown_paused_mouseout,SubscriptionIconType:this._getSubscriptionIconType(clip.feed_context),onClick:this._loadUpNextClip,onProgressClick:this._progressClick,onProgressMouseDown:this._progressMouseDown,onProgressMouseOver:this._progressMouseOver,onProgressMouseOut:this._progressMouseOut,onProgressComplete:this._progressComplete}):null,this._shouldShowFlagIcon()?_react2.default.createElement("button",{type:"button",className:"iris_btn iris_btn--sm iris_btn--circle iris_btn-flag",title:(0,_i18n.translate)("Report this video?"),onClick:this._openFlag},_react2.default.createElement(_iris_icon_flag_2.default,{className:"iris_ic is--12 iris_btn-flag-icon"})):null,is_playback_complete&&is_player_fullscreen?_react2.default.createElement("button",{type:"button",name:"btn-exit-fullscreen",className:"iris_btn iris_btn--sm player_area__fullscreen",onClick:this._exitFullscreenClick},_react2.default.createElement(_iris_icon_unfullscreen_2.default,{className:"iris_ic is--16 player_area__fullscreen-icon"}),(0,_i18n.translate)("Exit fullscreen")):null,children)}},{key:"_playerFinish",value:function _playerFinish(){_PlayerActions2.default.finish()}},{key:"_playerPause",value:function _playerPause(){_PlayerActions2.default.pause()}},{key:"_playerPlay",value:function _playerPlay(){_PlayerActions2.default.play()}},{key:"_playerReady",value:function _playerReady(player){this._player=player;this._updatePlayerDimensions()}},{key:"_updatePlayerDimensions",value:function _updatePlayerDimensions(){var dimensions=(0,_lodash.pick)(this._player.config.video,["height","width"]);if(this._player.config.video.spatial){dimensions={width:1260,height:540}}if(!(0,_lodash.isEqual)(dimensions,this.props.dimensions)){_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.PLAYER_CONFIG_UPDATED,player_config:{dimensions:dimensions}})}}},{key:"_willOpenShareOverlay",value:function _willOpenShareOverlay(clip_id){_PlayerActions2.default.openShare(clip_id);_ClipActions2.default.openShare(clip_id);return false}},{key:"_openLoginForm",value:function _openLoginForm(clip_id,context){_ClipActions2.default.openLogin(clip_id,context);return false}},{key:"_didLikeVideo",value:function _didLikeVideo(clip_id){_PlayerActions2.default.likedVideo(clip_id)}},{key:"_didUnlikeVideo",value:function _didUnlikeVideo(clip_id){_PlayerActions2.default.unlikedVideo(clip_id)}},{key:"_didAddToWatchLater",value:function _didAddToWatchLater(clip_id){_PlayerActions2.default.addedToWatchLater(clip_id)}},{key:"_didRemoveFromWatchLater",value:function _didRemoveFromWatchLater(clip_id){_PlayerActions2.default.removedFromWatchLater(clip_id)}},{key:"_willOpenVodPurchaseForm",value:function _willOpenVodPurchaseForm(clip_id,popup_uri,onsite_uri){_PlayerActions2.default.openVod(clip_id,popup_uri,onsite_uri);if(this.props.ondemand){window.location=this.props.ondemand.url+"/"+clip_id+"#purchase";return false}return true}},{key:"_willOpenCollectionsOverlay",value:function _willOpenCollectionsOverlay(clip_id){_PlayerActions2.default.openCollections(clip_id);if(!this.props.cur_user){_ClipActions2.default.openLogin()}else{_ClipActions2.default.openCollections(this.props.clip.id)}return false}},{key:"_enterFullscreen",value:function _enterFullscreen(element){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.ENTER_FULLSCREEN,native_fullscreen:BigScreen.videoEnabled(element)})}},{key:"_exitFullscreen",value:function _exitFullscreen(){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.EXIT_FULLSCREEN,native_fullscreen:false})}},{key:"_clipPlayerConstruct",value:function _clipPlayerConstruct(){markUserTime("clip|reactplayer:constructor")}},{key:"_clipPlayerWillMount",value:function _clipPlayerWillMount(){markUserTime("clip|reactplayer:willmount")}},{key:"_clipPlayerDidMount",value:function _clipPlayerDidMount(){markUserTime("clip|reactplayer:didmount")}},{key:"_calculateScrollLimit",value:function _calculateScrollLimit(){var sticky_topnav=document.querySelector(".topnav_sticky");var player_area_wrapper=document.querySelector(".js-player_area-wrapper");var topnav_height=sticky_topnav?sticky_topnav.offsetHeight:0;var component_height=player_area_wrapper?player_area_wrapper.offsetHeight:MAX_PLAYER_HEIGHT-MINI_BAR_HEIGHT;return this._component_y-topnav_height+component_height-MINI_BAR_HEIGHT}},{key:"_checkScroll",value:function _checkScroll(){var _props11=this.props,clip=_props11.clip,content_block_status=_props11.content_block_status,copyright_status=_props11.copyright_status,is_mini=_props11.is_mini;if(content_block_status.is_blocked||copyright_status.is_blocked||clip.is_unavailable){return}var scroll_pos=window.scrollY||window.pageYOffset;var minibar_visible=scroll_pos>=this.scroll_limit;var should_update=minibar_visible!==is_mini;if(!should_update){return}_AppDispatcher2.default.dispatch({action_type:_ClipActionTypes2.default.CLIP_PAGE_MINIBAR_TOGGLED,minibar_visible:minibar_visible})}},{key:"_resizePlayer",value:function _resizePlayer(){var _props12=this.props,is_mini=_props12.is_mini,is_player_fullscreen=_props12.is_player_fullscreen;if(!this.$player.length){this._set$DOMNodes()}if(is_player_fullscreen){this.$player_container.width("100%");this.$player_container.height("100%");this.$player_area.height("100%");this.$player_area.removeClass("is_mini");this.$player_area.addClass("is_fullscreen");return}var window_width=window.innerWidth;var available_width=window_width-PAGINATION_SPACE;var new_height=Math.max(MIN_PLAYER_HEIGHT,Math.min(_calculateHeightForWidth(available_width),MAX_PLAYER_HEIGHT));var new_width=Math.max(MIN_PLAYER_WIDTH,Math.min(_calculateWidthForHeight(new_height),available_width));this.$player_container.width(new_width);this.$player_container.height(new_height);this.$player_area.height(new_height);this.$player_area_wrapper.height(new_height);if(!is_mini&&!is_player_fullscreen){this.player_height=new_height}this._respondToTopnav();this.scroll_limit=this._calculateScrollLimit()}},{key:"_respondToTopnav",value:function _respondToTopnav(){var _this4=this;setTimeout(function(){var sticky_topnav=document.querySelector(".topnav_sticky");if(_this4.sticky_topnav!==sticky_topnav){_this4.sticky_topnav=sticky_topnav;_this4.forceUpdate()}},0)}},{key:"_getFullscreenElement",value:function _getFullscreenElement(){return this._elementNode||null}},{key:"_loadNextPage",value:function _loadNextPage(){var stream=_ContextualClipsStore2.default.getStream();var next_clip=_ContextualClipsStore2.default.getNextClip();var original_clip_id=_ContextualClipsStore2.default.getOriginalClip();if(next_clip){_ClipActions2.default.loadPage(original_clip_id,next_clip.id,stream.id,next_clip.stream_pos,false,-1)}}},{key:"_set$DOMNodes",value:function _set$DOMNodes(){this.$player=$(".js-player");this.$player_container=this.$player.parent();this.$player_area=this.$player_container.parent();this.$player_area_wrapper=this.$player_area.parent()}}]);return ClipPlayerArea}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"_playerStoreChange",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_playerStoreChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_playerAreaMouseEnter",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_playerAreaMouseEnter"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_playerAreaMouseLeave",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_playerAreaMouseLeave"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_dispatcherAction",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_dispatcherAction"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_openFlag",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_openFlag"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_loadPreviousClip",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_loadPreviousClip"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_loadNextClip",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_loadNextClip"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_willSendPlayLog",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_willSendPlayLog"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_outroDidMount",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_outroDidMount"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_outroTitleClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_outroTitleClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_loadUpNextClip",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_loadUpNextClip"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_progressClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_progressClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_progressMouseDown",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_progressMouseDown"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_progressMouseOver",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_progressMouseOver"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_progressMouseOut",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_progressMouseOut"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_progressComplete",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_progressComplete"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_playerReady",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_playerReady"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_willOpenShareOverlay",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_willOpenShareOverlay"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_willOpenVodPurchaseForm",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_willOpenVodPurchaseForm"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_willOpenCollectionsOverlay",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_willOpenCollectionsOverlay"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_checkScroll",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_checkScroll"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_resizePlayer",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_resizePlayer"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_respondToTopnav",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_respondToTopnav"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_getFullscreenElement",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_getFullscreenElement"),_class.prototype),_class);var UnavailableVideoMessage=function UnavailableVideoMessage(props){var cur_user=props.cur_user,thumbnail=props.thumbnail;var level=cur_user.account_type===_AccountTypes2.default.PRO_LAPSED?"pro":"plus";return _react2.default.createElement("div",{className:"clip_unavailable_overlay"},_react2.default.createElement("img",{width:"960",src:thumbnail.src,srcSet:thumbnail.src_2x+" 2x",alt:"",className:"thumbnail"}),_react2.default.createElement("div",{className:"clip_unavailable_message"},_react2.default.createElement("h2",{className:"clip_unavailable_head iris_header iris_header--36"},"This Video is Unavailable"),_react2.default.createElement("h3",{className:"clip_unavailable_subhead iris_header iris_header--24 iris_header--light"},"Your video has been moved to our archive because your Vimeo ",level.toUpperCase()," ",_react2.default.createElement("a",{className:"clip_unavailable_link",href:"/settings/renew"},"membership expired"),"."),_react2.default.createElement("h3",{className:"clip_unavailable_subhead iris_header iris_header--24 iris_header--light"},"To regain access to your video and make it publicly available, please ",_react2.default.createElement("a",{className:"clip_unavailable_link",href:"/cart/"+level},"renew your membership"),".")))};var MaybePlayer=function MaybePlayer(props){var copyright_status=props.copyright_status,content_block_status=props.content_block_status,is_unavailable=props.is_unavailable,cur_user=props.cur_user,owner=props.owner,thumbnail=props.thumbnail;if(copyright_status.is_blocked||content_block_status.is_blocked){return null}else if(is_unavailable&&cur_user&&owner&&cur_user.id===owner.id){return _react2.default.createElement(UnavailableVideoMessage,{cur_user:cur_user,thumbnail:thumbnail})}else{return _react2.default.createElement(_ClipPlayer2.default,props)}};function _calculateHeightForWidth(width){return Math.round(width*(PLAYER_DIMENSIONS.height/PLAYER_DIMENSIONS.width))}function _calculateWidthForHeight(height){return Math.round(height*(PLAYER_DIMENSIONS.width/PLAYER_DIMENSIONS.height))}function getYPos(element){var y_pos=0;do{y_pos+=element.offsetTop;element=element.offsetParent}while(element);return y_pos}function getStoreState(){var current_state=(0,_objectAssign2.default)({},{player:_PlayerStore2.default.getState()});return current_state}var preventDefault=function preventDefault(callback){return function(event){event.preventDefault();callback()}};ClipPlayerArea.propTypes={clip:_react2.default.PropTypes.object.isRequired,config_url:_react2.default.PropTypes.string.isRequired,player_url:_react2.default.PropTypes.string.isRequired,is_mini:_react2.default.PropTypes.bool.isRequired,cur_user:_react2.default.PropTypes.object,dimensions:_react2.default.PropTypes.object,show_outro:_react2.default.PropTypes.bool,show_new_outro:_react2.default.PropTypes.bool,show_survey:_react2.default.PropTypes.bool,survey_url:_react2.default.PropTypes.string,is_playback_complete:_react2.default.PropTypes.bool,is_player_fullscreen:_react2.default.PropTypes.bool,owner:_react2.default.PropTypes.object,is_following:_react2.default.PropTypes.bool,ondemand:_react2.default.PropTypes.object,continuous_play_enabled:_react2.default.PropTypes.bool,countdown_paused:_react2.default.PropTypes.bool,countdown_paused_user:_react2.default.PropTypes.bool,countdown_paused_mouseout:_react2.default.PropTypes.bool,content_block_status:_react2.default.PropTypes.object,copyright_status:_react2.default.PropTypes.object,should_autoplay:_react2.default.PropTypes.bool,thumbnail:_react2.default.PropTypes.object
};exports.default=ClipPlayerArea;module.exports=exports["default"]},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;(function(global,module){(function(){var undefined;var VERSION="4.17.4";var LARGE_ARRAY_SIZE=200;var CORE_ERROR_TEXT="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",FUNC_ERROR_TEXT="Expected a function";var HASH_UNDEFINED="__lodash_hash_undefined__";var MAX_MEMOIZE_SIZE=500;var PLACEHOLDER="__lodash_placeholder__";var CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4;var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;var WRAP_BIND_FLAG=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_BOUND_FLAG=4,WRAP_CURRY_FLAG=8,WRAP_CURRY_RIGHT_FLAG=16,WRAP_PARTIAL_FLAG=32,WRAP_PARTIAL_RIGHT_FLAG=64,WRAP_ARY_FLAG=128,WRAP_REARG_FLAG=256,WRAP_FLIP_FLAG=512;var DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...";var HOT_COUNT=800,HOT_SPAN=16;var LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2,LAZY_WHILE_FLAG=3;var INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,MAX_INTEGER=1.7976931348623157e308,NAN=0/0;var MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1;var wrapFlags=[["ary",WRAP_ARY_FLAG],["bind",WRAP_BIND_FLAG],["bindKey",WRAP_BIND_KEY_FLAG],["curry",WRAP_CURRY_FLAG],["curryRight",WRAP_CURRY_RIGHT_FLAG],["flip",WRAP_FLIP_FLAG],["partial",WRAP_PARTIAL_FLAG],["partialRight",WRAP_PARTIAL_RIGHT_FLAG],["rearg",WRAP_REARG_FLAG]];var argsTag="[object Arguments]",arrayTag="[object Array]",asyncTag="[object AsyncFunction]",boolTag="[object Boolean]",dateTag="[object Date]",domExcTag="[object DOMException]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",nullTag="[object Null]",objectTag="[object Object]",promiseTag="[object Promise]",proxyTag="[object Proxy]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",undefinedTag="[object Undefined]",weakMapTag="[object WeakMap]",weakSetTag="[object WeakSet]";var arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var reEscapedHtml=/&(?:amp|lt|gt|quot|#39);/g,reUnescapedHtml=/[&<>"']/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source);var reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g;var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=RegExp(reRegExpChar.source);var reTrim=/^\s+|\s+$/g,reTrimStart=/^\s+/,reTrimEnd=/\s+$/;var reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /;var reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var reEscapeChar=/\\(\\)?/g;var reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var reFlags=/\w*$/;var reIsBadHex=/^[-+]0x[0-9a-f]+$/i;var reIsBinary=/^0b[01]+$/i;var reIsHostCtor=/^\[object .+?Constructor\]$/;var reIsOctal=/^0o[0-7]+$/i;var reIsUint=/^(?:0|[1-9]\d*)$/;var reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;var reNoMatch=/($^)/;var reUnescapedString=/['\n\r\u2028\u2029\\]/g;var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsPunctuationRange="\\u2000-\\u206f",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange;var rsApos="['’]",rsAstral="["+rsAstralRange+"]",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboRange+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ="\\u200d";var rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",rsOptContrLower="(?:"+rsApos+"(?:d|ll|m|re|s|t|ve))?",rsOptContrUpper="(?:"+rsApos+"(?:D|LL|M|RE|S|T|VE))?",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsOrdLower="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",rsOrdUpper="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")";var reApos=RegExp(rsApos,"g");var reComboMark=RegExp(rsCombo,"g");var reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");var reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+"+rsOptContrLower+"(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+"+rsOptContrUpper+"(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+"+rsOptContrLower,rsUpper+"+"+rsOptContrUpper,rsOrdUpper,rsOrdLower,rsDigits,rsEmoji].join("|"),"g");var reHasUnicode=RegExp("["+rsZWJ+rsAstralRange+rsComboRange+rsVarRange+"]");var reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var contextProps=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"];var templateCounter=-1;var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=true;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=false;var deburredLetters={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"};var htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var htmlUnescapes={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};var stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};var freeParseFloat=parseFloat,freeParseInt=parseInt;var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function("return this")();var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports;var freeProcess=moduleExports&&freeGlobal.process;var nodeUtil=function(){try{return freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();var nodeIsArrayBuffer=nodeUtil&&nodeUtil.isArrayBuffer,nodeIsDate=nodeUtil&&nodeUtil.isDate,nodeIsMap=nodeUtil&&nodeUtil.isMap,nodeIsRegExp=nodeUtil&&nodeUtil.isRegExp,nodeIsSet=nodeUtil&&nodeUtil.isSet,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;function addMapEntry(map,pair){map.set(pair[0],pair[1]);return map}function addSetEntry(set,value){set.add(value);return set}function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function arrayAggregator(array,setter,iteratee,accumulator){var index=-1,length=array==null?0:array.length;while(++index<length){var value=array[index];setter(accumulator,value,iteratee(value),array)}return accumulator}function arrayEach(array,iteratee){var index=-1,length=array==null?0:array.length;while(++index<length){if(iteratee(array[index],index,array)===false){break}}return array}function arrayEachRight(array,iteratee){var length=array==null?0:array.length;while(length--){if(iteratee(array[length],length,array)===false){break}}return array}function arrayEvery(array,predicate){var index=-1,length=array==null?0:array.length;while(++index<length){if(!predicate(array[index],index,array)){return false}}return true}function arrayFilter(array,predicate){var index=-1,length=array==null?0:array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(predicate(value,index,array)){result[resIndex++]=value}}return result}function arrayIncludes(array,value){var length=array==null?0:array.length;return!!length&&baseIndexOf(array,value,0)>-1}function arrayIncludesWith(array,value,comparator){var index=-1,length=array==null?0:array.length;while(++index<length){if(comparator(value,array[index])){return true}}return false}function arrayMap(array,iteratee){var index=-1,length=array==null?0:array.length,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array)}return result}function arrayPush(array,values){var index=-1,length=values.length,offset=array.length;while(++index<length){array[offset+index]=values[index]}return array}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=array==null?0:array.length;if(initAccum&&length){accumulator=array[++index]}while(++index<length){accumulator=iteratee(accumulator,array[index],index,array)}return accumulator}function arrayReduceRight(array,iteratee,accumulator,initAccum){var length=array==null?0:array.length;if(initAccum&&length){accumulator=array[--length]}while(length--){accumulator=iteratee(accumulator,array[length],length,array)}return accumulator}function arraySome(array,predicate){var index=-1,length=array==null?0:array.length;while(++index<length){if(predicate(array[index],index,array)){return true}}return false}var asciiSize=baseProperty("length");function asciiToArray(string){return string.split("")}function asciiWords(string){return string.match(reAsciiWord)||[]}function baseFindKey(collection,predicate,eachFunc){var result;eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection)){result=key;return false}});return result}function baseFindIndex(array,predicate,fromIndex,fromRight){var length=array.length,index=fromIndex+(fromRight?1:-1);while(fromRight?index--:++index<length){if(predicate(array[index],index,array)){return index}}return-1}function baseIndexOf(array,value,fromIndex){return value===value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}function baseIndexOfWith(array,value,fromIndex,comparator){var index=fromIndex-1,length=array.length;while(++index<length){if(comparator(array[index],value)){return index}}return-1}function baseIsNaN(value){return value!==value}function baseMean(array,iteratee){var length=array==null?0:array.length;return length?baseSum(array,iteratee)/length:NAN}function baseProperty(key){return function(object){return object==null?undefined:object[key]}}function basePropertyOf(object){return function(key){return object==null?undefined:object[key]}}function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){eachFunc(collection,function(value,index,collection){accumulator=initAccum?(initAccum=false,value):iteratee(accumulator,value,index,collection)});return accumulator}function baseSortBy(array,comparer){var length=array.length;array.sort(comparer);while(length--){array[length]=array[length].value}return array}function baseSum(array,iteratee){var result,index=-1,length=array.length;while(++index<length){var current=iteratee(array[index]);if(current!==undefined){result=result===undefined?current:result+current}}return result}function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n){result[index]=iteratee(index)}return result}function baseToPairs(object,props){return arrayMap(props,function(key){return[key,object[key]]})}function baseUnary(func){return function(value){return func(value)}}function baseValues(object,props){return arrayMap(props,function(key){return object[key]})}function cacheHas(cache,key){return cache.has(key)}function charsStartIndex(strSymbols,chrSymbols){var index=-1,length=strSymbols.length;while(++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1){}return index}function charsEndIndex(strSymbols,chrSymbols){var index=strSymbols.length;while(index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1){}return index}function countHolders(array,placeholder){var length=array.length,result=0;while(length--){if(array[length]===placeholder){++result}}return result}var deburrLetter=basePropertyOf(deburredLetters);var escapeHtmlChar=basePropertyOf(htmlEscapes);function escapeStringChar(chr){return"\\"+stringEscapes[chr]}function getValue(object,key){return object==null?undefined:object[key]}function hasUnicode(string){return reHasUnicode.test(string)}function hasUnicodeWord(string){return reHasUnicodeWord.test(string)}function iteratorToArray(iterator){var data,result=[];while(!(data=iterator.next()).done){result.push(data.value)}return result}function mapToArray(map){var index=-1,result=Array(map.size);map.forEach(function(value,key){result[++index]=[key,value]});return result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function replaceHolders(array,placeholder){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(value===placeholder||value===PLACEHOLDER){array[index]=PLACEHOLDER;result[resIndex++]=index}}return result}function setToArray(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=value});return result}function setToPairs(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=[value,value]});return result}function strictIndexOf(array,value,fromIndex){var index=fromIndex-1,length=array.length;while(++index<length){if(array[index]===value){return index}}return-1}function strictLastIndexOf(array,value,fromIndex){var index=fromIndex+1;while(index--){if(array[index]===value){return index}}return index}function stringSize(string){return hasUnicode(string)?unicodeSize(string):asciiSize(string)}function stringToArray(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string)}var unescapeHtmlChar=basePropertyOf(htmlUnescapes);function unicodeSize(string){var result=reUnicode.lastIndex=0;while(reUnicode.test(string)){++result}return result}function unicodeToArray(string){return string.match(reUnicode)||[]}function unicodeWords(string){return string.match(reUnicodeWord)||[]}var runInContext=function runInContext(context){context=context==null?root:_.defaults(root.Object(),context,_.pick(root,contextProps));var Array=context.Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError;var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype;var coreJsData=context["__core-js_shared__"];var funcToString=funcProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;var idCounter=0;var maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}();var nativeObjectToString=objectProto.toString;var objectCtorString=funcToString.call(Object);var oldDash=root._;var reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Buffer=moduleExports?context.Buffer:undefined,Symbol=context.Symbol,Uint8Array=context.Uint8Array,allocUnsafe=Buffer?Buffer.allocUnsafe:undefined,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,spreadableSymbol=Symbol?Symbol.isConcatSpreadable:undefined,symIterator=Symbol?Symbol.iterator:undefined,symToStringTag=Symbol?Symbol.toStringTag:undefined;var defineProperty=function(){try{var func=getNative(Object,"defineProperty");func({},"",{});return func}catch(e){}}();var ctxClearTimeout=context.clearTimeout!==root.clearTimeout&&context.clearTimeout,ctxNow=Date&&Date.now!==root.Date.now&&Date.now,ctxSetTimeout=context.setTimeout!==root.setTimeout&&context.setTimeout;var nativeCeil=Math.ceil,nativeFloor=Math.floor,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:undefined,nativeIsFinite=context.isFinite,nativeJoin=arrayProto.join,nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max,nativeMin=Math.min,nativeNow=Date.now,nativeParseInt=context.parseInt,nativeRandom=Math.random,nativeReverse=arrayProto.reverse;var DataView=getNative(context,"DataView"),Map=getNative(context,"Map"),Promise=getNative(context,"Promise"),Set=getNative(context,"Set"),WeakMap=getNative(context,"WeakMap"),nativeCreate=getNative(Object,"create");var metaMap=WeakMap&&new WeakMap;var realNames={};var dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap);var symbolProto=Symbol?Symbol.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper){return value}if(hasOwnProperty.call(value,"__wrapped__")){return wrapperClone(value)}}return new LodashWrapper(value)}var baseCreate=function(){function object(){}return function(proto){if(!isObject(proto)){return{}}if(objectCreate){return objectCreate(proto)}object.prototype=proto;var result=new object;object.prototype=undefined;return result}}();function baseLodash(){}function LodashWrapper(value,chainAll){this.__wrapped__=value;this.__actions__=[];this.__chain__=!!chainAll;this.__index__=0;this.__values__=undefined}lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:lodash}};lodash.prototype=baseLodash.prototype;lodash.prototype.constructor=lodash;LodashWrapper.prototype=baseCreate(baseLodash.prototype);LodashWrapper.prototype.constructor=LodashWrapper;function LazyWrapper(value){this.__wrapped__=value;this.__actions__=[];this.__dir__=1;this.__filtered__=false;this.__iteratees__=[];this.__takeCount__=MAX_ARRAY_LENGTH;this.__views__=[]}function lazyClone(){var result=new LazyWrapper(this.__wrapped__);result.__actions__=copyArray(this.__actions__);result.__dir__=this.__dir__;result.__filtered__=this.__filtered__;result.__iteratees__=copyArray(this.__iteratees__);result.__takeCount__=this.__takeCount__;result.__views__=copyArray(this.__views__);return result}function lazyReverse(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1;result.__filtered__=true}else{result=this.clone();result.__dir__*=-1}return result}function lazyValue(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=dir<0,arrLength=isArr?array.length:0,view=getView(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||!isRight&&arrLength==length&&takeCount==length){return baseWrapperValue(array,this.__actions__)}var result=[];outer:while(length--&&resIndex<takeCount){index+=dir;var iterIndex=-1,value=array[index];while(++iterIndex<iterLength){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(type==LAZY_MAP_FLAG){value=computed}else if(!computed){if(type==LAZY_FILTER_FLAG){continue outer}else{break outer}}}result[resIndex++]=value}return result}LazyWrapper.prototype=baseCreate(baseLodash.prototype);LazyWrapper.prototype.constructor=LazyWrapper;function Hash(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{};this.size=0}function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];this.size-=result?1:0;return result}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(data,key)?data[key]:undefined}function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key)}function hashSet(key,value){var data=this.__data__;this.size+=this.has(key)?0:1;data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value;return this}Hash.prototype.clear=hashClear;Hash.prototype["delete"]=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function ListCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear(){this.__data__=[];this.size=0}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){return false}var lastIndex=data.length-1;if(index==lastIndex){data.pop()}else{splice.call(data,index,1)}--this.size;return true}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){++this.size;data.push([key,value])}else{data[index][1]=value}return this}ListCache.prototype.clear=listCacheClear;ListCache.prototype["delete"]=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function MapCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear(){this.size=0;this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function mapCacheDelete(key){var result=getMapData(this,key)["delete"](key);this.size-=result?1:0;return result}function mapCacheGet(key){return getMapData(this,key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;data.set(key,value);this.size+=data.size==size?0:1;return this}MapCache.prototype.clear=mapCacheClear;MapCache.prototype["delete"]=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function SetCache(values){var index=-1,length=values==null?0:values.length;this.__data__=new MapCache;while(++index<length){this.add(values[index])}}function setCacheAdd(value){this.__data__.set(value,HASH_UNDEFINED);return this}function setCacheHas(value){return this.__data__.has(value)}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}function stackClear(){this.__data__=new ListCache;this.size=0}function stackDelete(key){var data=this.__data__,result=data["delete"](key);this.size=data.size;return result}function stackGet(key){return this.__data__.get(key)}function stackHas(key){return this.__data__.has(key)}function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1){pairs.push([key,value]);this.size=++data.size;return this}data=this.__data__=new MapCache(pairs)}data.set(key,value);this.size=data.size;return this}Stack.prototype.clear=stackClear;Stack.prototype["delete"]=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value){if((inherited||hasOwnProperty.call(value,key))&&!(skipIndexes&&(key=="length"||isBuff&&(key=="offset"||key=="parent")||isType&&(key=="buffer"||key=="byteLength"||key=="byteOffset")||isIndex(key,length)))){result.push(key)}}return result}function arraySample(array){var length=array.length;return length?array[baseRandom(0,length-1)]:undefined}function arraySampleSize(array,n){return shuffleSelf(copyArray(array),baseClamp(n,0,array.length))}function arrayShuffle(array){return shuffleSelf(copyArray(array))}function assignMergeValue(object,key,value){if(value!==undefined&&!eq(object[key],value)||value===undefined&&!(key in object)){baseAssignValue(object,key,value)}}function assignValue(object,key,value){var objValue=object[key];if(!(hasOwnProperty.call(object,key)&&eq(objValue,value))||value===undefined&&!(key in object)){baseAssignValue(object,key,value)}}function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length}}return-1}function baseAggregator(collection,setter,iteratee,accumulator){baseEach(collection,function(value,key,collection){setter(accumulator,value,iteratee(value),collection)});return accumulator}function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}function baseAssignIn(object,source){return object&&copyObject(source,keysIn(source),object)}function baseAssignValue(object,key,value){if(key=="__proto__"&&defineProperty){defineProperty(object,key,{configurable:true,enumerable:true,value:value,writable:true})}else{object[key]=value}}function baseAt(object,paths){var index=-1,length=paths.length,result=Array(length),skip=object==null;while(++index<length){result[index]=skip?undefined:get(object,paths[index])}return result}function baseClamp(number,lower,upper){if(number===number){if(upper!==undefined){number=number<=upper?number:upper}if(lower!==undefined){number=number>=lower?number:lower}}return number}function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=bitmask&CLONE_DEEP_FLAG,isFlat=bitmask&CLONE_FLAT_FLAG,isFull=bitmask&CLONE_SYMBOLS_FLAG;if(customizer){result=object?customizer(value,key,object,stack):customizer(value)}if(result!==undefined){return result}if(!isObject(value)){return value}var isArr=isArray(value);if(isArr){result=initCloneArray(value);if(!isDeep){return copyArray(value,result)}}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value)){return cloneBuffer(value,isDeep)}if(tag==objectTag||tag==argsTag||isFunc&&!object){result=isFlat||isFunc?{}:initCloneObject(value);if(!isDeep){return isFlat?copySymbolsIn(value,baseAssignIn(result,value)):copySymbols(value,baseAssign(result,value))}}else{if(!cloneableTags[tag]){return object?value:{}}result=initCloneByTag(value,tag,baseClone,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked){return stacked}stack.set(value,result);var keysFunc=isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys;var props=isArr?undefined:keysFunc(value);arrayEach(props||value,function(subValue,key){if(props){key=subValue;subValue=value[key]}assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))});return result}function baseConforms(source){var props=keys(source);return function(object){return baseConformsTo(object,source,props)}}function baseConformsTo(object,source,props){var length=props.length;if(object==null){return!length}object=Object(object);while(length--){var key=props[length],predicate=source[key],value=object[key];if(value===undefined&&!(key in object)||!predicate(value)){return false}}return true}function baseDelay(func,wait,args){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return setTimeout(function(){func.apply(undefined,args)},wait)}function baseDifference(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=true,length=array.length,result=[],valuesLength=values.length;if(!length){return result}if(iteratee){values=arrayMap(values,baseUnary(iteratee))}if(comparator){includes=arrayIncludesWith;isCommon=false}else if(values.length>=LARGE_ARRAY_SIZE){includes=cacheHas;isCommon=false;values=new SetCache(values)}outer:while(++index<length){
var value=array[index],computed=iteratee==null?value:iteratee(value);value=comparator||value!==0?value:0;if(isCommon&&computed===computed){var valuesIndex=valuesLength;while(valuesIndex--){if(values[valuesIndex]===computed){continue outer}}result.push(value)}else if(!includes(values,computed,comparator)){result.push(value)}}return result}var baseEach=createBaseEach(baseForOwn);var baseEachRight=createBaseEach(baseForOwnRight,true);function baseEvery(collection,predicate){var result=true;baseEach(collection,function(value,index,collection){result=!!predicate(value,index,collection);return result});return result}function baseExtremum(array,iteratee,comparator){var index=-1,length=array.length;while(++index<length){var value=array[index],current=iteratee(value);if(current!=null&&(computed===undefined?current===current&&!isSymbol(current):comparator(current,computed))){var computed=current,result=value}}return result}function baseFill(array,value,start,end){var length=array.length;start=toInteger(start);if(start<0){start=-start>length?0:length+start}end=end===undefined||end>length?length:toInteger(end);if(end<0){end+=length}end=start>end?0:toLength(end);while(start<end){array[start++]=value}return array}function baseFilter(collection,predicate){var result=[];baseEach(collection,function(value,index,collection){if(predicate(value,index,collection)){result.push(value)}});return result}function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;predicate||(predicate=isFlattenable);result||(result=[]);while(++index<length){var value=array[index];if(depth>0&&predicate(value)){if(depth>1){baseFlatten(value,depth-1,predicate,isStrict,result)}else{arrayPush(result,value)}}else if(!isStrict){result[result.length]=value}}return result}var baseFor=createBaseFor();var baseForRight=createBaseFor(true);function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return object&&baseForRight(object,iteratee,keys)}function baseFunctions(object,props){return arrayFilter(props,function(key){return isFunction(object[key])})}function baseGet(object,path){path=castPath(path,object);var index=0,length=path.length;while(object!=null&&index<length){object=object[toKey(path[index++])]}return index&&index==length?object:undefined}function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}function baseGetTag(value){if(value==null){return value===undefined?undefinedTag:nullTag}return symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}function baseGt(value,other){return value>other}function baseHas(object,key){return object!=null&&hasOwnProperty.call(object,key)}function baseHasIn(object,key){return object!=null&&key in Object(object)}function baseInRange(number,start,end){return number>=nativeMin(start,end)&&number<nativeMax(start,end)}function baseIntersection(arrays,iteratee,comparator){var includes=comparator?arrayIncludesWith:arrayIncludes,length=arrays[0].length,othLength=arrays.length,othIndex=othLength,caches=Array(othLength),maxLength=Infinity,result=[];while(othIndex--){var array=arrays[othIndex];if(othIndex&&iteratee){array=arrayMap(array,baseUnary(iteratee))}maxLength=nativeMin(array.length,maxLength);caches[othIndex]=!comparator&&(iteratee||length>=120&&array.length>=120)?new SetCache(othIndex&&array):undefined}array=arrays[0];var index=-1,seen=caches[0];outer:while(++index<length&&result.length<maxLength){var value=array[index],computed=iteratee?iteratee(value):value;value=comparator||value!==0?value:0;if(!(seen?cacheHas(seen,computed):includes(result,computed,comparator))){othIndex=othLength;while(--othIndex){var cache=caches[othIndex];if(!(cache?cacheHas(cache,computed):includes(arrays[othIndex],computed,comparator))){continue outer}}if(seen){seen.push(computed)}result.push(value)}}return result}function baseInverter(object,setter,iteratee,accumulator){baseForOwn(object,function(value,key,object){setter(accumulator,iteratee(value),key,object)});return accumulator}function baseInvoke(object,path,args){path=castPath(path,object);object=parent(object,path);var func=object==null?object:object[toKey(last(path))];return func==null?undefined:apply(func,object,args)}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}function baseIsArrayBuffer(value){return isObjectLike(value)&&baseGetTag(value)==arrayBufferTag}function baseIsDate(value){return isObjectLike(value)&&baseGetTag(value)==dateTag}function baseIsEqual(value,other,bitmask,customizer,stack){if(value===other){return true}if(value==null||other==null||!isObjectLike(value)&&!isObjectLike(other)){return value!==value&&other!==other}return baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack)}function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other);objTag=objTag==argsTag?objectTag:objTag;othTag=othTag==argsTag?objectTag:othTag;var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other)){return false}objIsArr=true;objIsObj=false}if(isSameTag&&!objIsObj){stack||(stack=new Stack);return objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack)}if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;stack||(stack=new Stack);return equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}if(!isSameTag){return false}stack||(stack=new Stack);return equalObjects(object,other,bitmask,customizer,equalFunc,stack)}function baseIsMap(value){return isObjectLike(value)&&getTag(value)==mapTag}function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(object==null){return!length}object=Object(object);while(index--){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object)){return false}}while(++index<length){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object)){return false}}else{var stack=new Stack;if(customizer){var result=customizer(objValue,srcValue,key,object,source,stack)}if(!(result===undefined?baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG,customizer,stack):result)){return false}}}return true}function baseIsNative(value){if(!isObject(value)||isMasked(value)){return false}var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function baseIsRegExp(value){return isObjectLike(value)&&baseGetTag(value)==regexpTag}function baseIsSet(value){return isObjectLike(value)&&getTag(value)==setTag}function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}function baseIteratee(value){if(typeof value=="function"){return value}if(value==null){return identity}if(typeof value=="object"){return isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value)}return property(value)}function baseKeys(object){if(!isPrototype(object)){return nativeKeys(object)}var result=[];for(var key in Object(object)){if(hasOwnProperty.call(object,key)&&key!="constructor"){result.push(key)}}return result}function baseKeysIn(object){if(!isObject(object)){return nativeKeysIn(object)}var isProto=isPrototype(object),result=[];for(var key in object){if(!(key=="constructor"&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key)}}return result}function baseLt(value,other){return value<other}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)});return result}function baseMatches(source){var matchData=getMatchData(source);if(matchData.length==1&&matchData[0][2]){return matchesStrictComparable(matchData[0][0],matchData[0][1])}return function(object){return object===source||baseIsMatch(object,source,matchData)}}function baseMatchesProperty(path,srcValue){if(isKey(path)&&isStrictComparable(srcValue)){return matchesStrictComparable(toKey(path),srcValue)}return function(object){var objValue=get(object,path);return objValue===undefined&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseMerge(object,source,srcIndex,customizer,stack){if(object===source){return}baseFor(source,function(srcValue,key){if(isObject(srcValue)){stack||(stack=new Stack);baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack)}else{var newValue=customizer?customizer(object[key],srcValue,key+"",object,source,stack):undefined;if(newValue===undefined){newValue=srcValue}assignMergeValue(object,key,newValue)}},keysIn)}function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=object[key],srcValue=source[key],stacked=stack.get(srcValue);if(stacked){assignMergeValue(object,key,stacked);return}var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):undefined;var isCommon=newValue===undefined;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue;if(isArr||isBuff||isTyped){if(isArray(objValue)){newValue=objValue}else if(isArrayLikeObject(objValue)){newValue=copyArray(objValue)}else if(isBuff){isCommon=false;newValue=cloneBuffer(srcValue,true)}else if(isTyped){isCommon=false;newValue=cloneTypedArray(srcValue,true)}else{newValue=[]}}else if(isPlainObject(srcValue)||isArguments(srcValue)){newValue=objValue;if(isArguments(objValue)){newValue=toPlainObject(objValue)}else if(!isObject(objValue)||srcIndex&&isFunction(objValue)){newValue=initCloneObject(srcValue)}}else{isCommon=false}}if(isCommon){stack.set(srcValue,newValue);mergeFunc(newValue,srcValue,srcIndex,customizer,stack);stack["delete"](srcValue)}assignMergeValue(object,key,newValue)}function baseNth(array,n){var length=array.length;if(!length){return}n+=n<0?length:0;return isIndex(n,length)?array[n]:undefined}function baseOrderBy(collection,iteratees,orders){var index=-1;iteratees=arrayMap(iteratees.length?iteratees:[identity],baseUnary(getIteratee()));var result=baseMap(collection,function(value,key,collection){var criteria=arrayMap(iteratees,function(iteratee){return iteratee(value)});return{criteria:criteria,index:++index,value:value}});return baseSortBy(result,function(object,other){return compareMultiple(object,other,orders)})}function basePick(object,paths){return basePickBy(object,paths,function(value,path){return hasIn(object,path)})}function basePickBy(object,paths,predicate){var index=-1,length=paths.length,result={};while(++index<length){var path=paths[index],value=baseGet(object,path);if(predicate(value,path)){baseSet(result,castPath(path,object),value)}}return result}function basePropertyDeep(path){return function(object){return baseGet(object,path)}}function basePullAll(array,values,iteratee,comparator){var indexOf=comparator?baseIndexOfWith:baseIndexOf,index=-1,length=values.length,seen=array;if(array===values){values=copyArray(values)}if(iteratee){seen=arrayMap(array,baseUnary(iteratee))}while(++index<length){var fromIndex=0,value=values[index],computed=iteratee?iteratee(value):value;while((fromIndex=indexOf(seen,computed,fromIndex,comparator))>-1){if(seen!==array){splice.call(seen,fromIndex,1)}splice.call(array,fromIndex,1)}}return array}function basePullAt(array,indexes){var length=array?indexes.length:0,lastIndex=length-1;while(length--){var index=indexes[length];if(length==lastIndex||index!==previous){var previous=index;if(isIndex(index)){splice.call(array,index,1)}else{baseUnset(array,index)}}}return array}function baseRandom(lower,upper){return lower+nativeFloor(nativeRandom()*(upper-lower+1))}function baseRange(start,end,step,fromRight){var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);while(length--){result[fromRight?length:++index]=start;start+=step}return result}function baseRepeat(string,n){var result="";if(!string||n<1||n>MAX_SAFE_INTEGER){return result}do{if(n%2){result+=string}n=nativeFloor(n/2);if(n){string+=string}}while(n);return result}function baseRest(func,start){return setToString(overRest(func,start,identity),func+"")}function baseSample(collection){return arraySample(values(collection))}function baseSampleSize(collection,n){var array=values(collection);return shuffleSelf(array,baseClamp(n,0,array.length))}function baseSet(object,path,value,customizer){if(!isObject(object)){return object}path=castPath(path,object);var index=-1,length=path.length,lastIndex=length-1,nested=object;while(nested!=null&&++index<length){var key=toKey(path[index]),newValue=value;if(index!=lastIndex){var objValue=nested[key];newValue=customizer?customizer(objValue,key,nested):undefined;if(newValue===undefined){newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{}}}assignValue(nested,key,newValue);nested=nested[key]}return object}var baseSetData=!metaMap?identity:function(func,data){metaMap.set(func,data);return func};var baseSetToString=!defineProperty?identity:function(func,string){return defineProperty(func,"toString",{configurable:true,enumerable:false,value:constant(string),writable:true})};function baseShuffle(collection){return shuffleSelf(values(collection))}function baseSlice(array,start,end){var index=-1,length=array.length;if(start<0){start=-start>length?0:length+start}end=end>length?length:end;if(end<0){end+=length}length=start>end?0:end-start>>>0;start>>>=0;var result=Array(length);while(++index<length){result[index]=array[index+start]}return result}function baseSome(collection,predicate){var result;baseEach(collection,function(value,index,collection){result=predicate(value,index,collection);return!result});return!!result}function baseSortedIndex(array,value,retHighest){var low=0,high=array==null?low:array.length;if(typeof value=="number"&&value===value&&high<=HALF_MAX_ARRAY_LENGTH){while(low<high){var mid=low+high>>>1,computed=array[mid];if(computed!==null&&!isSymbol(computed)&&(retHighest?computed<=value:computed<value)){low=mid+1}else{high=mid}}return high}return baseSortedIndexBy(array,value,identity,retHighest)}function baseSortedIndexBy(array,value,iteratee,retHighest){value=iteratee(value);var low=0,high=array==null?0:array.length,valIsNaN=value!==value,valIsNull=value===null,valIsSymbol=isSymbol(value),valIsUndefined=value===undefined;while(low<high){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),othIsDefined=computed!==undefined,othIsNull=computed===null,othIsReflexive=computed===computed,othIsSymbol=isSymbol(computed);if(valIsNaN){var setLow=retHighest||othIsReflexive}else if(valIsUndefined){setLow=othIsReflexive&&(retHighest||othIsDefined)}else if(valIsNull){setLow=othIsReflexive&&othIsDefined&&(retHighest||!othIsNull)}else if(valIsSymbol){setLow=othIsReflexive&&othIsDefined&&!othIsNull&&(retHighest||!othIsSymbol)}else if(othIsNull||othIsSymbol){setLow=false}else{setLow=retHighest?computed<=value:computed<value}if(setLow){low=mid+1}else{high=mid}}return nativeMin(high,MAX_ARRAY_INDEX)}function baseSortedUniq(array,iteratee){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;if(!index||!eq(computed,seen)){var seen=computed;result[resIndex++]=value===0?0:value}}return result}function baseToNumber(value){if(typeof value=="number"){return value}if(isSymbol(value)){return NAN}return+value}function baseToString(value){if(typeof value=="string"){return value}if(isArray(value)){return arrayMap(value,baseToString)+""}if(isSymbol(value)){return symbolToString?symbolToString.call(value):""}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=true,result=[],seen=result;if(comparator){isCommon=false;includes=arrayIncludesWith}else if(length>=LARGE_ARRAY_SIZE){var set=iteratee?null:createSet(array);if(set){return setToArray(set)}isCommon=false;includes=cacheHas;seen=new SetCache}else{seen=iteratee?[]:result}outer:while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;value=comparator||value!==0?value:0;if(isCommon&&computed===computed){var seenIndex=seen.length;while(seenIndex--){if(seen[seenIndex]===computed){continue outer}}if(iteratee){seen.push(computed)}result.push(value)}else if(!includes(seen,computed,comparator)){if(seen!==result){seen.push(computed)}result.push(value)}}return result}function baseUnset(object,path){path=castPath(path,object);object=parent(object,path);return object==null||delete object[toKey(last(path))]}function baseUpdate(object,path,updater,customizer){return baseSet(object,path,updater(baseGet(object,path)),customizer)}function baseWhile(array,predicate,isDrop,fromRight){var length=array.length,index=fromRight?length:-1;while((fromRight?index--:++index<length)&&predicate(array[index],index,array)){}return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;if(result instanceof LazyWrapper){result=result.value()}return arrayReduce(actions,function(result,action){return action.func.apply(action.thisArg,arrayPush([result],action.args))},result)}function baseXor(arrays,iteratee,comparator){var length=arrays.length;if(length<2){return length?baseUniq(arrays[0]):[]}var index=-1,result=Array(length);while(++index<length){var array=arrays[index],othIndex=-1;while(++othIndex<length){if(othIndex!=index){result[index]=baseDifference(result[index]||array,arrays[othIndex],iteratee,comparator)}}}return baseUniq(baseFlatten(result,1),iteratee,comparator)}function baseZipObject(props,values,assignFunc){var index=-1,length=props.length,valsLength=values.length,result={};while(++index<length){var value=index<valsLength?values[index]:undefined;assignFunc(result,props[index],value)}return result}function castArrayLikeObject(value){return isArrayLikeObject(value)?value:[]}function castFunction(value){return typeof value=="function"?value:identity}function castPath(value,object){if(isArray(value)){return value}return isKey(value,object)?[value]:stringToPath(toString(value))}var castRest=baseRest;function castSlice(array,start,end){var length=array.length;end=end===undefined?length:end;return!start&&end>=length?array:baseSlice(array,start,end)}var clearTimeout=ctxClearTimeout||function(id){return root.clearTimeout(id)};function cloneBuffer(buffer,isDeep){if(isDeep){return buffer.slice()}var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);buffer.copy(result);return result}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);new Uint8Array(result).set(new Uint8Array(arrayBuffer));return result}function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}function cloneMap(map,isDeep,cloneFunc){var array=isDeep?cloneFunc(mapToArray(map),CLONE_DEEP_FLAG):mapToArray(map);return arrayReduce(array,addMapEntry,new map.constructor)}function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));result.lastIndex=regexp.lastIndex;return result}function cloneSet(set,isDeep,cloneFunc){var array=isDeep?cloneFunc(setToArray(set),CLONE_DEEP_FLAG):setToArray(set);return arrayReduce(array,addSetEntry,new set.constructor)}function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function compareAscending(value,other){if(value!==other){var valIsDefined=value!==undefined,valIsNull=value===null,valIsReflexive=value===value,valIsSymbol=isSymbol(value);var othIsDefined=other!==undefined,othIsNull=other===null,othIsReflexive=other===other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive){return 1}if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive){return-1}}return 0}function compareMultiple(object,other,orders){var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;while(++index<length){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength){return result}var order=orders[index];return result*(order=="desc"?-1:1)}}return object.index-other.index}function composeArgs(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersLength=holders.length,leftIndex=-1,leftLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(leftLength+rangeLength),isUncurried=!isCurried;while(++leftIndex<leftLength){result[leftIndex]=partials[leftIndex]}while(++argsIndex<holdersLength){if(isUncurried||argsIndex<argsLength){result[holders[argsIndex]]=args[argsIndex]}}while(rangeLength--){result[leftIndex++]=args[argsIndex++]}return result}function composeArgsRight(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersIndex=-1,holdersLength=holders.length,rightIndex=-1,rightLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(rangeLength+rightLength),isUncurried=!isCurried;while(++argsIndex<rangeLength){result[argsIndex]=args[argsIndex]}var offset=argsIndex;while(++rightIndex<rightLength){result[offset+rightIndex]=partials[rightIndex]}while(++holdersIndex<holdersLength){if(isUncurried||argsIndex<argsLength){result[offset+holders[holdersIndex]]=args[argsIndex++]}}return result}function copyArray(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length){array[index]=source[index]}return array}function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];var newValue=customizer?customizer(object[key],source[key],key,object,source):undefined;if(newValue===undefined){newValue=source[key]}if(isNew){baseAssignValue(object,key,newValue)}else{assignValue(object,key,newValue)}}return object}function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}function copySymbolsIn(source,object){return copyObject(source,getSymbolsIn(source),object)}function createAggregator(setter,initializer){return function(collection,iteratee){var func=isArray(collection)?arrayAggregator:baseAggregator,accumulator=initializer?initializer():{};return func(collection,setter,getIteratee(iteratee,2),accumulator)}}function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:undefined,guard=length>2?sources[2]:undefined;customizer=assigner.length>3&&typeof customizer=="function"?(length--,customizer):undefined;if(guard&&isIterateeCall(sources[0],sources[1],guard)){customizer=length<3?undefined:customizer;length=1}object=Object(object);while(++index<length){var source=sources[index];if(source){assigner(object,source,index,customizer)}}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(collection==null){return collection}if(!isArrayLike(collection)){return eachFunc(collection,iteratee)}var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);while(fromRight?index--:++index<length){if(iteratee(iterable[index],index,iterable)===false){break}}return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;while(length--){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===false){break}}return object}}function createBind(func,bitmask,thisArg){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);function wrapper(){var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(isBind?thisArg:this,arguments)}return wrapper}function createCaseFirst(methodName){return function(string){string=toString(string);var strSymbols=hasUnicode(string)?stringToArray(string):undefined;var chr=strSymbols?strSymbols[0]:string.charAt(0);var trailing=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,"")),callback,"")}}function createCtor(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createCurry(func,bitmask,arity){var Ctor=createCtor(func);function wrapper(){var length=arguments.length,args=Array(length),index=length,placeholder=getHolder(wrapper);while(index--){args[index]=arguments[index]}var holders=length<3&&args[0]!==placeholder&&args[length-1]!==placeholder?[]:replaceHolders(args,placeholder);length-=holders.length;if(length<arity){return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,undefined,args,holders,undefined,undefined,arity-length)}var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return apply(fn,this,args)}return wrapper}function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=getIteratee(predicate,3);collection=keys(collection);predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:undefined}}function createFlow(fromRight){return flatRest(function(funcs){var length=funcs.length,index=length,prereq=LodashWrapper.prototype.thru;if(fromRight){funcs.reverse()}while(index--){var func=funcs[index];if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}if(prereq&&!wrapper&&getFuncName(func)=="wrapper"){var wrapper=new LodashWrapper([],true)}}index=wrapper?index:length;while(++index<length){func=funcs[index];var funcName=getFuncName(func),data=funcName=="wrapper"?getData(func):undefined;if(data&&isLaziable(data[0])&&data[1]==(WRAP_ARY_FLAG|WRAP_CURRY_FLAG|WRAP_PARTIAL_FLAG|WRAP_REARG_FLAG)&&!data[4].length&&data[9]==1){wrapper=wrapper[getFuncName(data[0])].apply(wrapper,data[3])}else{wrapper=func.length==1&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}}return function(){var args=arguments,value=args[0];if(wrapper&&args.length==1&&isArray(value)){return wrapper.plant(value).value()}var index=0,result=length?funcs[index].apply(this,args):value;while(++index<length){result=funcs[index].call(this,result)}return result}})}function createHybrid(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=bitmask&WRAP_ARY_FLAG,isBind=bitmask&WRAP_BIND_FLAG,isBindKey=bitmask&WRAP_BIND_KEY_FLAG,isCurried=bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG),isFlip=bitmask&WRAP_FLIP_FLAG,Ctor=isBindKey?undefined:createCtor(func);function wrapper(){var length=arguments.length,args=Array(length),index=length;while(index--){args[index]=arguments[index]}if(isCurried){var placeholder=getHolder(wrapper),holdersCount=countHolders(args,placeholder)}if(partials){args=composeArgs(args,partials,holders,isCurried)}if(partialsRight){args=composeArgsRight(args,partialsRight,holdersRight,isCurried)}length-=holdersCount;if(isCurried&&length<arity){var newHolders=replaceHolders(args,placeholder);return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,thisArg,args,newHolders,argPos,ary,arity-length)}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;length=args.length;if(argPos){args=reorder(args,argPos)}else if(isFlip&&length>1){args.reverse()}if(isAry&&ary<length){args.length=ary}if(this&&this!==root&&this instanceof wrapper){fn=Ctor||createCtor(fn)}return fn.apply(thisBinding,args)}return wrapper}function createInverter(setter,toIteratee){return function(object,iteratee){return baseInverter(object,setter,toIteratee(iteratee),{})}}function createMathOperation(operator,defaultValue){return function(value,other){var result;if(value===undefined&&other===undefined){return defaultValue}if(value!==undefined){result=value}if(other!==undefined){if(result===undefined){return other}if(typeof value=="string"||typeof other=="string"){value=baseToString(value);other=baseToString(other)}else{value=baseToNumber(value);other=baseToNumber(other)}result=operator(value,other)}return result}}function createOver(arrayFunc){return flatRest(function(iteratees){iteratees=arrayMap(iteratees,baseUnary(getIteratee()));return baseRest(function(args){var thisArg=this;return arrayFunc(iteratees,function(iteratee){return apply(iteratee,thisArg,args)})})})}function createPadding(length,chars){chars=chars===undefined?" ":baseToString(chars);var charsLength=chars.length;if(charsLength<2){return charsLength?baseRepeat(chars,length):chars}var result=baseRepeat(chars,nativeCeil(length/stringSize(chars)));return hasUnicode(chars)?castSlice(stringToArray(result),0,length).join(""):result.slice(0,length)}function createPartial(func,bitmask,thisArg,partials){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);function wrapper(){var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength),fn=this&&this!==root&&this instanceof wrapper?Ctor:func;while(++leftIndex<leftLength){args[leftIndex]=partials[leftIndex]}while(argsLength--){args[leftIndex++]=arguments[++argsIndex]}return apply(fn,isBind?thisArg:this,args)}return wrapper}function createRange(fromRight){return function(start,end,step){if(step&&typeof step!="number"&&isIterateeCall(start,end,step)){end=step=undefined}start=toFinite(start);if(end===undefined){end=start;start=0}else{end=toFinite(end)}step=step===undefined?start<end?1:-1:toFinite(step);return baseRange(start,end,step,fromRight)}}function createRelationalOperation(operator){return function(value,other){if(!(typeof value=="string"&&typeof other=="string")){value=toNumber(value);other=toNumber(other)}return operator(value,other)}}function createRecurry(func,bitmask,wrapFunc,placeholder,thisArg,partials,holders,argPos,ary,arity){var isCurry=bitmask&WRAP_CURRY_FLAG,newHolders=isCurry?holders:undefined,newHoldersRight=isCurry?undefined:holders,newPartials=isCurry?partials:undefined,newPartialsRight=isCurry?undefined:partials;
bitmask|=isCurry?WRAP_PARTIAL_FLAG:WRAP_PARTIAL_RIGHT_FLAG;bitmask&=~(isCurry?WRAP_PARTIAL_RIGHT_FLAG:WRAP_PARTIAL_FLAG);if(!(bitmask&WRAP_CURRY_BOUND_FLAG)){bitmask&=~(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG)}var newData=[func,bitmask,thisArg,newPartials,newHolders,newPartialsRight,newHoldersRight,argPos,ary,arity];var result=wrapFunc.apply(undefined,newData);if(isLaziable(func)){setData(result,newData)}result.placeholder=placeholder;return setWrapToString(result,func,bitmask)}function createRound(methodName){var func=Math[methodName];return function(number,precision){number=toNumber(number);precision=precision==null?0:nativeMin(toInteger(precision),292);if(precision){var pair=(toString(number)+"e").split("e"),value=func(pair[0]+"e"+(+pair[1]+precision));pair=(toString(value)+"e").split("e");return+(pair[0]+"e"+(+pair[1]-precision))}return func(number)}}var createSet=!(Set&&1/setToArray(new Set([,-0]))[1]==INFINITY)?noop:function(values){return new Set(values)};function createToPairs(keysFunc){return function(object){var tag=getTag(object);if(tag==mapTag){return mapToArray(object)}if(tag==setTag){return setToPairs(object)}return baseToPairs(object,keysFunc(object))}}function createWrap(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&WRAP_BIND_KEY_FLAG;if(!isBindKey&&typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var length=partials?partials.length:0;if(!length){bitmask&=~(WRAP_PARTIAL_FLAG|WRAP_PARTIAL_RIGHT_FLAG);partials=holders=undefined}ary=ary===undefined?ary:nativeMax(toInteger(ary),0);arity=arity===undefined?arity:toInteger(arity);length-=holders?holders.length:0;if(bitmask&WRAP_PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=undefined}var data=isBindKey?undefined:getData(func);var newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data){mergeData(newData,data)}func=newData[0];bitmask=newData[1];thisArg=newData[2];partials=newData[3];holders=newData[4];arity=newData[9]=newData[9]===undefined?isBindKey?0:func.length:nativeMax(newData[9]-length,0);if(!arity&&bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)){bitmask&=~(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)}if(!bitmask||bitmask==WRAP_BIND_FLAG){var result=createBind(func,bitmask,thisArg)}else if(bitmask==WRAP_CURRY_FLAG||bitmask==WRAP_CURRY_RIGHT_FLAG){result=createCurry(func,bitmask,arity)}else if((bitmask==WRAP_PARTIAL_FLAG||bitmask==(WRAP_BIND_FLAG|WRAP_PARTIAL_FLAG))&&!holders.length){result=createPartial(func,bitmask,thisArg,partials)}else{result=createHybrid.apply(undefined,newData)}var setter=data?baseSetData:setData;return setWrapToString(setter(result,newData),func,bitmask)}function customDefaultsAssignIn(objValue,srcValue,key,object){if(objValue===undefined||eq(objValue,objectProto[key])&&!hasOwnProperty.call(object,key)){return srcValue}return objValue}function customDefaultsMerge(objValue,srcValue,key,object,source,stack){if(isObject(objValue)&&isObject(srcValue)){stack.set(srcValue,objValue);baseMerge(objValue,srcValue,undefined,customDefaultsMerge,stack);stack["delete"](srcValue)}return objValue}function customOmitClone(value){return isPlainObject(value)?undefined:value}function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength)){return false}var stacked=stack.get(array);if(stacked&&stack.get(other)){return stacked==other}var index=-1,result=true,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache:undefined;stack.set(array,other);stack.set(other,array);while(++index<arrLength){var arrValue=array[index],othValue=other[index];if(customizer){var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack)}if(compared!==undefined){if(compared){continue}result=false;break}if(seen){if(!arraySome(other,function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){return seen.push(othIndex)}})){result=false;break}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){result=false;break}}stack["delete"](array);stack["delete"](other);return result}function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset){return false}object=object.buffer;other=other.buffer;case arrayBufferTag:if(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other))){return false}return true;case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG;convert||(convert=setToArray);if(object.size!=other.size&&!isPartial){return false}var stacked=stack.get(object);if(stacked){return stacked==other}bitmask|=COMPARE_UNORDERED_FLAG;stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);stack["delete"](object);return result;case symbolTag:if(symbolValueOf){return symbolValueOf.call(object)==symbolValueOf.call(other)}}return false}function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,objProps=getAllKeys(object),objLength=objProps.length,othProps=getAllKeys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial){return false}var index=objLength;while(index--){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key))){return false}}var stacked=stack.get(object);if(stacked&&stack.get(other)){return stacked==other}var result=true;stack.set(object,other);stack.set(other,object);var skipCtor=isPartial;while(++index<objLength){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer){var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack)}if(!(compared===undefined?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=false;break}skipCtor||(skipCtor=key=="constructor")}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&("constructor"in object&&"constructor"in other)&&!(typeof objCtor=="function"&&objCtor instanceof objCtor&&typeof othCtor=="function"&&othCtor instanceof othCtor)){result=false}}stack["delete"](object);stack["delete"](other);return result}function flatRest(func){return setToString(overRest(func,undefined,flatten),func+"")}function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}var getData=!metaMap?noop:function(func){return metaMap.get(func)};function getFuncName(func){var result=func.name+"",array=realNames[result],length=hasOwnProperty.call(realNames,result)?array.length:0;while(length--){var data=array[length],otherFunc=data.func;if(otherFunc==null||otherFunc==func){return data.name}}return result}function getHolder(func){var object=hasOwnProperty.call(lodash,"placeholder")?lodash:func;return object.placeholder}function getIteratee(){var result=lodash.iteratee||iteratee;result=result===iteratee?baseIteratee:result;return arguments.length?result(arguments[0],arguments[1]):result}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data[typeof key=="string"?"string":"hash"]:data.map}function getMatchData(object){var result=keys(object),length=result.length;while(length--){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined}function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=true}catch(e){}var result=nativeObjectToString.call(value);if(unmasked){if(isOwn){value[symToStringTag]=tag}else{delete value[symToStringTag]}}return result}var getSymbols=!nativeGetSymbols?stubArray:function(object){if(object==null){return[]}object=Object(object);return arrayFilter(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable.call(object,symbol)})};var getSymbolsIn=!nativeGetSymbols?stubArray:function(object){var result=[];while(object){arrayPush(result,getSymbols(object));object=getPrototype(object)}return result};var getTag=baseGetTag;if(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag){getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:undefined,ctorString=Ctor?toSource(Ctor):"";if(ctorString){switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}}return result}}function getView(start,end,transforms){var index=-1,length=transforms.length;while(++index<length){var data=transforms[index],size=data.size;switch(data.type){case"drop":start+=size;break;case"dropRight":end-=size;break;case"take":end=nativeMin(end,start+size);break;case"takeRight":start=nativeMax(start,end-size);break}}return{start:start,end:end}}function getWrapDetails(source){var match=source.match(reWrapDetails);return match?match[1].split(reSplitDetails):[]}function hasPath(object,path,hasFunc){path=castPath(path,object);var index=-1,length=path.length,result=false;while(++index<length){var key=toKey(path[index]);if(!(result=object!=null&&hasFunc(object,key))){break}object=object[key]}if(result||++index!=length){return result}length=object==null?0:object.length;return!!length&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}function initCloneArray(array){var length=array.length,result=array.constructor(length);if(length&&typeof array[0]=="string"&&hasOwnProperty.call(array,"index")){result.index=array.index;result.input=array.input}return result}function initCloneObject(object){return typeof object.constructor=="function"&&!isPrototype(object)?baseCreate(getPrototype(object)):{}}function initCloneByTag(object,tag,cloneFunc,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return cloneDataView(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return cloneMap(object,isDeep,cloneFunc);case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);case setTag:return cloneSet(object,isDeep,cloneFunc);case symbolTag:return cloneSymbol(object)}}function insertWrapDetails(source,details){var length=details.length;if(!length){return source}var lastIndex=length-1;details[lastIndex]=(length>1?"& ":"")+details[lastIndex];details=details.join(length>2?", ":" ");return source.replace(reWrapComment,"{\n/* [wrapped with "+details+"] */\n")}function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}function isIndex(value,length){length=length==null?MAX_SAFE_INTEGER:length;return!!length&&(typeof value=="number"||reIsUint.test(value))&&(value>-1&&value%1==0&&value<length)}function isIterateeCall(value,index,object){if(!isObject(object)){return false}var type=typeof index;if(type=="number"?isArrayLike(object)&&isIndex(index,object.length):type=="string"&&index in object){return eq(object[index],value)}return false}function isKey(value,object){if(isArray(value)){return false}var type=typeof value;if(type=="number"||type=="symbol"||type=="boolean"||value==null||isSymbol(value)){return true}return reIsPlainProp.test(value)||!reIsDeepProp.test(value)||object!=null&&value in Object(object)}function isKeyable(value){var type=typeof value;return type=="string"||type=="number"||type=="symbol"||type=="boolean"?value!=="__proto__":value===null}function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if(typeof other!="function"||!(funcName in LazyWrapper.prototype)){return false}if(func===other){return true}var data=getData(other);return!!data&&func===data[0]}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}var isMaskable=coreJsData?isFunction:stubFalse;function isPrototype(value){var Ctor=value&&value.constructor,proto=typeof Ctor=="function"&&Ctor.prototype||objectProto;return value===proto}function isStrictComparable(value){return value===value&&!isObject(value)}function matchesStrictComparable(key,srcValue){return function(object){if(object==null){return false}return object[key]===srcValue&&(srcValue!==undefined||key in Object(object))}}function memoizeCapped(func){var result=memoize(func,function(key){if(cache.size===MAX_MEMOIZE_SIZE){cache.clear()}return key});var cache=result.cache;return result}function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG|WRAP_ARY_FLAG);var isCombo=srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_CURRY_FLAG||srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(WRAP_ARY_FLAG|WRAP_REARG_FLAG)&&source[7].length<=source[8]&&bitmask==WRAP_CURRY_FLAG;if(!(isCommon||isCombo)){return data}if(srcBitmask&WRAP_BIND_FLAG){data[2]=source[2];newBitmask|=bitmask&WRAP_BIND_FLAG?0:WRAP_CURRY_BOUND_FLAG}var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):value;data[4]=partials?replaceHolders(data[3],PLACEHOLDER):source[4]}value=source[5];if(value){partials=data[5];data[5]=partials?composeArgsRight(partials,value,source[6]):value;data[6]=partials?replaceHolders(data[5],PLACEHOLDER):source[6]}value=source[7];if(value){data[7]=value}if(srcBitmask&WRAP_ARY_FLAG){data[8]=data[8]==null?source[8]:nativeMin(data[8],source[8])}if(data[9]==null){data[9]=source[9]}data[0]=source[0];data[1]=newBitmask;return data}function nativeKeysIn(object){var result=[];if(object!=null){for(var key in Object(object)){result.push(key)}}return result}function objectToString(value){return nativeObjectToString.call(value)}function overRest(func,start,transform){start=nativeMax(start===undefined?func.length-1:start,0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);while(++index<length){array[index]=args[start+index]}index=-1;var otherArgs=Array(start+1);while(++index<start){otherArgs[index]=args[index]}otherArgs[start]=transform(array);return apply(func,this,otherArgs)}}function parent(object,path){return path.length<2?object:baseGet(object,baseSlice(path,0,-1))}function reorder(array,indexes){var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=copyArray(array);while(length--){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}var setData=shortOut(baseSetData);var setTimeout=ctxSetTimeout||function(func,wait){return root.setTimeout(func,wait)};var setToString=shortOut(baseSetToString);function setWrapToString(wrapper,reference,bitmask){var source=reference+"";return setToString(wrapper,insertWrapDetails(source,updateWrapDetails(getWrapDetails(source),bitmask)))}function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);lastCalled=stamp;if(remaining>0){if(++count>=HOT_COUNT){return arguments[0]}}else{count=0}return func.apply(undefined,arguments)}}function shuffleSelf(array,size){var index=-1,length=array.length,lastIndex=length-1;size=size===undefined?length:size;while(++index<size){var rand=baseRandom(index,lastIndex),value=array[rand];array[rand]=array[index];array[index]=value}array.length=size;return array}var stringToPath=memoizeCapped(function(string){var result=[];if(reLeadingDot.test(string)){result.push("")}string.replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)});return result});function toKey(value){if(typeof value=="string"||isSymbol(value)){return value}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}function toSource(func){if(func!=null){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function updateWrapDetails(details,bitmask){arrayEach(wrapFlags,function(pair){var value="_."+pair[0];if(bitmask&pair[1]&&!arrayIncludes(details,value)){details.push(value)}});return details.sort()}function wrapperClone(wrapper){if(wrapper instanceof LazyWrapper){return wrapper.clone()}var result=new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__);result.__actions__=copyArray(wrapper.__actions__);result.__index__=wrapper.__index__;result.__values__=wrapper.__values__;return result}function chunk(array,size,guard){if(guard?isIterateeCall(array,size,guard):size===undefined){size=1}else{size=nativeMax(toInteger(size),0)}var length=array==null?0:array.length;if(!length||size<1){return[]}var index=0,resIndex=0,result=Array(nativeCeil(length/size));while(index<length){result[resIndex++]=baseSlice(array,index,index+=size)}return result}function compact(array){var index=-1,length=array==null?0:array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(value){result[resIndex++]=value}}return result}function concat(){var length=arguments.length;if(!length){return[]}var args=Array(length-1),array=arguments[0],index=length;while(index--){args[index-1]=arguments[index]}return arrayPush(isArray(array)?copyArray(array):[array],baseFlatten(args,1))}var difference=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true)):[]});var differenceBy=baseRest(function(array,values){var iteratee=last(values);if(isArrayLikeObject(iteratee)){iteratee=undefined}return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true),getIteratee(iteratee,2)):[]});var differenceWith=baseRest(function(array,values){var comparator=last(values);if(isArrayLikeObject(comparator)){comparator=undefined}return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true),undefined,comparator):[]});function drop(array,n,guard){var length=array==null?0:array.length;if(!length){return[]}n=guard||n===undefined?1:toInteger(n);return baseSlice(array,n<0?0:n,length)}function dropRight(array,n,guard){var length=array==null?0:array.length;if(!length){return[]}n=guard||n===undefined?1:toInteger(n);n=length-n;return baseSlice(array,0,n<0?0:n)}function dropRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),true,true):[]}function dropWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),true):[]}function fill(array,value,start,end){var length=array==null?0:array.length;if(!length){return[]}if(start&&typeof start!="number"&&isIterateeCall(array,value,start)){start=0;end=length}return baseFill(array,value,start,end)}function findIndex(array,predicate,fromIndex){var length=array==null?0:array.length;if(!length){return-1}var index=fromIndex==null?0:toInteger(fromIndex);if(index<0){index=nativeMax(length+index,0)}return baseFindIndex(array,getIteratee(predicate,3),index)}function findLastIndex(array,predicate,fromIndex){var length=array==null?0:array.length;if(!length){return-1}var index=length-1;if(fromIndex!==undefined){index=toInteger(fromIndex);index=fromIndex<0?nativeMax(length+index,0):nativeMin(index,length-1)}return baseFindIndex(array,getIteratee(predicate,3),index,true)}function flatten(array){var length=array==null?0:array.length;return length?baseFlatten(array,1):[]}function flattenDeep(array){var length=array==null?0:array.length;return length?baseFlatten(array,INFINITY):[]}function flattenDepth(array,depth){var length=array==null?0:array.length;if(!length){return[]}depth=depth===undefined?1:toInteger(depth);return baseFlatten(array,depth)}function fromPairs(pairs){var index=-1,length=pairs==null?0:pairs.length,result={};while(++index<length){var pair=pairs[index];result[pair[0]]=pair[1]}return result}function head(array){return array&&array.length?array[0]:undefined}function indexOf(array,value,fromIndex){var length=array==null?0:array.length;if(!length){return-1}var index=fromIndex==null?0:toInteger(fromIndex);if(index<0){index=nativeMax(length+index,0)}return baseIndexOf(array,value,index)}function initial(array){var length=array==null?0:array.length;return length?baseSlice(array,0,-1):[]}var intersection=baseRest(function(arrays){var mapped=arrayMap(arrays,castArrayLikeObject);return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped):[]});var intersectionBy=baseRest(function(arrays){var iteratee=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);if(iteratee===last(mapped)){iteratee=undefined}else{mapped.pop()}return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,getIteratee(iteratee,2)):[]});var intersectionWith=baseRest(function(arrays){var comparator=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);comparator=typeof comparator=="function"?comparator:undefined;if(comparator){mapped.pop()}return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,undefined,comparator):[]});function join(array,separator){return array==null?"":nativeJoin.call(array,separator)}function last(array){var length=array==null?0:array.length;return length?array[length-1]:undefined}function lastIndexOf(array,value,fromIndex){var length=array==null?0:array.length;if(!length){return-1}var index=length;if(fromIndex!==undefined){index=toInteger(fromIndex);index=index<0?nativeMax(length+index,0):nativeMin(index,length-1)}return value===value?strictLastIndexOf(array,value,index):baseFindIndex(array,baseIsNaN,index,true)}function nth(array,n){return array&&array.length?baseNth(array,toInteger(n)):undefined}var pull=baseRest(pullAll);function pullAll(array,values){return array&&array.length&&values&&values.length?basePullAll(array,values):array}function pullAllBy(array,values,iteratee){return array&&array.length&&values&&values.length?basePullAll(array,values,getIteratee(iteratee,2)):array}function pullAllWith(array,values,comparator){return array&&array.length&&values&&values.length?basePullAll(array,values,undefined,comparator):array}var pullAt=flatRest(function(array,indexes){var length=array==null?0:array.length,result=baseAt(array,indexes);basePullAt(array,arrayMap(indexes,function(index){return isIndex(index,length)?+index:index}).sort(compareAscending));return result});function remove(array,predicate){var result=[];if(!(array&&array.length)){return result}var index=-1,indexes=[],length=array.length;predicate=getIteratee(predicate,3);while(++index<length){var value=array[index];if(predicate(value,index,array)){result.push(value);indexes.push(index)}}basePullAt(array,indexes);return result}function reverse(array){return array==null?array:nativeReverse.call(array)}function slice(array,start,end){var length=array==null?0:array.length;if(!length){return[]}if(end&&typeof end!="number"&&isIterateeCall(array,start,end)){start=0;end=length}else{start=start==null?0:toInteger(start);end=end===undefined?length:toInteger(end)}return baseSlice(array,start,end)}function sortedIndex(array,value){return baseSortedIndex(array,value)}function sortedIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2))}function sortedIndexOf(array,value){var length=array==null?0:array.length;if(length){var index=baseSortedIndex(array,value);if(index<length&&eq(array[index],value)){return index}}return-1}function sortedLastIndex(array,value){return baseSortedIndex(array,value,true)}function sortedLastIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2),true)}function sortedLastIndexOf(array,value){var length=array==null?0:array.length;if(length){var index=baseSortedIndex(array,value,true)-1;if(eq(array[index],value)){return index}}return-1}function sortedUniq(array){return array&&array.length?baseSortedUniq(array):[]}function sortedUniqBy(array,iteratee){return array&&array.length?baseSortedUniq(array,getIteratee(iteratee,2)):[]}function tail(array){var length=array==null?0:array.length;return length?baseSlice(array,1,length):[]}function take(array,n,guard){if(!(array&&array.length)){return[]}n=guard||n===undefined?1:toInteger(n);return baseSlice(array,0,n<0?0:n)}function takeRight(array,n,guard){var length=array==null?0:array.length;if(!length){return[]}n=guard||n===undefined?1:toInteger(n);n=length-n;return baseSlice(array,n<0?0:n,length)}function takeRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),false,true):[]}function takeWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3)):[]}var union=baseRest(function(arrays){return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true))});var unionBy=baseRest(function(arrays){var iteratee=last(arrays);if(isArrayLikeObject(iteratee)){iteratee=undefined}return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true),getIteratee(iteratee,2))});var unionWith=baseRest(function(arrays){var comparator=last(arrays);comparator=typeof comparator=="function"?comparator:undefined;return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true),undefined,comparator)});function uniq(array){return array&&array.length?baseUniq(array):[]}function uniqBy(array,iteratee){return array&&array.length?baseUniq(array,getIteratee(iteratee,2)):[]}function uniqWith(array,comparator){comparator=typeof comparator=="function"?comparator:undefined;return array&&array.length?baseUniq(array,undefined,comparator):[]}function unzip(array){if(!(array&&array.length)){return[]}var length=0;array=arrayFilter(array,function(group){if(isArrayLikeObject(group)){length=nativeMax(group.length,length);return true}});return baseTimes(length,function(index){return arrayMap(array,baseProperty(index))})}function unzipWith(array,iteratee){if(!(array&&array.length)){return[]}var result=unzip(array);if(iteratee==null){return result}return arrayMap(result,function(group){return apply(iteratee,undefined,group)})}var without=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,values):[]});var xor=baseRest(function(arrays){return baseXor(arrayFilter(arrays,isArrayLikeObject))});var xorBy=baseRest(function(arrays){var iteratee=last(arrays);if(isArrayLikeObject(iteratee)){iteratee=undefined}return baseXor(arrayFilter(arrays,isArrayLikeObject),getIteratee(iteratee,2))});var xorWith=baseRest(function(arrays){var comparator=last(arrays);comparator=typeof comparator=="function"?comparator:undefined;return baseXor(arrayFilter(arrays,isArrayLikeObject),undefined,comparator)});var zip=baseRest(unzip);function zipObject(props,values){return baseZipObject(props||[],values||[],assignValue)}function zipObjectDeep(props,values){return baseZipObject(props||[],values||[],baseSet)}var zipWith=baseRest(function(arrays){var length=arrays.length,iteratee=length>1?arrays[length-1]:undefined;iteratee=typeof iteratee=="function"?(arrays.pop(),iteratee):undefined;return unzipWith(arrays,iteratee)});function chain(value){var result=lodash(value);result.__chain__=true;return result}function tap(value,interceptor){interceptor(value);return value}function thru(value,interceptor){return interceptor(value)}var wrapperAt=flatRest(function(paths){var length=paths.length,start=length?paths[0]:0,value=this.__wrapped__,interceptor=function(object){return baseAt(object,paths)};if(length>1||this.__actions__.length||!(value instanceof LazyWrapper)||!isIndex(start)){return this.thru(interceptor)}value=value.slice(start,+start+(length?1:0));value.__actions__.push({func:thru,args:[interceptor],thisArg:undefined});return new LodashWrapper(value,this.__chain__).thru(function(array){if(length&&!array.length){array.push(undefined)}return array})});function wrapperChain(){return chain(this)}function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)}function wrapperNext(){if(this.__values__===undefined){this.__values__=toArray(this.value())}var done=this.__index__>=this.__values__.length,value=done?undefined:this.__values__[this.__index__++];return{done:done,value:value}}function wrapperToIterator(){return this}function wrapperPlant(value){var result,parent=this;while(parent instanceof baseLodash){var clone=wrapperClone(parent);clone.__index__=0;clone.__values__=undefined;if(result){previous.__wrapped__=clone}else{result=clone}var previous=clone;parent=parent.__wrapped__}previous.__wrapped__=value;return result}function wrapperReverse(){var value=this.__wrapped__;if(value instanceof LazyWrapper){var wrapped=value;if(this.__actions__.length){wrapped=new LazyWrapper(this)}wrapped=wrapped.reverse();wrapped.__actions__.push({func:thru,args:[reverse],thisArg:undefined});return new LodashWrapper(wrapped,this.__chain__)}return this.thru(reverse)}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}var countBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key)){++result[key]}else{baseAssignValue(result,key,1)}});function every(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;if(guard&&isIterateeCall(collection,predicate,guard)){predicate=undefined}return func(collection,getIteratee(predicate,3))}function filter(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,getIteratee(predicate,3))}var find=createFind(findIndex);var findLast=createFind(findLastIndex);function flatMap(collection,iteratee){return baseFlatten(map(collection,iteratee),1)}function flatMapDeep(collection,iteratee){return baseFlatten(map(collection,iteratee),INFINITY)}function flatMapDepth(collection,iteratee,depth){depth=depth===undefined?1:toInteger(depth);return baseFlatten(map(collection,iteratee),depth)}function forEach(collection,iteratee){var func=isArray(collection)?arrayEach:baseEach;return func(collection,getIteratee(iteratee,3))}function forEachRight(collection,iteratee){var func=isArray(collection)?arrayEachRight:baseEachRight;return func(collection,getIteratee(iteratee,3))}var groupBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key)){result[key].push(value)}else{baseAssignValue(result,key,[value])}});function includes(collection,value,fromIndex,guard){collection=isArrayLike(collection)?collection:values(collection);fromIndex=fromIndex&&!guard?toInteger(fromIndex):0;var length=collection.length;if(fromIndex<0){fromIndex=nativeMax(length+fromIndex,0)}return isString(collection)?fromIndex<=length&&collection.indexOf(value,fromIndex)>-1:!!length&&baseIndexOf(collection,value,fromIndex)>-1}var invokeMap=baseRest(function(collection,path,args){var index=-1,isFunc=typeof path=="function",result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value){result[++index]=isFunc?apply(path,value,args):baseInvoke(value,path,args)});return result});var keyBy=createAggregator(function(result,value,key){baseAssignValue(result,key,value)});function map(collection,iteratee){var func=isArray(collection)?arrayMap:baseMap;return func(collection,getIteratee(iteratee,3))}function orderBy(collection,iteratees,orders,guard){if(collection==null){return[]}if(!isArray(iteratees)){
iteratees=iteratees==null?[]:[iteratees]}orders=guard?undefined:orders;if(!isArray(orders)){orders=orders==null?[]:[orders]}return baseOrderBy(collection,iteratees,orders)}var partition=createAggregator(function(result,value,key){result[key?0:1].push(value)},function(){return[[],[]]});function reduce(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEach)}function reduceRight(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduceRight:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEachRight)}function reject(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,negate(getIteratee(predicate,3)))}function sample(collection){var func=isArray(collection)?arraySample:baseSample;return func(collection)}function sampleSize(collection,n,guard){if(guard?isIterateeCall(collection,n,guard):n===undefined){n=1}else{n=toInteger(n)}var func=isArray(collection)?arraySampleSize:baseSampleSize;return func(collection,n)}function shuffle(collection){var func=isArray(collection)?arrayShuffle:baseShuffle;return func(collection)}function size(collection){if(collection==null){return 0}if(isArrayLike(collection)){return isString(collection)?stringSize(collection):collection.length}var tag=getTag(collection);if(tag==mapTag||tag==setTag){return collection.size}return baseKeys(collection).length}function some(collection,predicate,guard){var func=isArray(collection)?arraySome:baseSome;if(guard&&isIterateeCall(collection,predicate,guard)){predicate=undefined}return func(collection,getIteratee(predicate,3))}var sortBy=baseRest(function(collection,iteratees){if(collection==null){return[]}var length=iteratees.length;if(length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])){iteratees=[]}else if(length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])){iteratees=[iteratees[0]]}return baseOrderBy(collection,baseFlatten(iteratees,1),[])});var now=ctxNow||function(){return root.Date.now()};function after(n,func){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}n=toInteger(n);return function(){if(--n<1){return func.apply(this,arguments)}}}function ary(func,n,guard){n=guard?undefined:n;n=func&&n==null?func.length:n;return createWrap(func,WRAP_ARY_FLAG,undefined,undefined,undefined,undefined,n)}function before(n,func){var result;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}n=toInteger(n);return function(){if(--n>0){result=func.apply(this,arguments)}if(n<=1){func=undefined}return result}}var bind=baseRest(function(func,thisArg,partials){var bitmask=WRAP_BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bind));bitmask|=WRAP_PARTIAL_FLAG}return createWrap(func,bitmask,thisArg,partials,holders)});var bindKey=baseRest(function(object,key,partials){var bitmask=WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bindKey));bitmask|=WRAP_PARTIAL_FLAG}return createWrap(key,bitmask,object,partials,holders)});function curry(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,WRAP_CURRY_FLAG,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curry.placeholder;return result}function curryRight(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,WRAP_CURRY_RIGHT_FLAG,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curryRight.placeholder;return result}function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=false,maxing=false,trailing=true;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}wait=toNumber(wait)||0;if(isObject(options)){leading=!!options.leading;maxing="maxWait"in options;maxWait=maxing?nativeMax(toNumber(options.maxWait)||0,wait):maxWait;trailing="trailing"in options?!!options.trailing:trailing}function invokeFunc(time){var args=lastArgs,thisArg=lastThis;lastArgs=lastThis=undefined;lastInvokeTime=time;result=func.apply(thisArg,args);return result}function leadingEdge(time){lastInvokeTime=time;timerId=setTimeout(timerExpired,wait);return leading?invokeFunc(time):result}function remainingWait(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime,result=wait-timeSinceLastCall;return maxing?nativeMin(result,maxWait-timeSinceLastInvoke):result}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime;return lastCallTime===undefined||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&timeSinceLastInvoke>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time)){return trailingEdge(time)}timerId=setTimeout(timerExpired,remainingWait(time))}function trailingEdge(time){timerId=undefined;if(trailing&&lastArgs){return invokeFunc(time)}lastArgs=lastThis=undefined;return result}function cancel(){if(timerId!==undefined){clearTimeout(timerId)}lastInvokeTime=0;lastArgs=lastCallTime=lastThis=timerId=undefined}function flush(){return timerId===undefined?result:trailingEdge(now())}function debounced(){var time=now(),isInvoking=shouldInvoke(time);lastArgs=arguments;lastThis=this;lastCallTime=time;if(isInvoking){if(timerId===undefined){return leadingEdge(lastCallTime)}if(maxing){timerId=setTimeout(timerExpired,wait);return invokeFunc(lastCallTime)}}if(timerId===undefined){timerId=setTimeout(timerExpired,wait)}return result}debounced.cancel=cancel;debounced.flush=flush;return debounced}var defer=baseRest(function(func,args){return baseDelay(func,1,args)});var delay=baseRest(function(func,wait,args){return baseDelay(func,toNumber(wait)||0,args)});function flip(func){return createWrap(func,WRAP_FLIP_FLAG)}function memoize(func,resolver){if(typeof func!="function"||resolver!=null&&typeof resolver!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key)){return cache.get(key)}var result=func.apply(this,args);memoized.cache=cache.set(key,result)||cache;return result};memoized.cache=new(memoize.Cache||MapCache);return memoized}memoize.Cache=MapCache;function negate(predicate){if(typeof predicate!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return function(){var args=arguments;switch(args.length){case 0:return!predicate.call(this);case 1:return!predicate.call(this,args[0]);case 2:return!predicate.call(this,args[0],args[1]);case 3:return!predicate.call(this,args[0],args[1],args[2])}return!predicate.apply(this,args)}}function once(func){return before(2,func)}var overArgs=castRest(function(func,transforms){transforms=transforms.length==1&&isArray(transforms[0])?arrayMap(transforms[0],baseUnary(getIteratee())):arrayMap(baseFlatten(transforms,1),baseUnary(getIteratee()));var funcsLength=transforms.length;return baseRest(function(args){var index=-1,length=nativeMin(args.length,funcsLength);while(++index<length){args[index]=transforms[index].call(this,args[index])}return apply(func,this,args)})});var partial=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partial));return createWrap(func,WRAP_PARTIAL_FLAG,undefined,partials,holders)});var partialRight=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partialRight));return createWrap(func,WRAP_PARTIAL_RIGHT_FLAG,undefined,partials,holders)});var rearg=flatRest(function(func,indexes){return createWrap(func,WRAP_REARG_FLAG,undefined,undefined,undefined,indexes)});function rest(func,start){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}start=start===undefined?start:toInteger(start);return baseRest(func,start)}function spread(func,start){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}start=start==null?0:nativeMax(toInteger(start),0);return baseRest(function(args){var array=args[start],otherArgs=castSlice(args,0,start);if(array){arrayPush(otherArgs,array)}return apply(func,this,otherArgs)})}function throttle(func,wait,options){var leading=true,trailing=true;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}if(isObject(options)){leading="leading"in options?!!options.leading:leading;trailing="trailing"in options?!!options.trailing:trailing}return debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})}function unary(func){return ary(func,1)}function wrap(value,wrapper){return partial(castFunction(wrapper),value)}function castArray(){if(!arguments.length){return[]}var value=arguments[0];return isArray(value)?value:[value]}function clone(value){return baseClone(value,CLONE_SYMBOLS_FLAG)}function cloneWith(value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return baseClone(value,CLONE_SYMBOLS_FLAG,customizer)}function cloneDeep(value){return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}function cloneDeepWith(value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG,customizer)}function conformsTo(object,source){return source==null||baseConformsTo(object,source,keys(source))}function eq(value,other){return value===other||value!==value&&other!==other}var gt=createRelationalOperation(baseGt);var gte=createRelationalOperation(function(value,other){return value>=other});var isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};var isArray=Array.isArray;var isArrayBuffer=nodeIsArrayBuffer?baseUnary(nodeIsArrayBuffer):baseIsArrayBuffer;function isArrayLike(value){return value!=null&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isBoolean(value){return value===true||value===false||isObjectLike(value)&&baseGetTag(value)==boolTag}var isBuffer=nativeIsBuffer||stubFalse;var isDate=nodeIsDate?baseUnary(nodeIsDate):baseIsDate;function isElement(value){return isObjectLike(value)&&value.nodeType===1&&!isPlainObject(value)}function isEmpty(value){if(value==null){return true}if(isArrayLike(value)&&(isArray(value)||typeof value=="string"||typeof value.splice=="function"||isBuffer(value)||isTypedArray(value)||isArguments(value))){return!value.length}var tag=getTag(value);if(tag==mapTag||tag==setTag){return!value.size}if(isPrototype(value)){return!baseKeys(value).length}for(var key in value){if(hasOwnProperty.call(value,key)){return false}}return true}function isEqual(value,other){return baseIsEqual(value,other)}function isEqualWith(value,other,customizer){customizer=typeof customizer=="function"?customizer:undefined;var result=customizer?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,undefined,customizer):!!result}function isError(value){if(!isObjectLike(value)){return false}var tag=baseGetTag(value);return tag==errorTag||tag==domExcTag||typeof value.message=="string"&&typeof value.name=="string"&&!isPlainObject(value)}function isFinite(value){return typeof value=="number"&&nativeIsFinite(value)}function isFunction(value){if(!isObject(value)){return false}var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}function isInteger(value){return typeof value=="number"&&value==toInteger(value)}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return value!=null&&(type=="object"||type=="function")}function isObjectLike(value){return value!=null&&typeof value=="object"}var isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;function isMatch(object,source){return object===source||baseIsMatch(object,source,getMatchData(source))}function isMatchWith(object,source,customizer){customizer=typeof customizer=="function"?customizer:undefined;return baseIsMatch(object,source,getMatchData(source),customizer)}function isNaN(value){return isNumber(value)&&value!=+value}function isNative(value){if(isMaskable(value)){throw new Error(CORE_ERROR_TEXT)}return baseIsNative(value)}function isNull(value){return value===null}function isNil(value){return value==null}function isNumber(value){return typeof value=="number"||isObjectLike(value)&&baseGetTag(value)==numberTag}function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag){return false}var proto=getPrototype(value);if(proto===null){return true}var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return typeof Ctor=="function"&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}var isRegExp=nodeIsRegExp?baseUnary(nodeIsRegExp):baseIsRegExp;function isSafeInteger(value){return isInteger(value)&&value>=-MAX_SAFE_INTEGER&&value<=MAX_SAFE_INTEGER}var isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;function isString(value){return typeof value=="string"||!isArray(value)&&isObjectLike(value)&&baseGetTag(value)==stringTag}function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&baseGetTag(value)==symbolTag}var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;function isUndefined(value){return value===undefined}function isWeakMap(value){return isObjectLike(value)&&getTag(value)==weakMapTag}function isWeakSet(value){return isObjectLike(value)&&baseGetTag(value)==weakSetTag}var lt=createRelationalOperation(baseLt);var lte=createRelationalOperation(function(value,other){return value<=other});function toArray(value){if(!value){return[]}if(isArrayLike(value)){return isString(value)?stringToArray(value):copyArray(value)}if(symIterator&&value[symIterator]){return iteratorToArray(value[symIterator]())}var tag=getTag(value),func=tag==mapTag?mapToArray:tag==setTag?setToArray:values;return func(value)}function toFinite(value){if(!value){return value===0?value:0}value=toNumber(value);if(value===INFINITY||value===-INFINITY){var sign=value<0?-1:1;return sign*MAX_INTEGER}return value===value?value:0}function toInteger(value){var result=toFinite(value),remainder=result%1;return result===result?remainder?result-remainder:result:0}function toLength(value){return value?baseClamp(toInteger(value),0,MAX_ARRAY_LENGTH):0}function toNumber(value){if(typeof value=="number"){return value}if(isSymbol(value)){return NAN}if(isObject(value)){var other=typeof value.valueOf=="function"?value.valueOf():value;value=isObject(other)?other+"":other}if(typeof value!="string"){return value===0?value:+value}value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}function toPlainObject(value){return copyObject(value,keysIn(value))}function toSafeInteger(value){return value?baseClamp(toInteger(value),-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER):value===0?value:0}function toString(value){return value==null?"":baseToString(value)}var assign=createAssigner(function(object,source){if(isPrototype(source)||isArrayLike(source)){copyObject(source,keys(source),object);return}for(var key in source){if(hasOwnProperty.call(source,key)){assignValue(object,key,source[key])}}});var assignIn=createAssigner(function(object,source){copyObject(source,keysIn(source),object)});var assignInWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keysIn(source),object,customizer)});var assignWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keys(source),object,customizer)});var at=flatRest(baseAt);function create(prototype,properties){var result=baseCreate(prototype);return properties==null?result:baseAssign(result,properties)}var defaults=baseRest(function(args){args.push(undefined,customDefaultsAssignIn);return apply(assignInWith,undefined,args)});var defaultsDeep=baseRest(function(args){args.push(undefined,customDefaultsMerge);return apply(mergeWith,undefined,args)});function findKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwn)}function findLastKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwnRight)}function forIn(object,iteratee){return object==null?object:baseFor(object,getIteratee(iteratee,3),keysIn)}function forInRight(object,iteratee){return object==null?object:baseForRight(object,getIteratee(iteratee,3),keysIn)}function forOwn(object,iteratee){return object&&baseForOwn(object,getIteratee(iteratee,3))}function forOwnRight(object,iteratee){return object&&baseForOwnRight(object,getIteratee(iteratee,3))}function functions(object){return object==null?[]:baseFunctions(object,keys(object))}function functionsIn(object){return object==null?[]:baseFunctions(object,keysIn(object))}function get(object,path,defaultValue){var result=object==null?undefined:baseGet(object,path);return result===undefined?defaultValue:result}function has(object,path){return object!=null&&hasPath(object,path,baseHas)}function hasIn(object,path){return object!=null&&hasPath(object,path,baseHasIn)}var invert=createInverter(function(result,value,key){result[value]=key},constant(identity));var invertBy=createInverter(function(result,value,key){if(hasOwnProperty.call(result,value)){result[value].push(key)}else{result[value]=[key]}},getIteratee);var invoke=baseRest(baseInvoke);function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,true):baseKeysIn(object)}function mapKeys(object,iteratee){var result={};iteratee=getIteratee(iteratee,3);baseForOwn(object,function(value,key,object){baseAssignValue(result,iteratee(value,key,object),value)});return result}function mapValues(object,iteratee){var result={};iteratee=getIteratee(iteratee,3);baseForOwn(object,function(value,key,object){baseAssignValue(result,key,iteratee(value,key,object))});return result}var merge=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex)});var mergeWith=createAssigner(function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer)});var omit=flatRest(function(object,paths){var result={};if(object==null){return result}var isDeep=false;paths=arrayMap(paths,function(path){path=castPath(path,object);isDeep||(isDeep=path.length>1);return path});copyObject(object,getAllKeysIn(object),result);if(isDeep){result=baseClone(result,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone)}var length=paths.length;while(length--){baseUnset(result,paths[length])}return result});function omitBy(object,predicate){return pickBy(object,negate(getIteratee(predicate)))}var pick=flatRest(function(object,paths){return object==null?{}:basePick(object,paths)});function pickBy(object,predicate){if(object==null){return{}}var props=arrayMap(getAllKeysIn(object),function(prop){return[prop]});predicate=getIteratee(predicate);return basePickBy(object,props,function(value,path){return predicate(value,path[0])})}function result(object,path,defaultValue){path=castPath(path,object);var index=-1,length=path.length;if(!length){length=1;object=undefined}while(++index<length){var value=object==null?undefined:object[toKey(path[index])];if(value===undefined){index=length;value=defaultValue}object=isFunction(value)?value.call(object):value}return object}function set(object,path,value){return object==null?object:baseSet(object,path,value)}function setWith(object,path,value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return object==null?object:baseSet(object,path,value,customizer)}var toPairs=createToPairs(keys);var toPairsIn=createToPairs(keysIn);function transform(object,iteratee,accumulator){var isArr=isArray(object),isArrLike=isArr||isBuffer(object)||isTypedArray(object);iteratee=getIteratee(iteratee,4);if(accumulator==null){var Ctor=object&&object.constructor;if(isArrLike){accumulator=isArr?new Ctor:[]}else if(isObject(object)){accumulator=isFunction(Ctor)?baseCreate(getPrototype(object)):{}}else{accumulator={}}}(isArrLike?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)});return accumulator}function unset(object,path){return object==null?true:baseUnset(object,path)}function update(object,path,updater){return object==null?object:baseUpdate(object,path,castFunction(updater))}function updateWith(object,path,updater,customizer){customizer=typeof customizer=="function"?customizer:undefined;return object==null?object:baseUpdate(object,path,castFunction(updater),customizer)}function values(object){return object==null?[]:baseValues(object,keys(object))}function valuesIn(object){return object==null?[]:baseValues(object,keysIn(object))}function clamp(number,lower,upper){if(upper===undefined){upper=lower;lower=undefined}if(upper!==undefined){upper=toNumber(upper);upper=upper===upper?upper:0}if(lower!==undefined){lower=toNumber(lower);lower=lower===lower?lower:0}return baseClamp(toNumber(number),lower,upper)}function inRange(number,start,end){start=toFinite(start);if(end===undefined){end=start;start=0}else{end=toFinite(end)}number=toNumber(number);return baseInRange(number,start,end)}function random(lower,upper,floating){if(floating&&typeof floating!="boolean"&&isIterateeCall(lower,upper,floating)){upper=floating=undefined}if(floating===undefined){if(typeof upper=="boolean"){floating=upper;upper=undefined}else if(typeof lower=="boolean"){floating=lower;lower=undefined}}if(lower===undefined&&upper===undefined){lower=0;upper=1}else{lower=toFinite(lower);if(upper===undefined){upper=lower;lower=0}else{upper=toFinite(upper)}}if(lower>upper){var temp=lower;lower=upper;upper=temp}if(floating||lower%1||upper%1){var rand=nativeRandom();return nativeMin(lower+rand*(upper-lower+freeParseFloat("1e-"+((rand+"").length-1))),upper)}return baseRandom(lower,upper)}var camelCase=createCompounder(function(result,word,index){word=word.toLowerCase();return result+(index?capitalize(word):word)});function capitalize(string){return upperFirst(toString(string).toLowerCase())}function deburr(string){string=toString(string);return string&&string.replace(reLatin,deburrLetter).replace(reComboMark,"")}function endsWith(string,target,position){string=toString(string);target=baseToString(target);var length=string.length;position=position===undefined?length:baseClamp(toInteger(position),0,length);var end=position;position-=target.length;return position>=0&&string.slice(position,end)==target}function escape(string){string=toString(string);return string&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string}function escapeRegExp(string){string=toString(string);return string&&reHasRegExpChar.test(string)?string.replace(reRegExpChar,"\\$&"):string}var kebabCase=createCompounder(function(result,word,index){return result+(index?"-":"")+word.toLowerCase()});var lowerCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toLowerCase()});var lowerFirst=createCaseFirst("toLowerCase");function pad(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;if(!length||strLength>=length){return string}var mid=(length-strLength)/2;return createPadding(nativeFloor(mid),chars)+string+createPadding(nativeCeil(mid),chars)}function padEnd(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?string+createPadding(length-strLength,chars):string}function padStart(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?createPadding(length-strLength,chars)+string:string}function parseInt(string,radix,guard){if(guard||radix==null){radix=0}else if(radix){radix=+radix}return nativeParseInt(toString(string).replace(reTrimStart,""),radix||0)}function repeat(string,n,guard){if(guard?isIterateeCall(string,n,guard):n===undefined){n=1}else{n=toInteger(n)}return baseRepeat(toString(string),n)}function replace(){var args=arguments,string=toString(args[0]);return args.length<3?string:string.replace(args[1],args[2])}var snakeCase=createCompounder(function(result,word,index){return result+(index?"_":"")+word.toLowerCase()});function split(string,separator,limit){if(limit&&typeof limit!="number"&&isIterateeCall(string,separator,limit)){separator=limit=undefined}limit=limit===undefined?MAX_ARRAY_LENGTH:limit>>>0;if(!limit){return[]}string=toString(string);if(string&&(typeof separator=="string"||separator!=null&&!isRegExp(separator))){separator=baseToString(separator);if(!separator&&hasUnicode(string)){return castSlice(stringToArray(string),0,limit)}}return string.split(separator,limit)}var startCase=createCompounder(function(result,word,index){return result+(index?" ":"")+upperFirst(word)});function startsWith(string,target,position){string=toString(string);position=position==null?0:baseClamp(toInteger(position),0,string.length);target=baseToString(target);return string.slice(position,position+target.length)==target}function template(string,options,guard){var settings=lodash.templateSettings;if(guard&&isIterateeCall(string,options,guard)){options=undefined}string=toString(string);options=assignInWith({},options,settings,customDefaultsAssignIn);var imports=assignInWith({},options.imports,settings.imports,customDefaultsAssignIn),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys);var isEscaping,isEvaluating,index=0,interpolate=options.interpolate||reNoMatch,source="__p += '";var reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g");var sourceURL="//# sourceURL="+("sourceURL"in options?options.sourceURL:"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){interpolateValue||(interpolateValue=esTemplateValue);source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar);if(escapeValue){isEscaping=true;source+="' +\n__e("+escapeValue+") +\n'"}if(evaluateValue){isEvaluating=true;source+="';\n"+evaluateValue+";\n__p += '"}if(interpolateValue){source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"}index=offset+match.length;return match});source+="';\n";var variable=options.variable;if(!variable){source="with (obj) {\n"+source+"\n}\n"}source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;");source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(isEscaping?", __e = _.escape":"")+(isEvaluating?", __j = Array.prototype.join;\n"+"function print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var result=attempt(function(){return Function(importsKeys,sourceURL+"return "+source).apply(undefined,importsValues)});result.source=source;if(isError(result)){throw result}return result}function toLower(value){return toString(value).toLowerCase()}function toUpper(value){return toString(value).toUpperCase()}function trim(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return string.replace(reTrim,"")}if(!string||!(chars=baseToString(chars))){return string}var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars),start=charsStartIndex(strSymbols,chrSymbols),end=charsEndIndex(strSymbols,chrSymbols)+1;return castSlice(strSymbols,start,end).join("")}function trimEnd(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return string.replace(reTrimEnd,"")}if(!string||!(chars=baseToString(chars))){return string}var strSymbols=stringToArray(string),end=charsEndIndex(strSymbols,stringToArray(chars))+1;return castSlice(strSymbols,0,end).join("")}function trimStart(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return string.replace(reTrimStart,"")}if(!string||!(chars=baseToString(chars))){return string}var strSymbols=stringToArray(string),start=charsStartIndex(strSymbols,stringToArray(chars));return castSlice(strSymbols,start).join("")}function truncate(string,options){var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(isObject(options)){var separator="separator"in options?options.separator:separator;length="length"in options?toInteger(options.length):length;omission="omission"in options?baseToString(options.omission):omission}string=toString(string);var strLength=string.length;if(hasUnicode(string)){var strSymbols=stringToArray(string);strLength=strSymbols.length}if(length>=strLength){return string}var end=length-stringSize(omission);if(end<1){return omission}var result=strSymbols?castSlice(strSymbols,0,end).join(""):string.slice(0,end);if(separator===undefined){return result+omission}if(strSymbols){end+=result.length-end}if(isRegExp(separator)){if(string.slice(end).search(separator)){var match,substring=result;if(!separator.global){separator=RegExp(separator.source,toString(reFlags.exec(separator))+"g")}separator.lastIndex=0;while(match=separator.exec(substring)){var newEnd=match.index}result=result.slice(0,newEnd===undefined?end:newEnd)}}else if(string.indexOf(baseToString(separator),end)!=end){var index=result.lastIndexOf(separator);if(index>-1){result=result.slice(0,index)}}return result+omission}function unescape(string){string=toString(string);return string&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string}var upperCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toUpperCase()});var upperFirst=createCaseFirst("toUpperCase");function words(string,pattern,guard){string=toString(string);pattern=guard?undefined:pattern;if(pattern===undefined){return hasUnicodeWord(string)?unicodeWords(string):asciiWords(string)}return string.match(pattern)||[]}var attempt=baseRest(function(func,args){try{return apply(func,undefined,args)}catch(e){return isError(e)?e:new Error(e)}});var bindAll=flatRest(function(object,methodNames){arrayEach(methodNames,function(key){key=toKey(key);baseAssignValue(object,key,bind(object[key],object))});return object});function cond(pairs){var length=pairs==null?0:pairs.length,toIteratee=getIteratee();pairs=!length?[]:arrayMap(pairs,function(pair){if(typeof pair[1]!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return[toIteratee(pair[0]),pair[1]]});return baseRest(function(args){var index=-1;while(++index<length){var pair=pairs[index];if(apply(pair[0],this,args)){return apply(pair[1],this,args)}}})}function conforms(source){return baseConforms(baseClone(source,CLONE_DEEP_FLAG))}function constant(value){return function(){return value}}function defaultTo(value,defaultValue){return value==null||value!==value?defaultValue:value}var flow=createFlow();var flowRight=createFlow(true);function identity(value){return value}function iteratee(func){return baseIteratee(typeof func=="function"?func:baseClone(func,CLONE_DEEP_FLAG))}function matches(source){return baseMatches(baseClone(source,CLONE_DEEP_FLAG))}function matchesProperty(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,CLONE_DEEP_FLAG))}var method=baseRest(function(path,args){return function(object){return baseInvoke(object,path,args)}});var methodOf=baseRest(function(object,args){return function(path){return baseInvoke(object,path,args)}});function mixin(object,source,options){var props=keys(source),methodNames=baseFunctions(source,props);if(options==null&&!(isObject(source)&&(methodNames.length||!props.length))){options=source;source=object;object=this;methodNames=baseFunctions(source,keys(source))}
var chain=!(isObject(options)&&"chain"in options)||!!options.chain,isFunc=isFunction(object);arrayEach(methodNames,function(methodName){var func=source[methodName];object[methodName]=func;if(isFunc){object.prototype[methodName]=function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__),actions=result.__actions__=copyArray(this.__actions__);actions.push({func:func,args:arguments,thisArg:object});result.__chain__=chainAll;return result}return func.apply(object,arrayPush([this.value()],arguments))}}});return object}function noConflict(){if(root._===this){root._=oldDash}return this}function noop(){}function nthArg(n){n=toInteger(n);return baseRest(function(args){return baseNth(args,n)})}var over=createOver(arrayMap);var overEvery=createOver(arrayEvery);var overSome=createOver(arraySome);function property(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}function propertyOf(object){return function(path){return object==null?undefined:baseGet(object,path)}}var range=createRange();var rangeRight=createRange(true);function stubArray(){return[]}function stubFalse(){return false}function stubObject(){return{}}function stubString(){return""}function stubTrue(){return true}function times(n,iteratee){n=toInteger(n);if(n<1||n>MAX_SAFE_INTEGER){return[]}var index=MAX_ARRAY_LENGTH,length=nativeMin(n,MAX_ARRAY_LENGTH);iteratee=getIteratee(iteratee);n-=MAX_ARRAY_LENGTH;var result=baseTimes(length,iteratee);while(++index<n){iteratee(index)}return result}function toPath(value){if(isArray(value)){return arrayMap(value,toKey)}return isSymbol(value)?[value]:copyArray(stringToPath(toString(value)))}function uniqueId(prefix){var id=++idCounter;return toString(prefix)+id}var add=createMathOperation(function(augend,addend){return augend+addend},0);var ceil=createRound("ceil");var divide=createMathOperation(function(dividend,divisor){return dividend/divisor},1);var floor=createRound("floor");function max(array){return array&&array.length?baseExtremum(array,identity,baseGt):undefined}function maxBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseGt):undefined}function mean(array){return baseMean(array,identity)}function meanBy(array,iteratee){return baseMean(array,getIteratee(iteratee,2))}function min(array){return array&&array.length?baseExtremum(array,identity,baseLt):undefined}function minBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseLt):undefined}var multiply=createMathOperation(function(multiplier,multiplicand){return multiplier*multiplicand},1);var round=createRound("round");var subtract=createMathOperation(function(minuend,subtrahend){return minuend-subtrahend},0);function sum(array){return array&&array.length?baseSum(array,identity):0}function sumBy(array,iteratee){return array&&array.length?baseSum(array,getIteratee(iteratee,2)):0}lodash.after=after;lodash.ary=ary;lodash.assign=assign;lodash.assignIn=assignIn;lodash.assignInWith=assignInWith;lodash.assignWith=assignWith;lodash.at=at;lodash.before=before;lodash.bind=bind;lodash.bindAll=bindAll;lodash.bindKey=bindKey;lodash.castArray=castArray;lodash.chain=chain;lodash.chunk=chunk;lodash.compact=compact;lodash.concat=concat;lodash.cond=cond;lodash.conforms=conforms;lodash.constant=constant;lodash.countBy=countBy;lodash.create=create;lodash.curry=curry;lodash.curryRight=curryRight;lodash.debounce=debounce;lodash.defaults=defaults;lodash.defaultsDeep=defaultsDeep;lodash.defer=defer;lodash.delay=delay;lodash.difference=difference;lodash.differenceBy=differenceBy;lodash.differenceWith=differenceWith;lodash.drop=drop;lodash.dropRight=dropRight;lodash.dropRightWhile=dropRightWhile;lodash.dropWhile=dropWhile;lodash.fill=fill;lodash.filter=filter;lodash.flatMap=flatMap;lodash.flatMapDeep=flatMapDeep;lodash.flatMapDepth=flatMapDepth;lodash.flatten=flatten;lodash.flattenDeep=flattenDeep;lodash.flattenDepth=flattenDepth;lodash.flip=flip;lodash.flow=flow;lodash.flowRight=flowRight;lodash.fromPairs=fromPairs;lodash.functions=functions;lodash.functionsIn=functionsIn;lodash.groupBy=groupBy;lodash.initial=initial;lodash.intersection=intersection;lodash.intersectionBy=intersectionBy;lodash.intersectionWith=intersectionWith;lodash.invert=invert;lodash.invertBy=invertBy;lodash.invokeMap=invokeMap;lodash.iteratee=iteratee;lodash.keyBy=keyBy;lodash.keys=keys;lodash.keysIn=keysIn;lodash.map=map;lodash.mapKeys=mapKeys;lodash.mapValues=mapValues;lodash.matches=matches;lodash.matchesProperty=matchesProperty;lodash.memoize=memoize;lodash.merge=merge;lodash.mergeWith=mergeWith;lodash.method=method;lodash.methodOf=methodOf;lodash.mixin=mixin;lodash.negate=negate;lodash.nthArg=nthArg;lodash.omit=omit;lodash.omitBy=omitBy;lodash.once=once;lodash.orderBy=orderBy;lodash.over=over;lodash.overArgs=overArgs;lodash.overEvery=overEvery;lodash.overSome=overSome;lodash.partial=partial;lodash.partialRight=partialRight;lodash.partition=partition;lodash.pick=pick;lodash.pickBy=pickBy;lodash.property=property;lodash.propertyOf=propertyOf;lodash.pull=pull;lodash.pullAll=pullAll;lodash.pullAllBy=pullAllBy;lodash.pullAllWith=pullAllWith;lodash.pullAt=pullAt;lodash.range=range;lodash.rangeRight=rangeRight;lodash.rearg=rearg;lodash.reject=reject;lodash.remove=remove;lodash.rest=rest;lodash.reverse=reverse;lodash.sampleSize=sampleSize;lodash.set=set;lodash.setWith=setWith;lodash.shuffle=shuffle;lodash.slice=slice;lodash.sortBy=sortBy;lodash.sortedUniq=sortedUniq;lodash.sortedUniqBy=sortedUniqBy;lodash.split=split;lodash.spread=spread;lodash.tail=tail;lodash.take=take;lodash.takeRight=takeRight;lodash.takeRightWhile=takeRightWhile;lodash.takeWhile=takeWhile;lodash.tap=tap;lodash.throttle=throttle;lodash.thru=thru;lodash.toArray=toArray;lodash.toPairs=toPairs;lodash.toPairsIn=toPairsIn;lodash.toPath=toPath;lodash.toPlainObject=toPlainObject;lodash.transform=transform;lodash.unary=unary;lodash.union=union;lodash.unionBy=unionBy;lodash.unionWith=unionWith;lodash.uniq=uniq;lodash.uniqBy=uniqBy;lodash.uniqWith=uniqWith;lodash.unset=unset;lodash.unzip=unzip;lodash.unzipWith=unzipWith;lodash.update=update;lodash.updateWith=updateWith;lodash.values=values;lodash.valuesIn=valuesIn;lodash.without=without;lodash.words=words;lodash.wrap=wrap;lodash.xor=xor;lodash.xorBy=xorBy;lodash.xorWith=xorWith;lodash.zip=zip;lodash.zipObject=zipObject;lodash.zipObjectDeep=zipObjectDeep;lodash.zipWith=zipWith;lodash.entries=toPairs;lodash.entriesIn=toPairsIn;lodash.extend=assignIn;lodash.extendWith=assignInWith;mixin(lodash,lodash);lodash.add=add;lodash.attempt=attempt;lodash.camelCase=camelCase;lodash.capitalize=capitalize;lodash.ceil=ceil;lodash.clamp=clamp;lodash.clone=clone;lodash.cloneDeep=cloneDeep;lodash.cloneDeepWith=cloneDeepWith;lodash.cloneWith=cloneWith;lodash.conformsTo=conformsTo;lodash.deburr=deburr;lodash.defaultTo=defaultTo;lodash.divide=divide;lodash.endsWith=endsWith;lodash.eq=eq;lodash.escape=escape;lodash.escapeRegExp=escapeRegExp;lodash.every=every;lodash.find=find;lodash.findIndex=findIndex;lodash.findKey=findKey;lodash.findLast=findLast;lodash.findLastIndex=findLastIndex;lodash.findLastKey=findLastKey;lodash.floor=floor;lodash.forEach=forEach;lodash.forEachRight=forEachRight;lodash.forIn=forIn;lodash.forInRight=forInRight;lodash.forOwn=forOwn;lodash.forOwnRight=forOwnRight;lodash.get=get;lodash.gt=gt;lodash.gte=gte;lodash.has=has;lodash.hasIn=hasIn;lodash.head=head;lodash.identity=identity;lodash.includes=includes;lodash.indexOf=indexOf;lodash.inRange=inRange;lodash.invoke=invoke;lodash.isArguments=isArguments;lodash.isArray=isArray;lodash.isArrayBuffer=isArrayBuffer;lodash.isArrayLike=isArrayLike;lodash.isArrayLikeObject=isArrayLikeObject;lodash.isBoolean=isBoolean;lodash.isBuffer=isBuffer;lodash.isDate=isDate;lodash.isElement=isElement;lodash.isEmpty=isEmpty;lodash.isEqual=isEqual;lodash.isEqualWith=isEqualWith;lodash.isError=isError;lodash.isFinite=isFinite;lodash.isFunction=isFunction;lodash.isInteger=isInteger;lodash.isLength=isLength;lodash.isMap=isMap;lodash.isMatch=isMatch;lodash.isMatchWith=isMatchWith;lodash.isNaN=isNaN;lodash.isNative=isNative;lodash.isNil=isNil;lodash.isNull=isNull;lodash.isNumber=isNumber;lodash.isObject=isObject;lodash.isObjectLike=isObjectLike;lodash.isPlainObject=isPlainObject;lodash.isRegExp=isRegExp;lodash.isSafeInteger=isSafeInteger;lodash.isSet=isSet;lodash.isString=isString;lodash.isSymbol=isSymbol;lodash.isTypedArray=isTypedArray;lodash.isUndefined=isUndefined;lodash.isWeakMap=isWeakMap;lodash.isWeakSet=isWeakSet;lodash.join=join;lodash.kebabCase=kebabCase;lodash.last=last;lodash.lastIndexOf=lastIndexOf;lodash.lowerCase=lowerCase;lodash.lowerFirst=lowerFirst;lodash.lt=lt;lodash.lte=lte;lodash.max=max;lodash.maxBy=maxBy;lodash.mean=mean;lodash.meanBy=meanBy;lodash.min=min;lodash.minBy=minBy;lodash.stubArray=stubArray;lodash.stubFalse=stubFalse;lodash.stubObject=stubObject;lodash.stubString=stubString;lodash.stubTrue=stubTrue;lodash.multiply=multiply;lodash.nth=nth;lodash.noConflict=noConflict;lodash.noop=noop;lodash.now=now;lodash.pad=pad;lodash.padEnd=padEnd;lodash.padStart=padStart;lodash.parseInt=parseInt;lodash.random=random;lodash.reduce=reduce;lodash.reduceRight=reduceRight;lodash.repeat=repeat;lodash.replace=replace;lodash.result=result;lodash.round=round;lodash.runInContext=runInContext;lodash.sample=sample;lodash.size=size;lodash.snakeCase=snakeCase;lodash.some=some;lodash.sortedIndex=sortedIndex;lodash.sortedIndexBy=sortedIndexBy;lodash.sortedIndexOf=sortedIndexOf;lodash.sortedLastIndex=sortedLastIndex;lodash.sortedLastIndexBy=sortedLastIndexBy;lodash.sortedLastIndexOf=sortedLastIndexOf;lodash.startCase=startCase;lodash.startsWith=startsWith;lodash.subtract=subtract;lodash.sum=sum;lodash.sumBy=sumBy;lodash.template=template;lodash.times=times;lodash.toFinite=toFinite;lodash.toInteger=toInteger;lodash.toLength=toLength;lodash.toLower=toLower;lodash.toNumber=toNumber;lodash.toSafeInteger=toSafeInteger;lodash.toString=toString;lodash.toUpper=toUpper;lodash.trim=trim;lodash.trimEnd=trimEnd;lodash.trimStart=trimStart;lodash.truncate=truncate;lodash.unescape=unescape;lodash.uniqueId=uniqueId;lodash.upperCase=upperCase;lodash.upperFirst=upperFirst;lodash.each=forEach;lodash.eachRight=forEachRight;lodash.first=head;mixin(lodash,function(){var source={};baseForOwn(lodash,function(func,methodName){if(!hasOwnProperty.call(lodash.prototype,methodName)){source[methodName]=func}});return source}(),{chain:false});lodash.VERSION=VERSION;arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(methodName){lodash[methodName].placeholder=lodash});arrayEach(["drop","take"],function(methodName,index){LazyWrapper.prototype[methodName]=function(n){n=n===undefined?1:nativeMax(toInteger(n),0);var result=this.__filtered__&&!index?new LazyWrapper(this):this.clone();if(result.__filtered__){result.__takeCount__=nativeMin(n,result.__takeCount__)}else{result.__views__.push({size:nativeMin(n,MAX_ARRAY_LENGTH),type:methodName+(result.__dir__<0?"Right":"")})}return result};LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()}});arrayEach(["filter","map","takeWhile"],function(methodName,index){var type=index+1,isFilter=type==LAZY_FILTER_FLAG||type==LAZY_WHILE_FLAG;LazyWrapper.prototype[methodName]=function(iteratee){var result=this.clone();result.__iteratees__.push({iteratee:getIteratee(iteratee,3),type:type});result.__filtered__=result.__filtered__||isFilter;return result}});arrayEach(["head","last"],function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}});arrayEach(["initial","tail"],function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}});LazyWrapper.prototype.compact=function(){return this.filter(identity)};LazyWrapper.prototype.find=function(predicate){return this.filter(predicate).head()};LazyWrapper.prototype.findLast=function(predicate){return this.reverse().find(predicate)};LazyWrapper.prototype.invokeMap=baseRest(function(path,args){if(typeof path=="function"){return new LazyWrapper(this)}return this.map(function(value){return baseInvoke(value,path,args)})});LazyWrapper.prototype.reject=function(predicate){return this.filter(negate(getIteratee(predicate)))};LazyWrapper.prototype.slice=function(start,end){start=toInteger(start);var result=this;if(result.__filtered__&&(start>0||end<0)){return new LazyWrapper(result)}if(start<0){result=result.takeRight(-start)}else if(start){result=result.drop(start)}if(end!==undefined){end=toInteger(end);result=end<0?result.dropRight(-end):result.take(end-start)}return result};LazyWrapper.prototype.takeRightWhile=function(predicate){return this.reverse().takeWhile(predicate).reverse()};LazyWrapper.prototype.toArray=function(){return this.take(MAX_ARRAY_LENGTH)};baseForOwn(LazyWrapper.prototype,function(func,methodName){var checkIteratee=/^(?:filter|find|map|reject)|While$/.test(methodName),isTaker=/^(?:head|last)$/.test(methodName),lodashFunc=lodash[isTaker?"take"+(methodName=="last"?"Right":""):methodName],retUnwrapped=isTaker||/^find/.test(methodName);if(!lodashFunc){return}lodash.prototype[methodName]=function(){var value=this.__wrapped__,args=isTaker?[1]:arguments,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value);var interceptor=function(value){var result=lodashFunc.apply(lodash,arrayPush([value],args));return isTaker&&chainAll?result[0]:result};if(useLazy&&checkIteratee&&typeof iteratee=="function"&&iteratee.length!=1){isLazy=useLazy=false}var chainAll=this.__chain__,isHybrid=!!this.__actions__.length,isUnwrapped=retUnwrapped&&!chainAll,onlyLazy=isLazy&&!isHybrid;if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);result.__actions__.push({func:thru,args:[interceptor],thisArg:undefined});return new LodashWrapper(result,chainAll)}if(isUnwrapped&&onlyLazy){return func.apply(this,args)}result=this.thru(interceptor);return isUnwrapped?isTaker?result.value()[0]:result.value():result}});arrayEach(["pop","push","shift","sort","splice","unshift"],function(methodName){var func=arrayProto[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:pop|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;if(retUnwrapped&&!this.__chain__){var value=this.value();return func.apply(isArray(value)?value:[],args)}return this[chainName](function(value){return func.apply(isArray(value)?value:[],args)})}});baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name+"",names=realNames[key]||(realNames[key]=[]);names.push({name:methodName,func:lodashFunc})}});realNames[createHybrid(undefined,WRAP_BIND_KEY_FLAG).name]=[{name:"wrapper",func:undefined}];LazyWrapper.prototype.clone=lazyClone;LazyWrapper.prototype.reverse=lazyReverse;LazyWrapper.prototype.value=lazyValue;lodash.prototype.at=wrapperAt;lodash.prototype.chain=wrapperChain;lodash.prototype.commit=wrapperCommit;lodash.prototype.next=wrapperNext;lodash.prototype.plant=wrapperPlant;lodash.prototype.reverse=wrapperReverse;lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue;lodash.prototype.first=lodash.prototype.head;if(symIterator){lodash.prototype[symIterator]=wrapperToIterator}return lodash};var _=runInContext();if(true){root._=_;!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return _}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else if(freeModule){(freeModule.exports=_)._=_;freeExports._=_}else{root._=_}}).call(this)}).call(exports,function(){return this}(),__webpack_require__(65)(module))},function(module,exports){module.exports=function(module){if(!module.webpackPolyfill){module.deprecate=function(){};module.paths=[];module.children=[];module.webpackPolyfill=1}return module}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){var classes=[];for(var i=0;i<arguments.length;i++){var arg=arguments[i];if(!arg)continue;var argType=typeof arg;if(argType==="string"||argType==="number"){classes.push(arg)}else if(Array.isArray(arg)){classes.push(classNames.apply(null,arg))}else if(argType==="object"){for(var key in arg){if(hasOwn.call(arg,key)&&arg[key]){classes.push(key)}}}}return classes.join(" ")}if(typeof module!=="undefined"&&module.exports){module.exports=classNames}else if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else{window.classNames=classNames}})()},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Debouncer=function(){function Debouncer(callback){_classCallCheck(this,Debouncer);this.callback=callback;this.ticking=false}_createClass(Debouncer,[{key:"_update",value:function _update(){this.callback&&this.callback();this.ticking=false}},{key:"_requestTick",value:function _requestTick(){if(this.ticking){return}requestAnimationFrame(this._raf||(this._raf=this._update.bind(this)));this.ticking=true}},{key:"handleEvent",value:function handleEvent(){this._requestTick()}}]);return Debouncer}();exports.default=Debouncer;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _keymirror=__webpack_require__(24);var _keymirror2=_interopRequireDefault(_keymirror);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var GlobalActionTypes=(0,_keymirror2.default)({PAGE_HEIGHT_CHANGE:null});exports.default=GlobalActionTypes;module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var AccountType={BASIC:"basic",PLUS:"plus",PRO:"pro",PRO_PRIVATE:"pro_private",PRO_LAPSED:"pro_lapsed",BUSINESS:"business"};exports.default=AccountType;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _AppDispatcher=__webpack_require__(15);var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _PlayerActionTypes=__webpack_require__(26);var _PlayerActionTypes2=_interopRequireDefault(_PlayerActionTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var PlayerActions={ready:function ready(){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.READY})},play:function play(){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.PLAY})},pause:function pause(){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.PAUSE})},finish:function finish(){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.FINISH})},interruptPlayback:function interruptPlayback(){setTimeout(function(){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.INTERRUPT_PLAYBACK})},100)},resumePlayback:function resumePlayback(){setTimeout(function(){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.RESUME_PLAYBACK})},100)},resetPlayer:function resetPlayer(){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.RESET_PLAYER})},setLike:function setLike(player,value){player._like=value},setWatchLater:function setWatchLater(player,value){player._watchLater=value},setCurrentTime:function setCurrentTime(player,seconds){var resume=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;player.currentTime=seconds;if(resume&&!player.is_playing){setTimeout(function(){player.play()},100)}},openCollections:function openCollections(clip_id){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.COLLECTIONS,clip_id:clip_id})},openLogin:function openLogin(clip_id,context){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.LOGIN,clip_id:clip_id,context:context})},openShare:function openShare(clip_id){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.SHARE,clip_id:clip_id})},openVod:function openVod(clip_id,popup_uri,onsite_uri){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.VOD,clip_id:clip_id,popup_uri:popup_uri,onsite_uri:onsite_uri})},likedVideo:function likedVideo(clip_id){if(_AppDispatcher2.default.isDispatching()){setTimeout(this.likedVideo.bind(this,clip_id),100);return}_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.LIKED,clip_id:clip_id,is_liked:true})},unlikedVideo:function unlikedVideo(clip_id){if(_AppDispatcher2.default.isDispatching()){setTimeout(this.unlikedVideo.bind(this,clip_id),100);return}_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.UNLIKED,clip_id:clip_id,is_liked:false})},addedToWatchLater:function addedToWatchLater(clip_id){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.ADDED_TO_WATCH_LATER,clip_id:clip_id,watch_later_added:true})},removedFromWatchLater:function removedFromWatchLater(clip_id){_AppDispatcher2.default.dispatch({action_type:_PlayerActionTypes2.default.REMOVED_FROM_WATCH_LATER,clip_id:clip_id,watch_later_added:false})}};exports.default=PlayerActions;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _fluxStore=__webpack_require__(29);var _fluxStore2=_interopRequireDefault(_fluxStore);var _AppDispatcher=__webpack_require__(15);var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _PlayerActionTypes=__webpack_require__(26);var _PlayerActionTypes2=_interopRequireDefault(_PlayerActionTypes);var _ClipActionTypes=__webpack_require__(23);var _ClipActionTypes2=_interopRequireDefault(_ClipActionTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var is_iOS=/iPad|iPhone|iPod/.test(navigator.platform);var PlayerStore=_fluxStore2.default.extend({dispatcher:_AppDispatcher2.default,state:{is_playing:false,is_paused:false,is_finished:false,is_fullscreen:false,native_fullscreen:false,was_playing:false},getState:function getState(){return this.state},_resetState:function _resetState(){this.state={is_playing:false,is_paused:false,is_finished:false,was_playing:false}},onDispatcherAction:function onDispatcherAction(payload){switch(payload.action_type){case _PlayerActionTypes2.default.PLAY:this.state.is_playing=true;this.state.is_paused=false;this.state.is_finished=false;this.state.was_playing=false;this.emitChange();break;case _PlayerActionTypes2.default.PAUSE:this.state.is_playing=false;this.state.is_paused=true;this.state.is_finished=false;this.emitChange();break;case _PlayerActionTypes2.default.FINISH:this.state.is_playing=false;this.state.is_paused=false;this.state.is_finished=true;this.emitChange();break;case _PlayerActionTypes2.default.ENTER_FULLSCREEN:this.state.is_fullscreen=true;this.state.native_fullscreen=is_iOS&&payload.native_fullscreen;this.emitChange();break;case _PlayerActionTypes2.default.EXIT_FULLSCREEN:this.state.is_fullscreen=false;this.state.native_fullscreen=is_iOS&&payload.native_fullscreen;this.emitChange();break;case _PlayerActionTypes2.default.INTERRUPT_PLAYBACK:this.state.was_playing=this.state.is_playing;this.emitChange();break;case _PlayerActionTypes2.default.RESUME_PLAYBACK:this.state.was_playing=false;this.emitChange();break;case _ClipActionTypes2.default.PAGE_LOAD_SUCCESS:this._resetState();this.emitChange();break}}});exports.default=PlayerStore;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(64);var _Player=__webpack_require__(73);var _Player2=_interopRequireDefault(_Player);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ClipPlayer=function(_React$Component){_inherits(ClipPlayer,_React$Component);function ClipPlayer(props){_classCallCheck(this,ClipPlayer);var _this=_possibleConstructorReturn(this,(ClipPlayer.__proto__||Object.getPrototypeOf(ClipPlayer)).call(this,props));_this.props.construct();return _this}_createClass(ClipPlayer,[{key:"componentWillMount",value:function componentWillMount(){this.props.willMount()}},{key:"componentDidMount",value:function componentDidMount(){this.props.didMount()}},{key:"render",value:function render(){return _react2.default.createElement(_Player2.default,this.props)}}]);return ClipPlayer}(_react2.default.Component);ClipPlayer.propTypes={clip_id:_react2.default.PropTypes.number.isRequired,config_url:_react2.default.PropTypes.string.isRequired,player_url:_react2.default.PropTypes.string.isRequired,is_mini:_react2.default.PropTypes.bool.isRequired,width:_react2.default.PropTypes.number.isRequired,height:_react2.default.PropTypes.number.isRequired,onOpenShare:_react2.default.PropTypes.func,onOpenLogin:_react2.default.PropTypes.func,onOpenVod:_react2.default.PropTypes.func,onOpenCollections:_react2.default.PropTypes.func,getFullscreenElement:_react2.default.PropTypes.func,onPlayerFinish:_react2.default.PropTypes.func,onPlayerPause:_react2.default.PropTypes.func,onPlayerPlay:_react2.default.PropTypes.func,onPlayerReady:_react2.default.PropTypes.func,handleWillOpenShareOverlay:_react2.default.PropTypes.func,handleWillOpenLoginForm:_react2.default.PropTypes.func,handleDidLikeVideo:_react2.default.PropTypes.func,handleDidUnlikeVideo:_react2.default.PropTypes.func,handleDidAddToWatchLater:_react2.default.PropTypes.func,handleDidRemoveFromWatchLater:_react2.default.PropTypes.func,handleWillOpenVodPurchaseForm:_react2.default.PropTypes.func,handleWillOpenCollectionsOverlay:_react2.default.PropTypes.func,handleEnterFullscreen:_react2.default.PropTypes.func,handleExitFullscreen:_react2.default.PropTypes.func,handleWillSendPlayLog:_react2.default.PropTypes.func,construct:_react2.default.PropTypes.func,willMount:_react2.default.PropTypes.func,didMount:_react2.default.PropTypes.func};ClipPlayer.defaultProps={onOpenShare:_lodash.noop,onOpenLogin:_lodash.noop,onOpenVod:_lodash.noop,onOpenCollections:_lodash.noop,getFullscreenElement:_lodash.noop,onPlayerFinish:_lodash.noop,onPlayerPause:_lodash.noop,onPlayerPlay:_lodash.noop,onPlayerReady:_lodash.noop,handleWillOpenShareOverlay:_lodash.noop,handleWillOpenLoginForm:_lodash.noop,handleDidLikeVideo:_lodash.noop,handleDidUnlikeVideo:_lodash.noop,handleDidAddToWatchLater:_lodash.noop,handleDidRemoveFromWatchLater:_lodash.noop,handleWillOpenVodPurchaseForm:_lodash.noop,handleWillOpenCollectionsOverlay:_lodash.noop,handleEnterFullscreen:_lodash.noop,handleExitFullscreen:_lodash.noop,handleWillSendPlayLog:_lodash.noop,construct:_lodash.noop,willMount:_lodash.noop,didMount:_lodash.noop};exports.default=ClipPlayer;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=undefined;var _Player=__webpack_require__(74);var _Player2=_interopRequireDefault(_Player);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_Player2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(6);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var strip_query_params=function strip_query_params(s,params){return s.replace(/&context=([\w\.\%])+/,"").replace(/&s=(\w)+/,"")};var Player=function(_React$Component){_inherits(Player,_React$Component);function Player(props){_classCallCheck(this,Player);var _this=_possibleConstructorReturn(this,(Player.__proto__||Object.getPrototypeOf(Player)).call(this,props));_this.initializePlayer=_this.initializePlayer.bind(_this);return _this}_createClass(Player,[{key:"componentDidMount",value:function componentDidMount(){this.initializePlayer()}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(next_props){var player_node=(0,_reactDom.findDOMNode)(this.refs.player);
var is_mini=next_props.is_mini,is_fullscreen=next_props.is_fullscreen;if(is_mini&&!is_fullscreen){if(!player_node.classList.contains("in-minibar")){player_node.classList.add("in-minibar")}}else if(player_node.classList.contains("in-minibar")){player_node.classList.remove("in-minibar")}if(next_props.aspect_ratio!==this.props.aspect_ratio){return true}if(next_props.config_url!==this.props.config_url){return true}return false}},{key:"componentDidUpdate",value:function componentDidUpdate(prev_props){var _this2=this;var normalized_last_config_url=strip_query_params(prev_props.config_url);var normalized_current_config_url=strip_query_params(this.props.config_url);if(normalized_current_config_url!==normalized_last_config_url){this._player.loadVideo(this.props.config_url)}if(!prev_props.should_autoplay&&this.props.should_autoplay===true){setTimeout(function(){_this2._player.play()},10)}}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(window.BigScreen){BigScreen.off("enter",this.props.handleEnterFullscreen);BigScreen.off("exit",this.props.handleExitFullscreen)}}},{key:"render",value:function render(){var _props=this.props,clip_id=_props.clip_id,config_url=_props.config_url,player_url=_props.player_url,is_mini=_props.is_mini,width=_props.width,height=_props.height,isFullscreen=_props.isFullscreen,aspect_ratio=_props.aspect_ratio,embed=_props.embed;var container_id=this.props.container_id?this.props.container_id:"clip_"+clip_id;var player_id=this.props.player_id?this.props.player_id:clip_id;var container_class="player_container js-player_container_"+clip_id;var container_styles={width:isFullscreen||aspect_ratio?"100%":width,height:isFullscreen||aspect_ratio?"100%":height};var player_class="player js-player";if(is_mini){player_class=player_class+" in-minibar"}var player_styles=null;if(aspect_ratio){var padding_percent=Math.round(aspect_ratio*100*1e6)/1e6;player_styles={height:0,paddingBottom:padding_percent+"%",width:"100%"}}var fallback_url="//"+player_url+"/video/"+clip_id+"/fallback?js";return _react2.default.createElement("div",{ref:"container",id:container_id,className:container_class,style:container_styles},_react2.default.createElement("div",{ref:"player",id:player_id,className:player_class,"data-config-url":config_url,"data-fallback-url":fallback_url,"data-embed":embed,style:player_styles}))}},{key:"_getConfig",value:function _getConfig(){var clip_id=this.props.clip_id;if(vimeo.clips&&vimeo.clips.hasOwnProperty(clip_id)){return vimeo.clips[clip_id]}return this.props.config_url}},{key:"initializePlayer",value:function initializePlayer(){var _this3=this;if(typeof VimeoPlayer==="undefined"){return setTimeout(this.initializePlayer,25)}var container=(0,_reactDom.findDOMNode)(this.refs.container);var player_el=(0,_reactDom.findDOMNode)(this.refs.player);if(player_el.getAttribute("data-player")==="true"){return}this._player=new VimeoPlayer(player_el,this._getConfig(),true,{willOpenShareOverlay:this.props.handleWillOpenShareOverlay,willOpenLoginForm:this.props.handleWillOpenLoginForm,didLikeVideo:this.props.handleDidLikeVideo,didUnlikeVideo:this.props.handleDidUnlikeVideo,didAddToWatchLater:this.props.handleDidAddToWatchLater,didRemoveFromWatchLater:this.props.handleDidRemoveFromWatchLater,willOpenVodPurchaseForm:this.props.handleWillOpenVodPurchaseForm,willOpenCollectionsOverlay:this.props.handleWillOpenCollectionsOverlay,willShowOutro:this.props.handleWillShowOutro,didShowOutro:this.props.handleDidShowOutro,getFullscreenElement:this.props.getFullscreenElement,willSendPlayLog:this.props.handleWillSendPlayLog});player_el.setAttribute("data-player","true");if(typeof this._player==="undefined"||!this._player.hasOwnProperty("ready")){return setTimeout(this.initializePlayer,25)}var on_player_ready=function on_player_ready(){_this3.props.onPlayerReady(_this3._player);var on_finish=function on_finish(){_this3.props.onPlayerFinish()};on_finish=on_finish.bind(_this3);_this3._player.addEventListener("finish",on_finish);var on_play=function on_play(){_this3.props.onPlayerPlay()};on_play=on_play.bind(_this3);_this3._player.addEventListener("play",on_play);_this3._player.addEventListener("seek",_this3.props.onPlayerSeek);_this3._player.addEventListener("timeupdate",_this3.props.onPlayerTimeUpdate);if(_this3.props.should_autoplay){setTimeout(function(){_this3._player.play()},10)}};on_player_ready=on_player_ready.bind(this);this._player.ready(on_player_ready);if(window.BigScreen){BigScreen.on("enter",this.props.handleEnterFullscreen);BigScreen.on("exit",this.props.handleExitFullscreen)}}},{key:"getPlayer",value:function getPlayer(){return this._player}}]);return Player}(_react2.default.Component);Player.propTypes={container_id:_react2.default.PropTypes.string,player_id:_react2.default.PropTypes.string,clip_id:_react2.default.PropTypes.number.isRequired,config_url:_react2.default.PropTypes.string.isRequired,player_url:_react2.default.PropTypes.string.isRequired,is_mini:_react2.default.PropTypes.bool,embed:_react2.default.PropTypes.bool,width:_react2.default.PropTypes.number,height:_react2.default.PropTypes.number,aspect_ratio:_react2.default.PropTypes.number,onPlayerReady:_react2.default.PropTypes.func,onPlayerSeek:_react2.default.PropTypes.func,onPlayerTimeUpdate:_react2.default.PropTypes.func,onPlayerFinish:_react2.default.PropTypes.func,onPlayerPlay:_react2.default.PropTypes.func,handleWillOpenShareOverlay:_react2.default.PropTypes.func,handleWillOpenLoginForm:_react2.default.PropTypes.func,handleDidLikeVideo:_react2.default.PropTypes.func,handleDidUnlikeVideo:_react2.default.PropTypes.func,handleDidAddToWatchLater:_react2.default.PropTypes.func,handleDidRemoveFromWatchLater:_react2.default.PropTypes.func,handleWillOpenVodPurchaseForm:_react2.default.PropTypes.func,handleWillOpenCollectionsOverlay:_react2.default.PropTypes.func,handleWillShowOutro:_react2.default.PropTypes.func,handleDidShowOutro:_react2.default.PropTypes.func,getFullscreenElement:_react2.default.PropTypes.func,handleEnterFullscreen:_react2.default.PropTypes.func,handleExitFullscreen:_react2.default.PropTypes.func,handleWillSendPlayLog:_react2.default.PropTypes.func};Player.defaultProps={clip_id:null,config_url:null,player_url:null,is_mini:false,embed:false,onPlayerReady:function onPlayerReady(){},onPlayerSeek:function onPlayerSeek(){},onPlayerTimeUpdate:function onPlayerTimeUpdate(){},onPlayerPlay:function onPlayerPlay(){},onPlayerFinish:function onPlayerFinish(){},handleWillOpenShareOverlay:function handleWillOpenShareOverlay(){return true},handleWillOpenLoginForm:function handleWillOpenLoginForm(){return true},handleDidLikeVideo:function handleDidLikeVideo(){return true},handleDidUnlikeVideo:function handleDidUnlikeVideo(){return true},handleDidAddToWatchLater:function handleDidAddToWatchLater(){return true},handleDidRemoveFromWatchLater:function handleDidRemoveFromWatchLater(){return true},handleWillOpenVodPurchaseForm:function handleWillOpenVodPurchaseForm(){return true},handleWillOpenCollectionsOverlay:function handleWillOpenCollectionsOverlay(){return true},handleWillShowOutro:function handleWillShowOutro(){return true},handleDidShowOutro:function handleDidShowOutro(){return true},getFullscreenElement:function getFullscreenElement(){return true},handleEnterFullscreen:function handleEnterFullscreen(){return true},handleExitFullscreen:function handleExitFullscreen(){return true},handleWillSendPlayLog:function handleWillSendPlayLog(){return{continuous:0}}};exports.default=Player;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var CopyrightMatchWarning=function(_React$Component){_inherits(CopyrightMatchWarning,_React$Component);function CopyrightMatchWarning(){_classCallCheck(this,CopyrightMatchWarning);return _possibleConstructorReturn(this,(CopyrightMatchWarning.__proto__||Object.getPrototypeOf(CopyrightMatchWarning)).apply(this,arguments))}_createClass(CopyrightMatchWarning,[{key:"render",value:function render(){var _props=this.props,title=_props.title,infringements=_props.infringements,message=_props.message;return _react2.default.createElement("section",{className:"copyright-match-warning"},_react2.default.createElement("div",{className:"message-wrapper"},_react2.default.createElement("div",{className:"warning-icon-wrapper"},_react2.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"298 389 16 14"},_react2.default.createElement("path",{d:"M313.7 400l-6-10c-.4-.6-1-1-1.7-1s-1.4.4-1.7 1l-6 10c-.2.3-.3.6-.3 1 0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2 0-.4-.1-.7-.3-1zm-6.7 1h-2v-2h2v2zm0-3h-2v-5h2v5z"}))),_react2.default.createElement("div",{className:"warning-content"},title?_react2.default.createElement("h2",null,title):null,infringements&&infringements.length?_react2.default.createElement("ul",null,infringements.map(function(infringement){return _react2.default.createElement("li",null,infringement)})):null,message?_react2.default.createElement("p",{dangerouslySetInnerHTML:{__html:message}}):null)))}}]);return CopyrightMatchWarning}(_react2.default.Component);CopyrightMatchWarning.propTypes={infringements:_react2.default.PropTypes.array.isRequired,title:_react2.default.PropTypes.string,message:_react2.default.PropTypes.string};exports.default=CopyrightMatchWarning;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(64);var _Button=__webpack_require__(77);var _Button2=_interopRequireDefault(_Button);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var MatureContentBlock=function(_React$Component){_inherits(MatureContentBlock,_React$Component);function MatureContentBlock(){_classCallCheck(this,MatureContentBlock);return _possibleConstructorReturn(this,(MatureContentBlock.__proto__||Object.getPrototypeOf(MatureContentBlock)).apply(this,arguments))}_createClass(MatureContentBlock,[{key:"render",value:function render(){var _props=this.props,is_mini=_props.is_mini,message=_props.message,bypassClick=_props.bypassClick,changePrefsClick=_props.changePrefsClick,exitClick=_props.exitClick;return _react2.default.createElement("div",{className:"mature-content"},_react2.default.createElement("p",{className:"message"},message,(0,_i18n.translate)("You can {UPDATE_YOUR_PREFERENCES_LINK} at any time.",{UPDATE_YOUR_PREFERENCES_LINK:_react2.default.createElement("a",{key:"pref_link",href:"#",onClick:changePrefsClick},(0,_i18n.translate)("update your content rating preferences"))})),_react2.default.createElement(_Button2.default,{format:"primary",className:"show-video",size:is_mini?"sm":"lg",onClick:bypassClick},(0,_i18n.translate)("Show me the video")),_react2.default.createElement("a",{onClick:exitClick,className:"text-cta"},(0,_i18n.translate)("Get me out of here!")))}}]);return MatureContentBlock}(_react2.default.Component);MatureContentBlock.propTypes={message:_react2.default.PropTypes.string.isRequired,is_mini:_react2.default.PropTypes.bool,bypassClick:_react2.default.PropTypes.func,changePrefsClick:_react2.default.PropTypes.func,exitClick:_react2.default.PropTypes.func};MatureContentBlock.defaultProps={is_mini:false,bypassClick:_lodash.noop,changePrefsClick:_lodash.noop,exitClick:_lodash.noop};exports.default=MatureContentBlock;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(6);var _reactDom2=_interopRequireDefault(_reactDom);var _classnames=__webpack_require__(66);var _classnames2=_interopRequireDefault(_classnames);var _omit=__webpack_require__(78);var _omit2=_interopRequireDefault(_omit);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Button=function(_React$Component){_inherits(Button,_React$Component);function Button(props){_classCallCheck(this,Button);var _this=_possibleConstructorReturn(this,(Button.__proto__||Object.getPrototypeOf(Button)).call(this,props));_this.state={is_hovering:false,width_need:false};return _this}_createClass(Button,[{key:"componentDidUpdate",value:function componentDidUpdate(){var _props=this.props,currentState=_props.currentState,is_mini=_props.is_mini;if(currentState){if(this.props.longestString){if(is_mini){var main_btn=_reactDom2.default.findDOMNode(this.refs.main_btn);main_btn.style.minWidth="0";var tmp_btn=main_btn.cloneNode(true);tmp_btn.lastChild.textContent=this.props.longestString;tmp_btn.style.left="-9999px";document.body.appendChild(tmp_btn);var new_width=tmp_btn.offsetWidth+"px";main_btn.style.minWidth=new_width;document.body.removeChild(tmp_btn)}else{var _main_btn=_reactDom2.default.findDOMNode(this.refs.main_btn);var _tmp_btn=_main_btn.cloneNode(true);_tmp_btn.lastChild.textContent=this.props.longestString;_tmp_btn.style.left="-9999px";document.body.appendChild(_tmp_btn);_main_btn.style.minWidth=_tmp_btn.offsetWidth+"px";document.body.removeChild(_tmp_btn)}}}else{var _main_btn2=_reactDom2.default.findDOMNode(this.refs.main_btn);_main_btn2.style.width="auto";_main_btn2.style.minWidth="0"}}},{key:"_getLabel",value:function _getLabel(){var _props2=this.props,children=_props2.children,label=_props2.label,hoverLabel=_props2.hoverLabel;if(this.state.is_hovering&&hoverLabel){return hoverLabel}if(label){return label}return children}},{key:"_getIcon",value:function _getIcon(){var _props3=this.props,icon=_props3.icon,hoverIcon=_props3.hoverIcon;if(this.state.is_hovering&&hoverIcon){return hoverIcon}return icon}},{key:"_getSizeClass",value:function _getSizeClass(){var size=this.props.size;var btn_size=void 0;if(size){btn_size="iris_btn--"+size}return btn_size}},{key:"_getCircleClass",value:function _getCircleClass(){var circle=this.props.circle;var is_circle=void 0;if(circle){is_circle="iris_btn--circle"}return is_circle}},{key:"_handleMouseEnter",value:function _handleMouseEnter(e){this.setState({is_hovering:true})}},{key:"_handleMouseLeave",value:function _handleMouseLeave(e){this.setState({is_hovering:false})}},{key:"render",value:function render(){var _props4=this.props,className=_props4.className,format=_props4.format,collapse=_props4.collapse,arrow=_props4.arrow;var attributes=(0,_omit2.default)(this.props,["children","className","format","icon","hoverIcon","label","hoverLabel","size","circle","is_mini","clip_id","currentState","longestString"]);var class_list=(0,_classnames2.default)("iris_btn",className,this._getSizeClass(),this._getCircleClass,{"iris_btn-txt iris_btn-txt--primary":format==="text--primary","iris_btn-txt iris_btn-txt--secondary":format==="text--secondary","iris_btn-txt iris_btn-txt--positive":format==="text--positive","iris_btn-txt iris_btn-txt--negative":format==="text--negative","iris_btn-txt iris_btn-txt--downplay":format==="text--downplay","iris_btn-txt iris_btn-txt--upload":format==="text--upload","iris_btn--primary":format==="primary","iris_btn--secondary":format==="secondary","iris_btn--positive":format==="positive","iris_btn--negative":format==="negative","iris_btn--downplay":format==="downplay","iris_btn--upload":format==="upload","iris_btn--yellow":format==="yellow","iris_btn--smoke":format==="smoke","iris_btn-outline iris_btn-outline--primary":format==="outline--primary","iris_btn-outline iris_btn-outline--downplay":format==="outline--downplay","iris_btn-outline iris_btn-outline--positive":format==="outline--positive","iris_btn-outline iris_btn-outline--negative":format==="outline--negative","iris_btn-outline iris_btn-outline--upload":format==="outline--upload","iris_btn-outline iris_btn-outline--mod":format==="outline--mod","iris_btn-utility":format==="utility","iris_btn-utility iris_btn-utility--transparent":format==="utility--transparent"},{"iris_btn--rsp_rts":collapse==="right","iris_btn--rsp_lts":collapse==="left"});return _react2.default.createElement("button",_extends({ref:"main_btn",className:class_list},attributes,{onMouseEnter:this._handleMouseEnter.bind(this),onMouseLeave:this._handleMouseLeave.bind(this)}),this._getIcon(),_react2.default.createElement("span",{ref:"main_btn-txt",className:arrow?"iris_btn-content iris_btn-content--arrow":"iris_btn-content"},this._getLabel()))}}]);return Button}(_react2.default.Component);Button.defaultProps={format:"primary",icon:null,label:null,hoverIcon:null,hoverLabel:null,type:"button",circle:false};exports.default=Button;module.exports=exports["default"]},function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(79),baseClone=__webpack_require__(80),baseUnset=__webpack_require__(190),castPath=__webpack_require__(191),copyObject=__webpack_require__(130),customOmitClone=__webpack_require__(204),flatRest=__webpack_require__(206),getAllKeysIn=__webpack_require__(167);var CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4;var omit=flatRest(function(object,paths){var result={};if(object==null){return result}var isDeep=false;paths=arrayMap(paths,function(path){path=castPath(path,object);isDeep||(isDeep=path.length>1);return path});copyObject(object,getAllKeysIn(object),result);if(isDeep){result=baseClone(result,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone)}var length=paths.length;while(length--){baseUnset(result,paths[length])}return result});module.exports=omit},function(module,exports){function arrayMap(array,iteratee){var index=-1,length=array==null?0:array.length,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array)}return result}module.exports=arrayMap},function(module,exports,__webpack_require__){var Stack=__webpack_require__(81),arrayEach=__webpack_require__(125),assignValue=__webpack_require__(126),baseAssign=__webpack_require__(129),baseAssignIn=__webpack_require__(151),cloneBuffer=__webpack_require__(155),copyArray=__webpack_require__(156),copySymbols=__webpack_require__(157),copySymbolsIn=__webpack_require__(161),getAllKeys=__webpack_require__(165),getAllKeysIn=__webpack_require__(167),getTag=__webpack_require__(168),initCloneArray=__webpack_require__(173),initCloneByTag=__webpack_require__(174),initCloneObject=__webpack_require__(188),isArray=__webpack_require__(137),isBuffer=__webpack_require__(138),isObject=__webpack_require__(105),keys=__webpack_require__(131);var CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4;var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]";var arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=true;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=false;function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=bitmask&CLONE_DEEP_FLAG,isFlat=bitmask&CLONE_FLAT_FLAG,isFull=bitmask&CLONE_SYMBOLS_FLAG;if(customizer){result=object?customizer(value,key,object,stack):customizer(value)}if(result!==undefined){return result}if(!isObject(value)){return value}var isArr=isArray(value);if(isArr){result=initCloneArray(value);if(!isDeep){return copyArray(value,result)}}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value)){return cloneBuffer(value,isDeep)}if(tag==objectTag||tag==argsTag||isFunc&&!object){result=isFlat||isFunc?{}:initCloneObject(value);if(!isDeep){return isFlat?copySymbolsIn(value,baseAssignIn(result,value)):copySymbols(value,baseAssign(result,value))}}else{if(!cloneableTags[tag]){return object?value:{}}result=initCloneByTag(value,tag,baseClone,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked){return stacked}stack.set(value,result);var keysFunc=isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys;var props=isArr?undefined:keysFunc(value);arrayEach(props||value,function(subValue,key){if(props){key=subValue;subValue=value[key]}assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))});return result}module.exports=baseClone},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(82),stackClear=__webpack_require__(90),stackDelete=__webpack_require__(91),stackGet=__webpack_require__(92),stackHas=__webpack_require__(93),stackSet=__webpack_require__(94);function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}Stack.prototype.clear=stackClear;Stack.prototype["delete"]=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;module.exports=Stack},function(module,exports,__webpack_require__){var listCacheClear=__webpack_require__(83),listCacheDelete=__webpack_require__(84),listCacheGet=__webpack_require__(87),listCacheHas=__webpack_require__(88),listCacheSet=__webpack_require__(89);function ListCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype["delete"]=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;module.exports=ListCache},function(module,exports){function listCacheClear(){this.__data__=[];this.size=0}module.exports=listCacheClear},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(85);var arrayProto=Array.prototype;var splice=arrayProto.splice;function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){return false}var lastIndex=data.length-1;if(index==lastIndex){data.pop()}else{splice.call(data,index,1)}--this.size;return true}module.exports=listCacheDelete},function(module,exports,__webpack_require__){var eq=__webpack_require__(86);function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length}}return-1}module.exports=assocIndexOf},function(module,exports){function eq(value,other){return value===other||value!==value&&other!==other}module.exports=eq},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(85);function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1]}module.exports=listCacheGet},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(85);function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}module.exports=listCacheHas},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(85);function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){++this.size;data.push([key,value])}else{data[index][1]=value}return this}module.exports=listCacheSet},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(82);function stackClear(){this.__data__=new ListCache;this.size=0}module.exports=stackClear},function(module,exports){function stackDelete(key){var data=this.__data__,result=data["delete"](key);this.size=data.size;return result}module.exports=stackDelete},function(module,exports){function stackGet(key){return this.__data__.get(key)}module.exports=stackGet},function(module,exports){function stackHas(key){return this.__data__.has(key)}module.exports=stackHas},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(82),Map=__webpack_require__(95),MapCache=__webpack_require__(110);var LARGE_ARRAY_SIZE=200;function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1){pairs.push([key,value]);this.size=++data.size;return this}data=this.__data__=new MapCache(pairs)}data.set(key,value);this.size=data.size;return this}module.exports=stackSet},function(module,exports,__webpack_require__){var getNative=__webpack_require__(96),root=__webpack_require__(101);var Map=getNative(root,"Map");module.exports=Map},function(module,exports,__webpack_require__){var baseIsNative=__webpack_require__(97),getValue=__webpack_require__(109);function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined}module.exports=getNative},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(98),isMasked=__webpack_require__(106),isObject=__webpack_require__(105),toSource=__webpack_require__(108);var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;var reIsHostCtor=/^\[object .+?Constructor\]$/;var funcProto=Function.prototype,objectProto=Object.prototype;var funcToString=funcProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;var reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(value){if(!isObject(value)||isMasked(value)){return false}var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}module.exports=baseIsNative},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(99),isObject=__webpack_require__(105);var asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(value){if(!isObject(value)){return false}var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}module.exports=isFunction},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(100),getRawTag=__webpack_require__(103),objectToString=__webpack_require__(104);var nullTag="[object Null]",undefinedTag="[object Undefined]";var symToStringTag=Symbol?Symbol.toStringTag:undefined;function baseGetTag(value){if(value==null){return value===undefined?undefinedTag:nullTag}return symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}module.exports=baseGetTag},function(module,exports,__webpack_require__){var root=__webpack_require__(101);var Symbol=root.Symbol;module.exports=Symbol},function(module,exports,__webpack_require__){var freeGlobal=__webpack_require__(102);var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function("return this")();module.exports=root},function(module,exports){(function(global){var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;module.exports=freeGlobal}).call(exports,function(){
return this}())},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(100);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var nativeObjectToString=objectProto.toString;var symToStringTag=Symbol?Symbol.toStringTag:undefined;function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=true}catch(e){}var result=nativeObjectToString.call(value);if(unmasked){if(isOwn){value[symToStringTag]=tag}else{delete value[symToStringTag]}}return result}module.exports=getRawTag},function(module,exports){var objectProto=Object.prototype;var nativeObjectToString=objectProto.toString;function objectToString(value){return nativeObjectToString.call(value)}module.exports=objectToString},function(module,exports){function isObject(value){var type=typeof value;return value!=null&&(type=="object"||type=="function")}module.exports=isObject},function(module,exports,__webpack_require__){var coreJsData=__webpack_require__(107);var maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}();function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}module.exports=isMasked},function(module,exports,__webpack_require__){var root=__webpack_require__(101);var coreJsData=root["__core-js_shared__"];module.exports=coreJsData},function(module,exports){var funcProto=Function.prototype;var funcToString=funcProto.toString;function toSource(func){if(func!=null){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}module.exports=toSource},function(module,exports){function getValue(object,key){return object==null?undefined:object[key]}module.exports=getValue},function(module,exports,__webpack_require__){var mapCacheClear=__webpack_require__(111),mapCacheDelete=__webpack_require__(119),mapCacheGet=__webpack_require__(122),mapCacheHas=__webpack_require__(123),mapCacheSet=__webpack_require__(124);function MapCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype["delete"]=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;module.exports=MapCache},function(module,exports,__webpack_require__){var Hash=__webpack_require__(112),ListCache=__webpack_require__(82),Map=__webpack_require__(95);function mapCacheClear(){this.size=0;this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}module.exports=mapCacheClear},function(module,exports,__webpack_require__){var hashClear=__webpack_require__(113),hashDelete=__webpack_require__(115),hashGet=__webpack_require__(116),hashHas=__webpack_require__(117),hashSet=__webpack_require__(118);function Hash(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}Hash.prototype.clear=hashClear;Hash.prototype["delete"]=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;module.exports=Hash},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(114);function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{};this.size=0}module.exports=hashClear},function(module,exports,__webpack_require__){var getNative=__webpack_require__(96);var nativeCreate=getNative(Object,"create");module.exports=nativeCreate},function(module,exports){function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];this.size-=result?1:0;return result}module.exports=hashDelete},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(114);var HASH_UNDEFINED="__lodash_hash_undefined__";var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(data,key)?data[key]:undefined}module.exports=hashGet},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(114);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key)}module.exports=hashHas},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(114);var HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet(key,value){var data=this.__data__;this.size+=this.has(key)?0:1;data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value;return this}module.exports=hashSet},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(120);function mapCacheDelete(key){var result=getMapData(this,key)["delete"](key);this.size-=result?1:0;return result}module.exports=mapCacheDelete},function(module,exports,__webpack_require__){var isKeyable=__webpack_require__(121);function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data[typeof key=="string"?"string":"hash"]:data.map}module.exports=getMapData},function(module,exports){function isKeyable(value){var type=typeof value;return type=="string"||type=="number"||type=="symbol"||type=="boolean"?value!=="__proto__":value===null}module.exports=isKeyable},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(120);function mapCacheGet(key){return getMapData(this,key).get(key)}module.exports=mapCacheGet},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(120);function mapCacheHas(key){return getMapData(this,key).has(key)}module.exports=mapCacheHas},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(120);function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;data.set(key,value);this.size+=data.size==size?0:1;return this}module.exports=mapCacheSet},function(module,exports){function arrayEach(array,iteratee){var index=-1,length=array==null?0:array.length;while(++index<length){if(iteratee(array[index],index,array)===false){break}}return array}module.exports=arrayEach},function(module,exports,__webpack_require__){var baseAssignValue=__webpack_require__(127),eq=__webpack_require__(86);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function assignValue(object,key,value){var objValue=object[key];if(!(hasOwnProperty.call(object,key)&&eq(objValue,value))||value===undefined&&!(key in object)){baseAssignValue(object,key,value)}}module.exports=assignValue},function(module,exports,__webpack_require__){var defineProperty=__webpack_require__(128);function baseAssignValue(object,key,value){if(key=="__proto__"&&defineProperty){defineProperty(object,key,{configurable:true,enumerable:true,value:value,writable:true})}else{object[key]=value}}module.exports=baseAssignValue},function(module,exports,__webpack_require__){var getNative=__webpack_require__(96);var defineProperty=function(){try{var func=getNative(Object,"defineProperty");func({},"",{});return func}catch(e){}}();module.exports=defineProperty},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(130),keys=__webpack_require__(131);function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}module.exports=baseAssign},function(module,exports,__webpack_require__){var assignValue=__webpack_require__(126),baseAssignValue=__webpack_require__(127);function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];var newValue=customizer?customizer(object[key],source[key],key,object,source):undefined;if(newValue===undefined){newValue=source[key]}if(isNew){baseAssignValue(object,key,newValue)}else{assignValue(object,key,newValue)}}return object}module.exports=copyObject},function(module,exports,__webpack_require__){var arrayLikeKeys=__webpack_require__(132),baseKeys=__webpack_require__(146),isArrayLike=__webpack_require__(150);function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}module.exports=keys},function(module,exports,__webpack_require__){var baseTimes=__webpack_require__(133),isArguments=__webpack_require__(134),isArray=__webpack_require__(137),isBuffer=__webpack_require__(138),isIndex=__webpack_require__(140),isTypedArray=__webpack_require__(141);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value){if((inherited||hasOwnProperty.call(value,key))&&!(skipIndexes&&(key=="length"||isBuff&&(key=="offset"||key=="parent")||isType&&(key=="buffer"||key=="byteLength"||key=="byteOffset")||isIndex(key,length)))){result.push(key)}}return result}module.exports=arrayLikeKeys},function(module,exports){function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n){result[index]=iteratee(index)}return result}module.exports=baseTimes},function(module,exports,__webpack_require__){var baseIsArguments=__webpack_require__(135),isObjectLike=__webpack_require__(136);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var propertyIsEnumerable=objectProto.propertyIsEnumerable;var isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};module.exports=isArguments},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(99),isObjectLike=__webpack_require__(136);var argsTag="[object Arguments]";function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}module.exports=baseIsArguments},function(module,exports){function isObjectLike(value){return value!=null&&typeof value=="object"}module.exports=isObjectLike},function(module,exports){var isArray=Array.isArray;module.exports=isArray},function(module,exports,__webpack_require__){(function(module){var root=__webpack_require__(101),stubFalse=__webpack_require__(139);var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports;var Buffer=moduleExports?root.Buffer:undefined;var nativeIsBuffer=Buffer?Buffer.isBuffer:undefined;var isBuffer=nativeIsBuffer||stubFalse;module.exports=isBuffer}).call(exports,__webpack_require__(65)(module))},function(module,exports){function stubFalse(){return false}module.exports=stubFalse},function(module,exports){var MAX_SAFE_INTEGER=9007199254740991;var reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(value,length){length=length==null?MAX_SAFE_INTEGER:length;return!!length&&(typeof value=="number"||reIsUint.test(value))&&(value>-1&&value%1==0&&value<length)}module.exports=isIndex},function(module,exports,__webpack_require__){var baseIsTypedArray=__webpack_require__(142),baseUnary=__webpack_require__(144),nodeUtil=__webpack_require__(145);var nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;module.exports=isTypedArray},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(99),isLength=__webpack_require__(143),isObjectLike=__webpack_require__(136);var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]";var arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}module.exports=baseIsTypedArray},function(module,exports){var MAX_SAFE_INTEGER=9007199254740991;function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}module.exports=isLength},function(module,exports){function baseUnary(func){return function(value){return func(value)}}module.exports=baseUnary},function(module,exports,__webpack_require__){(function(module){var freeGlobal=__webpack_require__(102);var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports;var freeProcess=moduleExports&&freeGlobal.process;var nodeUtil=function(){try{return freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();module.exports=nodeUtil}).call(exports,__webpack_require__(65)(module))},function(module,exports,__webpack_require__){var isPrototype=__webpack_require__(147),nativeKeys=__webpack_require__(148);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function baseKeys(object){if(!isPrototype(object)){return nativeKeys(object)}var result=[];for(var key in Object(object)){if(hasOwnProperty.call(object,key)&&key!="constructor"){result.push(key)}}return result}module.exports=baseKeys},function(module,exports){var objectProto=Object.prototype;function isPrototype(value){var Ctor=value&&value.constructor,proto=typeof Ctor=="function"&&Ctor.prototype||objectProto;return value===proto}module.exports=isPrototype},function(module,exports,__webpack_require__){var overArg=__webpack_require__(149);var nativeKeys=overArg(Object.keys,Object);module.exports=nativeKeys},function(module,exports){function overArg(func,transform){return function(arg){return func(transform(arg))}}module.exports=overArg},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(98),isLength=__webpack_require__(143);function isArrayLike(value){return value!=null&&isLength(value.length)&&!isFunction(value)}module.exports=isArrayLike},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(130),keysIn=__webpack_require__(152);function baseAssignIn(object,source){return object&&copyObject(source,keysIn(source),object)}module.exports=baseAssignIn},function(module,exports,__webpack_require__){var arrayLikeKeys=__webpack_require__(132),baseKeysIn=__webpack_require__(153),isArrayLike=__webpack_require__(150);function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,true):baseKeysIn(object)}module.exports=keysIn},function(module,exports,__webpack_require__){var isObject=__webpack_require__(105),isPrototype=__webpack_require__(147),nativeKeysIn=__webpack_require__(154);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function baseKeysIn(object){if(!isObject(object)){return nativeKeysIn(object)}var isProto=isPrototype(object),result=[];for(var key in object){if(!(key=="constructor"&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key)}}return result}module.exports=baseKeysIn},function(module,exports){function nativeKeysIn(object){var result=[];if(object!=null){for(var key in Object(object)){result.push(key)}}return result}module.exports=nativeKeysIn},function(module,exports,__webpack_require__){(function(module){var root=__webpack_require__(101);var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports;var Buffer=moduleExports?root.Buffer:undefined,allocUnsafe=Buffer?Buffer.allocUnsafe:undefined;function cloneBuffer(buffer,isDeep){if(isDeep){return buffer.slice()}var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);buffer.copy(result);return result}module.exports=cloneBuffer}).call(exports,__webpack_require__(65)(module))},function(module,exports){function copyArray(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length){array[index]=source[index]}return array}module.exports=copyArray},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(130),getSymbols=__webpack_require__(158);function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}module.exports=copySymbols},function(module,exports,__webpack_require__){var arrayFilter=__webpack_require__(159),stubArray=__webpack_require__(160);var objectProto=Object.prototype;var propertyIsEnumerable=objectProto.propertyIsEnumerable;var nativeGetSymbols=Object.getOwnPropertySymbols;var getSymbols=!nativeGetSymbols?stubArray:function(object){if(object==null){return[]}object=Object(object);return arrayFilter(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable.call(object,symbol)})};module.exports=getSymbols},function(module,exports){function arrayFilter(array,predicate){var index=-1,length=array==null?0:array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(predicate(value,index,array)){result[resIndex++]=value}}return result}module.exports=arrayFilter},function(module,exports){function stubArray(){return[]}module.exports=stubArray},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(130),getSymbolsIn=__webpack_require__(162);function copySymbolsIn(source,object){return copyObject(source,getSymbolsIn(source),object)}module.exports=copySymbolsIn},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(163),getPrototype=__webpack_require__(164),getSymbols=__webpack_require__(158),stubArray=__webpack_require__(160);var nativeGetSymbols=Object.getOwnPropertySymbols;var getSymbolsIn=!nativeGetSymbols?stubArray:function(object){var result=[];while(object){arrayPush(result,getSymbols(object));object=getPrototype(object)}return result};module.exports=getSymbolsIn},function(module,exports){function arrayPush(array,values){var index=-1,length=values.length,offset=array.length;while(++index<length){array[offset+index]=values[index]}return array}module.exports=arrayPush},function(module,exports,__webpack_require__){var overArg=__webpack_require__(149);var getPrototype=overArg(Object.getPrototypeOf,Object);module.exports=getPrototype},function(module,exports,__webpack_require__){var baseGetAllKeys=__webpack_require__(166),getSymbols=__webpack_require__(158),keys=__webpack_require__(131);function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}module.exports=getAllKeys},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(163),isArray=__webpack_require__(137);function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}module.exports=baseGetAllKeys},function(module,exports,__webpack_require__){var baseGetAllKeys=__webpack_require__(166),getSymbolsIn=__webpack_require__(162),keysIn=__webpack_require__(152);function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}module.exports=getAllKeysIn},function(module,exports,__webpack_require__){var DataView=__webpack_require__(169),Map=__webpack_require__(95),Promise=__webpack_require__(170),Set=__webpack_require__(171),WeakMap=__webpack_require__(172),baseGetTag=__webpack_require__(99),toSource=__webpack_require__(108);var mapTag="[object Map]",objectTag="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]";var dataViewTag="[object DataView]";var dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap);var getTag=baseGetTag;if(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag){getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:undefined,ctorString=Ctor?toSource(Ctor):"";if(ctorString){switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}}return result}}module.exports=getTag},function(module,exports,__webpack_require__){var getNative=__webpack_require__(96),root=__webpack_require__(101);var DataView=getNative(root,"DataView");module.exports=DataView},function(module,exports,__webpack_require__){var getNative=__webpack_require__(96),root=__webpack_require__(101);var Promise=getNative(root,"Promise");module.exports=Promise},function(module,exports,__webpack_require__){var getNative=__webpack_require__(96),root=__webpack_require__(101);var Set=getNative(root,"Set");module.exports=Set},function(module,exports,__webpack_require__){var getNative=__webpack_require__(96),root=__webpack_require__(101);var WeakMap=getNative(root,"WeakMap");module.exports=WeakMap},function(module,exports){var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function initCloneArray(array){var length=array.length,result=array.constructor(length);if(length&&typeof array[0]=="string"&&hasOwnProperty.call(array,"index")){result.index=array.index;result.input=array.input}return result}module.exports=initCloneArray},function(module,exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(175),cloneDataView=__webpack_require__(177),cloneMap=__webpack_require__(178),cloneRegExp=__webpack_require__(182),cloneSet=__webpack_require__(183),cloneSymbol=__webpack_require__(186),cloneTypedArray=__webpack_require__(187);var boolTag="[object Boolean]",dateTag="[object Date]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]";var arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";function initCloneByTag(object,tag,cloneFunc,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return cloneDataView(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return cloneMap(object,isDeep,cloneFunc);case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);case setTag:return cloneSet(object,isDeep,cloneFunc);case symbolTag:return cloneSymbol(object)}}module.exports=initCloneByTag},function(module,exports,__webpack_require__){var Uint8Array=__webpack_require__(176);function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);new Uint8Array(result).set(new Uint8Array(arrayBuffer));return result}module.exports=cloneArrayBuffer},function(module,exports,__webpack_require__){var root=__webpack_require__(101);var Uint8Array=root.Uint8Array;module.exports=Uint8Array},function(module,exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(175);function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}module.exports=cloneDataView},function(module,exports,__webpack_require__){var addMapEntry=__webpack_require__(179),arrayReduce=__webpack_require__(180),mapToArray=__webpack_require__(181);var CLONE_DEEP_FLAG=1;function cloneMap(map,isDeep,cloneFunc){var array=isDeep?cloneFunc(mapToArray(map),CLONE_DEEP_FLAG):mapToArray(map);return arrayReduce(array,addMapEntry,new map.constructor)}module.exports=cloneMap},function(module,exports){function addMapEntry(map,pair){map.set(pair[0],pair[1]);return map}module.exports=addMapEntry},function(module,exports){function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=array==null?0:array.length;if(initAccum&&length){accumulator=array[++index]}while(++index<length){accumulator=iteratee(accumulator,array[index],index,array)}return accumulator}module.exports=arrayReduce},function(module,exports){function mapToArray(map){var index=-1,result=Array(map.size);map.forEach(function(value,key){result[++index]=[key,value]});return result}module.exports=mapToArray},function(module,exports){var reFlags=/\w*$/;function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));result.lastIndex=regexp.lastIndex;return result}module.exports=cloneRegExp},function(module,exports,__webpack_require__){var addSetEntry=__webpack_require__(184),arrayReduce=__webpack_require__(180),setToArray=__webpack_require__(185);var CLONE_DEEP_FLAG=1;function cloneSet(set,isDeep,cloneFunc){var array=isDeep?cloneFunc(setToArray(set),CLONE_DEEP_FLAG):setToArray(set);return arrayReduce(array,addSetEntry,new set.constructor)}module.exports=cloneSet},function(module,exports){function addSetEntry(set,value){set.add(value);return set}module.exports=addSetEntry},function(module,exports){function setToArray(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=value});return result}module.exports=setToArray},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(100);var symbolProto=Symbol?Symbol.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined;function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}module.exports=cloneSymbol},function(module,exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(175);function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}module.exports=cloneTypedArray},function(module,exports,__webpack_require__){var baseCreate=__webpack_require__(189),getPrototype=__webpack_require__(164),isPrototype=__webpack_require__(147);function initCloneObject(object){return typeof object.constructor=="function"&&!isPrototype(object)?baseCreate(getPrototype(object)):{}}module.exports=initCloneObject},function(module,exports,__webpack_require__){var isObject=__webpack_require__(105);var objectCreate=Object.create;var baseCreate=function(){function object(){}return function(proto){if(!isObject(proto)){return{}}if(objectCreate){return objectCreate(proto)}object.prototype=proto;var result=new object;object.prototype=undefined;return result}}();module.exports=baseCreate},function(module,exports,__webpack_require__){var castPath=__webpack_require__(191),last=__webpack_require__(199),parent=__webpack_require__(200),toKey=__webpack_require__(202);function baseUnset(object,path){path=castPath(path,object);object=parent(object,path);return object==null||delete object[toKey(last(path))]}module.exports=baseUnset},function(module,exports,__webpack_require__){var isArray=__webpack_require__(137),isKey=__webpack_require__(192),stringToPath=__webpack_require__(194),toString=__webpack_require__(197);function castPath(value,object){if(isArray(value)){return value}return isKey(value,object)?[value]:stringToPath(toString(value))}module.exports=castPath},function(module,exports,__webpack_require__){var isArray=__webpack_require__(137),isSymbol=__webpack_require__(193);var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(value,object){if(isArray(value)){return false}var type=typeof value;if(type=="number"||type=="symbol"||type=="boolean"||value==null||isSymbol(value)){return true}return reIsPlainProp.test(value)||!reIsDeepProp.test(value)||object!=null&&value in Object(object)}module.exports=isKey},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(99),isObjectLike=__webpack_require__(136);var symbolTag="[object Symbol]";function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&baseGetTag(value)==symbolTag}module.exports=isSymbol},function(module,exports,__webpack_require__){var memoizeCapped=__webpack_require__(195);var reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var reEscapeChar=/\\(\\)?/g;var stringToPath=memoizeCapped(function(string){var result=[];if(reLeadingDot.test(string)){result.push("")}string.replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)});return result});module.exports=stringToPath},function(module,exports,__webpack_require__){var memoize=__webpack_require__(196);var MAX_MEMOIZE_SIZE=500;function memoizeCapped(func){var result=memoize(func,function(key){if(cache.size===MAX_MEMOIZE_SIZE){cache.clear()}return key});var cache=result.cache;return result}module.exports=memoizeCapped},function(module,exports,__webpack_require__){var MapCache=__webpack_require__(110);var FUNC_ERROR_TEXT="Expected a function";function memoize(func,resolver){if(typeof func!="function"||resolver!=null&&typeof resolver!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key)){return cache.get(key)}var result=func.apply(this,args);memoized.cache=cache.set(key,result)||cache;return result};memoized.cache=new(memoize.Cache||MapCache);return memoized}memoize.Cache=MapCache;module.exports=memoize},function(module,exports,__webpack_require__){var baseToString=__webpack_require__(198);function toString(value){return value==null?"":baseToString(value)}module.exports=toString},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(100),arrayMap=__webpack_require__(79),isArray=__webpack_require__(137),isSymbol=__webpack_require__(193);var INFINITY=1/0;var symbolProto=Symbol?Symbol.prototype:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;function baseToString(value){if(typeof value=="string"){return value}if(isArray(value)){return arrayMap(value,baseToString)+""}if(isSymbol(value)){return symbolToString?symbolToString.call(value):""}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result;
}module.exports=baseToString},function(module,exports){function last(array){var length=array==null?0:array.length;return length?array[length-1]:undefined}module.exports=last},function(module,exports,__webpack_require__){var baseGet=__webpack_require__(201),baseSlice=__webpack_require__(203);function parent(object,path){return path.length<2?object:baseGet(object,baseSlice(path,0,-1))}module.exports=parent},function(module,exports,__webpack_require__){var castPath=__webpack_require__(191),toKey=__webpack_require__(202);function baseGet(object,path){path=castPath(path,object);var index=0,length=path.length;while(object!=null&&index<length){object=object[toKey(path[index++])]}return index&&index==length?object:undefined}module.exports=baseGet},function(module,exports,__webpack_require__){var isSymbol=__webpack_require__(193);var INFINITY=1/0;function toKey(value){if(typeof value=="string"||isSymbol(value)){return value}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}module.exports=toKey},function(module,exports){function baseSlice(array,start,end){var index=-1,length=array.length;if(start<0){start=-start>length?0:length+start}end=end>length?length:end;if(end<0){end+=length}length=start>end?0:end-start>>>0;start>>>=0;var result=Array(length);while(++index<length){result[index]=array[index+start]}return result}module.exports=baseSlice},function(module,exports,__webpack_require__){var isPlainObject=__webpack_require__(205);function customOmitClone(value){return isPlainObject(value)?undefined:value}module.exports=customOmitClone},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(99),getPrototype=__webpack_require__(164),isObjectLike=__webpack_require__(136);var objectTag="[object Object]";var funcProto=Function.prototype,objectProto=Object.prototype;var funcToString=funcProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;var objectCtorString=funcToString.call(Object);function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag){return false}var proto=getPrototype(value);if(proto===null){return true}var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return typeof Ctor=="function"&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}module.exports=isPlainObject},function(module,exports,__webpack_require__){var flatten=__webpack_require__(207),overRest=__webpack_require__(210),setToString=__webpack_require__(212);function flatRest(func){return setToString(overRest(func,undefined,flatten),func+"")}module.exports=flatRest},function(module,exports,__webpack_require__){var baseFlatten=__webpack_require__(208);function flatten(array){var length=array==null?0:array.length;return length?baseFlatten(array,1):[]}module.exports=flatten},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(163),isFlattenable=__webpack_require__(209);function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;predicate||(predicate=isFlattenable);result||(result=[]);while(++index<length){var value=array[index];if(depth>0&&predicate(value)){if(depth>1){baseFlatten(value,depth-1,predicate,isStrict,result)}else{arrayPush(result,value)}}else if(!isStrict){result[result.length]=value}}return result}module.exports=baseFlatten},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(100),isArguments=__webpack_require__(134),isArray=__webpack_require__(137);var spreadableSymbol=Symbol?Symbol.isConcatSpreadable:undefined;function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}module.exports=isFlattenable},function(module,exports,__webpack_require__){var apply=__webpack_require__(211);var nativeMax=Math.max;function overRest(func,start,transform){start=nativeMax(start===undefined?func.length-1:start,0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);while(++index<length){array[index]=args[start+index]}index=-1;var otherArgs=Array(start+1);while(++index<start){otherArgs[index]=args[index]}otherArgs[start]=transform(array);return apply(func,this,otherArgs)}}module.exports=overRest},function(module,exports){function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}module.exports=apply},function(module,exports,__webpack_require__){var baseSetToString=__webpack_require__(213),shortOut=__webpack_require__(216);var setToString=shortOut(baseSetToString);module.exports=setToString},function(module,exports,__webpack_require__){var constant=__webpack_require__(214),defineProperty=__webpack_require__(128),identity=__webpack_require__(215);var baseSetToString=!defineProperty?identity:function(func,string){return defineProperty(func,"toString",{configurable:true,enumerable:false,value:constant(string),writable:true})};module.exports=baseSetToString},function(module,exports){function constant(value){return function(){return value}}module.exports=constant},function(module,exports){function identity(value){return value}module.exports=identity},function(module,exports){var HOT_COUNT=800,HOT_SPAN=16;var nativeNow=Date.now;function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);lastCalled=stamp;if(remaining>0){if(++count>=HOT_COUNT){return arguments[0]}}else{count=0}return func.apply(undefined,arguments)}}module.exports=shortOut},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(64);var _OutroHeader=__webpack_require__(218);var _OutroHeader2=_interopRequireDefault(_OutroHeader);var _OutroOwner=__webpack_require__(220);var _OutroOwner2=_interopRequireDefault(_OutroOwner);var _OutroButtons=__webpack_require__(222);var _OutroButtons2=_interopRequireDefault(_OutroButtons);var _OutroButtonsNew=__webpack_require__(251);var _OutroButtonsNew2=_interopRequireDefault(_OutroButtonsNew);var _OutroOnDemandCTA=__webpack_require__(256);var _OutroOnDemandCTA2=_interopRequireDefault(_OutroOnDemandCTA);var _OutroSurvey=__webpack_require__(265);var _OutroSurvey2=_interopRequireDefault(_OutroSurvey);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var CSSTransitionGroup=_react2.default.addons.CSSTransitionGroup;var Outro=function(_React$Component){_inherits(Outro,_React$Component);function Outro(){_classCallCheck(this,Outro);return _possibleConstructorReturn(this,(Outro.__proto__||Object.getPrototypeOf(Outro)).apply(this,arguments))}_createClass(Outro,[{key:"componentDidMount",value:function componentDidMount(){this.props.didMount()}},{key:"render",value:function render(){var _props=this.props,is_playback_complete=_props.is_playback_complete,is_mini=_props.is_mini,clip=_props.clip,owner=_props.owner,show_owner=_props.show_owner,ondemand=_props.ondemand,show_new_outro=_props.show_new_outro,show_survey=_props.show_survey,survey_url=_props.survey_url,surveyClick=_props.surveyClick,titleClick=_props.titleClick;var header_click_enabled=is_playback_complete&&!is_mini;var survey_href=survey_url+decodeURIComponent((("; "+document.cookie).split("; vuid=")[1]||"").split(";")[0]);return _react2.default.createElement("div",{className:"outro",key:"outro_wrapper"},_react2.default.createElement(CSSTransitionGroup,{component:"div",className:"outro-content",transitionAppear:!this.props.is_mini,transitionName:"outro-transition"},_react2.default.createElement(_OutroHeader2.default,{clip:clip,ondemand:ondemand,click_enabled:header_click_enabled,onClick:titleClick}),show_owner?_react2.default.createElement(_OutroOwner2.default,{owner:owner}):null,ondemand?_react2.default.createElement(_OutroOnDemandCTA2.default,{ondemand:ondemand,is_mini:is_mini}):show_new_outro?_react2.default.createElement(_OutroButtonsNew2.default,this.props):_react2.default.createElement(_OutroButtons2.default,this.props),show_survey?_react2.default.createElement(_OutroSurvey2.default,{href:survey_href,onClick:surveyClick}):null))}}]);return Outro}(_react2.default.Component);Outro.propTypes={clip:_react2.default.PropTypes.object.isRequired,owner:_react2.default.PropTypes.object.isRequired,cur_user:_react2.default.PropTypes.object,collections_enabled:_react2.default.PropTypes.bool,share_enabled:_react2.default.PropTypes.bool,is_liked:_react2.default.PropTypes.bool,is_mini:_react2.default.PropTypes.bool,is_playback_complete:_react2.default.PropTypes.bool,show_owner:_react2.default.PropTypes.bool,show_survey:_react2.default.PropTypes.bool,survey_url:_react2.default.PropTypes.string,didMount:_react2.default.PropTypes.func,surveyClick:_react2.default.PropTypes.func,titleClick:_react2.default.PropTypes.func};Outro.defaultProps={didMount:_lodash.noop,surveyClick:_lodash.noop,titleClick:_lodash.noop};exports.default=Outro;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _OutroHeader=__webpack_require__(219);var _OutroHeader2=_interopRequireDefault(_OutroHeader);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_OutroHeader2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(66);var _classnames2=_interopRequireDefault(_classnames);var _lodash=__webpack_require__(64);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var OutroHeader=function(_React$Component){_inherits(OutroHeader,_React$Component);function OutroHeader(){_classCallCheck(this,OutroHeader);return _possibleConstructorReturn(this,(OutroHeader.__proto__||Object.getPrototypeOf(OutroHeader)).apply(this,arguments))}_createClass(OutroHeader,[{key:"render",value:function render(){var _props=this.props,clip=_props.clip,click_enabled=_props.click_enabled,is_mini=_props.is_mini,ondemand=_props.ondemand,onClick=_props.onClick;var span_class=(0,_classnames2.default)({click_enabled:click_enabled});return ondemand?is_mini?_react2.default.createElement("p",{className:"outro-header vod-mini-header"},_react2.default.createElement("span",null,ondemand.title)):_react2.default.createElement("div",{style:{marginBottom:"1.5625rem"}},_react2.default.createElement("p",{className:"onDemandOutro-header outro_subline"},(0,_i18n.translate)("Like what you saw? See the full title.")),_react2.default.createElement("span",{className:"outro-header"},ondemand.title)):_react2.default.createElement("p",{className:"outro-header"},_react2.default.createElement("span",{className:span_class,onClick:onClick},clip.title))}}]);return OutroHeader}(_react2.default.Component);OutroHeader.propTypes={clip:_react2.default.PropTypes.object.isRequired,click_enabled:_react2.default.PropTypes.bool.isRequired,onClick:_react2.default.PropTypes.func};OutroHeader.defaultProps={onClick:_lodash.noop};exports.default=OutroHeader;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _OutroOwner=__webpack_require__(221);var _OutroOwner2=_interopRequireDefault(_OutroOwner);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_OutroOwner2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var OutroOwner=function OutroOwner(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var owner=props.owner;return _react2.default.createElement("p",{className:"outro-subline"},(0,_i18n.translate)("from {USER_NAME}",{USER_NAME:_react2.default.createElement("a",{key:"outro_byline",href:owner.url},_react2.default.createElement("span",null,owner.display_name))}))};OutroOwner.propTypes={owner:_react2.default.PropTypes.object.isRequired};exports.default=OutroOwner;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _OutroButtonLike=__webpack_require__(223);var _OutroButtonLike2=_interopRequireDefault(_OutroButtonLike);var _OutroButtonFollow=__webpack_require__(234);var _OutroButtonFollow2=_interopRequireDefault(_OutroButtonFollow);var _OutroButtonShare=__webpack_require__(244);var _OutroButtonShare2=_interopRequireDefault(_OutroButtonShare);var _OutroButtonReplay=__webpack_require__(246);var _OutroButtonReplay2=_interopRequireDefault(_OutroButtonReplay);var _OutroButtonCollections=__webpack_require__(249);var _OutroButtonCollections2=_interopRequireDefault(_OutroButtonCollections);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var OutroButtons=function(_React$Component){_inherits(OutroButtons,_React$Component);function OutroButtons(){_classCallCheck(this,OutroButtons);return _possibleConstructorReturn(this,(OutroButtons.__proto__||Object.getPrototypeOf(OutroButtons)).apply(this,arguments))}_createClass(OutroButtons,[{key:"render",value:function render(){return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"outro-buttons"},_react2.default.createElement(_OutroButtonLike2.default,this.props),_react2.default.createElement(_OutroButtonFollow2.default,this.props),_react2.default.createElement(_OutroButtonShare2.default,this.props)),_react2.default.createElement("p",{className:"outro-secondary_actions"},_react2.default.createElement(_OutroButtonReplay2.default,this.props),_react2.default.createElement(_OutroButtonCollections2.default,this.props)))}}]);return OutroButtons}(_react2.default.Component);OutroButtons.propTypes={};OutroButtons.defaultProps={};exports.default=OutroButtons;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _autobindDecorator=__webpack_require__(58);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);var _Button=__webpack_require__(77);var _Button2=_interopRequireDefault(_Button);var _ClipActions=__webpack_require__(8);var _ClipActions2=_interopRequireDefault(_ClipActions);var _i18n=__webpack_require__(37);var _iris_icon_like_=__webpack_require__(224);var _iris_icon_like_2=_interopRequireDefault(_iris_icon_like_);var _iris_icon_unlike_=__webpack_require__(233);var _iris_icon_unlike_2=_interopRequireDefault(_iris_icon_unlike_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var OutroButtonLike=(_class=function(_React$Component){_inherits(OutroButtonLike,_React$Component);function OutroButtonLike(){_classCallCheck(this,OutroButtonLike);return _possibleConstructorReturn(this,(OutroButtonLike.__proto__||Object.getPrototypeOf(OutroButtonLike)).apply(this,arguments))}_createClass(OutroButtonLike,[{key:"_handleLikeClick",value:function _handleLikeClick(e){var _props=this.props,clip=_props.clip,cur_user=_props.cur_user,is_playback_complete=_props.is_playback_complete;if(!cur_user){_ClipActions2.default.openLogin();return}var is_liked=!clip.is_liked;_ClipActions2.default.likeClip(is_liked,!is_playback_complete,clip.id)}},{key:"render",value:function render(){var _props2=this.props,clip=_props2.clip,owner=_props2.owner,cur_user=_props2.cur_user,is_mini=_props2.is_mini;if(cur_user&&cur_user.id===owner.id){return null}var likeIcon=_react2.default.createElement(_iris_icon_like_2.default,{className:"iris_ic is--16"});var unlikeIcon=_react2.default.createElement(_iris_icon_unlike_2.default,{className:"iris_ic is--16"});return _react2.default.createElement(_Button2.default,{icon:likeIcon,currentState:clip.is_liked,hoverIcon:clip.is_liked?unlikeIcon:likeIcon,label:clip.is_liked?(0,_i18n.translate)("Liked"):(0,_i18n.translate)("Like"),hoverLabel:clip.is_liked?(0,_i18n.translate)("Unlike"):(0,_i18n.translate)("Like"),format:clip.is_liked?"smoke":"primary",size:is_mini?"sm":"lg",longestString:(0,_i18n.translate)("Unlike"),is_mini:is_mini,"data-fatal-attraction":"container:"+(is_mini?"mini_bar":"outro")+"|component:"+(clip.is_liked?"unlike":"like")+"|keyword:"+clip.id,onClick:this._handleLikeClick})}}]);return OutroButtonLike}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"_handleLikeClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleLikeClick"),_class.prototype),_class);OutroButtonLike.propTypes={clip:_react2.default.PropTypes.object.isRequired,owner:_react2.default.PropTypes.object.isRequired,cur_user:_react2.default.PropTypes.object,is_mini:_react2.default.PropTypes.bool,is_playback_complete:_react2.default.PropTypes.bool};OutroButtonLike.defaultProps={clip:null,owner:null,cur_user:null,is_mini:false,is_playback_complete:false};exports.default=OutroButtonLike;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconLike16",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M12 2C9.75 2 8 4 8 4S6.25 2 4 2 0 3.75 0 6c0 4.25 5 4.016 8 8 3-3.984 8-3.75 8-8 0-2.25-1.75-4-4-4z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){var forEach=__webpack_require__(226);var ATTR_KEY="data-svgreactloader";var MODULE={applyAttributes:function(el){var data=MODULE.hasXmlAttributes(el);if(data){forEach(JSON.parse(data),function(args){var method="setAttribute"+(args.length===3?"NS":"");el[method].apply(el,args)})}},hasXmlAttributes:function(el){return el&&el.getAttribute(ATTR_KEY)},applyXmlAttributes:function(component){var domEl=MODULE.reactDOM.findDOMNode(component);var fn=MODULE.applyAttributes;if(domEl){fn(domEl);forEach(domEl.querySelectorAll("["+ATTR_KEY+"]"),fn)}}};module.exports=function helpers(reactDOM){if(!MODULE.reactDOM){MODULE.reactDOM=reactDOM}return MODULE}},function(module,exports,__webpack_require__){var arrayEach=__webpack_require__(125),baseEach=__webpack_require__(227),castFunction=__webpack_require__(232),isArray=__webpack_require__(137);function forEach(collection,iteratee){var func=isArray(collection)?arrayEach:baseEach;return func(collection,castFunction(iteratee))}module.exports=forEach},function(module,exports,__webpack_require__){var baseForOwn=__webpack_require__(228),createBaseEach=__webpack_require__(231);var baseEach=createBaseEach(baseForOwn);module.exports=baseEach},function(module,exports,__webpack_require__){var baseFor=__webpack_require__(229),keys=__webpack_require__(131);function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}module.exports=baseForOwn},function(module,exports,__webpack_require__){var createBaseFor=__webpack_require__(230);var baseFor=createBaseFor();module.exports=baseFor},function(module,exports){function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;while(length--){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===false){break}}return object}}module.exports=createBaseFor},function(module,exports,__webpack_require__){var isArrayLike=__webpack_require__(150);function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(collection==null){return collection}if(!isArrayLike(collection)){return eachFunc(collection,iteratee)}var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);while(fromRight?index--:++index<length){if(iteratee(iterable[index],index,iterable)===false){break}}return collection}}module.exports=createBaseEach},function(module,exports,__webpack_require__){var identity=__webpack_require__(215);function castFunction(value){return typeof value=="function"?value:identity}module.exports=castFunction},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconUnlike16",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M12 2C9.75 2 8 4 8 4L7 5l3 2-3 2 1 2-3-2 3-2-3-2 1.999-1.887C6.272 2.578 5.21 2 4 2 1.75 2 0 3.75 0 6c0 4.25 5 4.016 8 8 3-3.984 8-3.75 8-8 0-2.25-1.75-4-4-4z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _autobindDecorator=__webpack_require__(58);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);var _Button=__webpack_require__(77);var _Button2=_interopRequireDefault(_Button);var _ClipActions=__webpack_require__(8);var _ClipActions2=_interopRequireDefault(_ClipActions);var _i18n=__webpack_require__(37);var _iris_icon_replay_=__webpack_require__(235);var _iris_icon_replay_2=_interopRequireDefault(_iris_icon_replay_);var _FollowButtonStableWidth=__webpack_require__(236);var _FollowButtonStableWidth2=_interopRequireDefault(_FollowButtonStableWidth);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var OutroButtonFollow=(_class=function(_React$Component){_inherits(OutroButtonFollow,_React$Component);function OutroButtonFollow(){_classCallCheck(this,OutroButtonFollow);return _possibleConstructorReturn(this,(OutroButtonFollow.__proto__||Object.getPrototypeOf(OutroButtonFollow)).apply(this,arguments))}_createClass(OutroButtonFollow,[{key:"_handleFollowClick",value:function _handleFollowClick(e){if(!this.props.cur_user){_ClipActions2.default.openLogin();return}var is_following=e.is_following,user_id=e.user_id;if(is_following){_ClipActions2.default.followUser(user_id)}else{_ClipActions2.default.unfollowUser(user_id)}}},{key:"render",value:function render(){var _props=this.props,owner=_props.owner,cur_user=_props.cur_user,is_following=_props.is_following,is_mini=_props.is_mini;if(cur_user&&cur_user.id===owner.id){return null}return _react2.default.createElement(_FollowButtonStableWidth2.default,{format:is_following?"smoke":"primary",size:is_mini?"sm":"lg",user_id:owner.id,is_following:is_following,is_mini:is_mini,"data-fatal-attraction":"container:"+(is_mini?"mini_bar":"outro")+"|component:"+(owner.is_following?"unfollow":"follow")+"|keyword:"+owner.id,onClick:this._handleFollowClick})}}]);return OutroButtonFollow}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"_handleFollowClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleFollowClick"),_class.prototype),
_class);OutroButtonFollow.propTypes={owner:_react2.default.PropTypes.object.isRequired,cur_user:_react2.default.PropTypes.object,is_following:_react2.default.PropTypes.bool,is_mini:_react2.default.PropTypes.bool};OutroButtonFollow.defaultProps={owner:null,cur_user:null,is_following:false,is_mini:false};exports.default=OutroButtonFollow;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconReplay16",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"-387 605 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M-387 606v4c0 .6.4 1 1 1h4c.6 0 1-.4 1-1s-.4-1-1-1h-1.5c1.1-1.2 2.7-2 4.5-2 3.3 0 6 2.7 6 6s-2.7 6-6 6c-2.3 0-4.4-1.3-5.4-3.4-.2-.5-.8-.7-1.3-.5-.5.2-.7.8-.5 1.3 1.3 2.8 4.2 4.6 7.2 4.6 4.4 0 8-3.6 8-8s-3.6-8-8-8c-2.3 0-4.5 1-6 2.7V606c0-.6-.4-1-1-1s-1 .4-1 1z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=undefined;var _FollowButtonStableWidth=__webpack_require__(237);var _FollowButtonStableWidth2=_interopRequireDefault(_FollowButtonStableWidth);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_FollowButtonStableWidth2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(6);var _reactDom2=_interopRequireDefault(_reactDom);var _classnames=__webpack_require__(66);var _classnames2=_interopRequireDefault(_classnames);var _i18n=__webpack_require__(37);var _iris_icon_more_=__webpack_require__(238);var _iris_icon_more_2=_interopRequireDefault(_iris_icon_more_);var _iris_icon_delete_=__webpack_require__(239);var _iris_icon_delete_2=_interopRequireDefault(_iris_icon_delete_);var _iris_icon_select_=__webpack_require__(240);var _iris_icon_select_2=_interopRequireDefault(_iris_icon_select_);var _iris_icon_more_3=__webpack_require__(241);var _iris_icon_more_4=_interopRequireDefault(_iris_icon_more_3);var _iris_icon_delete_3=__webpack_require__(242);var _iris_icon_delete_4=_interopRequireDefault(_iris_icon_delete_3);var _iris_icon_select_3=__webpack_require__(243);var _iris_icon_select_4=_interopRequireDefault(_iris_icon_select_3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var FollowButtonStableWidth=function(_React$Component){_inherits(FollowButtonStableWidth,_React$Component);function FollowButtonStableWidth(props){_classCallCheck(this,FollowButtonStableWidth);var _this=_possibleConstructorReturn(this,(FollowButtonStableWidth.__proto__||Object.getPrototypeOf(FollowButtonStableWidth)).call(this,props));_this.state={is_hovering:false,is_active:false,just_followed:false};return _this}_createClass(FollowButtonStableWidth,[{key:"componentDidUpdate",value:function componentDidUpdate(){var _props=this.props,is_following=_props.is_following,is_mini=_props.is_mini;var longest_string="Following";if(is_following){if(is_mini){var main_btn=_reactDom2.default.findDOMNode(this.refs.main_btn);main_btn.style.minWidth="0";var tmp_btn=main_btn.cloneNode(true);tmp_btn.lastChild.textContent=longest_string;tmp_btn.style.left="-9999px";document.body.appendChild(tmp_btn);var new_width=tmp_btn.offsetWidth+"px";main_btn.style.minWidth=new_width;document.body.removeChild(tmp_btn)}else{var _main_btn=_reactDom2.default.findDOMNode(this.refs.main_btn);var _tmp_btn=_main_btn.cloneNode(true);_tmp_btn.lastChild.textContent=longest_string;_tmp_btn.style.left="-9999px";document.body.appendChild(_tmp_btn);var _new_width=_tmp_btn.offsetWidth+"px";_main_btn.style.minWidth=_new_width;document.body.removeChild(_tmp_btn)}}else{var _main_btn2=_reactDom2.default.findDOMNode(this.refs.main_btn);_main_btn2.style.minWidth="0";_main_btn2.style.width="auto"}}},{key:"_renderIcon",value:function _renderIcon(){var _state=this.state,is_hovering=_state.is_hovering,is_active=_state.is_active,just_followed=_state.just_followed,format=_state.format;var _props2=this.props,is_following=_props2.is_following,size=_props2.size;var follow_icon=void 0;var unfollow_icon=void 0;var following_icon=void 0;if(size==="sm"){follow_icon=_react2.default.createElement(_iris_icon_more_2.default,{className:"iris_ic is--12"});unfollow_icon=_react2.default.createElement(_iris_icon_delete_2.default,{className:"iris_ic is--12"});following_icon=_react2.default.createElement(_iris_icon_select_2.default,{className:"iris_ic is--12"})}else if(size==="xsm"){follow_icon=_react2.default.createElement(_iris_icon_more_2.default,{className:"iris_ic is--8"});unfollow_icon=_react2.default.createElement(_iris_icon_delete_2.default,{className:"iris_ic is--8"});following_icon=_react2.default.createElement(_iris_icon_select_2.default,{className:"iris_ic is--8"})}else{follow_icon=_react2.default.createElement(_iris_icon_more_2.default,{className:"iris_ic is--16"});unfollow_icon=_react2.default.createElement(_iris_icon_delete_2.default,{className:"iris_ic is--16"});following_icon=_react2.default.createElement(_iris_icon_select_2.default,{className:"iris_ic is--16"})}if(is_following){if(is_hovering&&!just_followed){return unfollow_icon}return following_icon}return follow_icon}},{key:"_handleMouseEnter",value:function _handleMouseEnter(){this.setState({is_hovering:true})}},{key:"_handleMouseLeave",value:function _handleMouseLeave(){this.setState({is_hovering:false,just_followed:false})}},{key:"_handleClick",value:function _handleClick(e){e.preventDefault();var _props3=this.props,is_following=_props3.is_following,user_id=_props3.user_id,onClick=_props3.onClick;var is_now_following=!is_following;var follow_btn=e.currentTarget;follow_btn.blur();this.setState({is_active:true,just_followed:!this.props.is_following});onClick({event:e,is_following:is_now_following,user_id:user_id})}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(next_props){if(this.props.is_following!==next_props.is_following){this.setState({is_active:false})}}},{key:"render",value:function render(){var _state2=this.state,is_hovering=_state2.is_hovering,is_active=_state2.is_active,just_followed=_state2.just_followed;var _props4=this.props,is_following=_props4.is_following,format=_props4.format,size=_props4.size,prevent_disabled=_props4.prevent_disabled;var longestString=(0,_i18n.translate)("Following");var text_label=(0,_i18n.translate)("Follow");if(is_following){text_label=just_followed||!is_hovering?(0,_i18n.translate)("Following"):(0,_i18n.translate)("Unfollow")}var disabled=prevent_disabled?false:is_active;var btn_size="iris_btn--"+size;var class_list=(0,_classnames2.default)("iris_btn",btn_size,{"iris_btn-outline iris_btn-outline--primary":format==="outline--primary","iris_btn-outline iris_btn-outline--downplay":format==="outline--downplay","iris_btn-switch":format==="switch","iris_btn--primary iris_btn-switch--disabled":format===("primary"||"primary-outro"),"iris_btn--secondary":format==="secondary","iris_btn--smoke":format==="smoke","iris_btn-switch--successful":just_followed&&!is_active});var div_style={display:"inline-block"};return _react2.default.createElement("button",{ref:"main_btn",type:"button",disabled:disabled,className:is_following?class_list+" follow_btn"+(format==="primary-outro"?" iris_btn--primary":" iris_btn-switch--on"):class_list+" follow_btn",onMouseLeave:this._handleMouseLeave.bind(this),onMouseEnter:this._handleMouseEnter.bind(this),onClick:this._handleClick.bind(this),"data-fatal-attraction":this.props["data-fatal-attraction"]},this._renderIcon(),_react2.default.createElement("span",{className:"iris_btn-content"},text_label))}}]);return FollowButtonStableWidth}(_react2.default.Component);FollowButtonStableWidth.propTypes={is_following:_react2.default.PropTypes.bool.isRequired,user_id:_react2.default.PropTypes.number.isRequired,format:_react2.default.PropTypes.string,size:_react2.default.PropTypes.string,prevent_disabled:_react2.default.PropTypes.bool,onClick:_react2.default.PropTypes.func,"data-fatal-attraction":_react2.default.PropTypes.string};exports.default=FollowButtonStableWidth;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconMore16",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M15 6h-5V1a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v5H1a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h5v5a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-5h5a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconDelete16",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{fill:"#010101",d:"M14.03 3.03l-1.06-1.06L8 6.939 3.03 1.97 1.97 3.03 6.939 8 1.97 12.97l1.06 1.06L8 9.061l4.97 4.969 1.06-1.06L9.061 8z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconSelect16",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M15.707 3.347l-1.061-1.055a1.003 1.003 0 0 0-1.414 0L6 9.487 2.768 6.271a1.003 1.003 0 0 0-1.414 0L.293 7.327a.99.99 0 0 0 0 1.407l5 4.975a1.003 1.003 0 0 0 1.414 0l9-8.955a.99.99 0 0 0 0-1.407z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconMore8",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 8 8"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M8 3H5V0H3v3H0v2h3v3h2V5h3"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconDelete8",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 8 8"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{fill:"#010101",d:"M7.536 1.88L6.12.463 4 2.584 1.88.465.463 1.88 2.584 4 .465 6.12 1.88 7.537 4 5.416l2.12 2.12L7.537 6.12 5.416 4"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconSelect8",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{fill:"#010101",d:"M15.706 3.348l-1.06-1.056a1.01 1.01 0 0 0-1.416 0L6 9.488 2.768 6.272a1.01 1.01 0 0 0-1.416 0L.292 7.328a.991.991 0 0 0 0 1.406l5 4.974a1.007 1.007 0 0 0 1.416 0l9-8.956a.992.992 0 0 0 0-1.404"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _autobindDecorator=__webpack_require__(58);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);var _Button=__webpack_require__(77);var _Button2=_interopRequireDefault(_Button);var _ClipActions=__webpack_require__(8);var _ClipActions2=_interopRequireDefault(_ClipActions);var _i18n=__webpack_require__(37);var _iris_icon_share_=__webpack_require__(245);var _iris_icon_share_2=_interopRequireDefault(_iris_icon_share_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var OutroButtonShare=(_class=function(_React$Component){_inherits(OutroButtonShare,_React$Component);function OutroButtonShare(){_classCallCheck(this,OutroButtonShare);return _possibleConstructorReturn(this,(OutroButtonShare.__proto__||Object.getPrototypeOf(OutroButtonShare)).apply(this,arguments))}_createClass(OutroButtonShare,[{key:"_handleShareClick",value:function _handleShareClick(e){var _props=this.props,clip=_props.clip,is_mini=_props.is_mini;_ClipActions2.default.pauseCountdownTimer();_ClipActions2.default.openShare(clip.id,is_mini?"mini_bar":"outro")}},{key:"render",value:function render(){var _props2=this.props,clip=_props2.clip,share_enabled=_props2.share_enabled,is_mini=_props2.is_mini;if(!share_enabled){return null}var share_icon=_react2.default.createElement(_iris_icon_share_2.default,{className:"iris_ic is--16"});return _react2.default.createElement(_Button2.default,{icon:share_icon,format:"primary",size:is_mini?"sm":"lg",clip_id:clip.id,"data-fatal-attraction":"container:"+(is_mini?"mini_bar":"outro")+"|component:share|keyword:"+clip.id,onClick:this._handleShareClick},(0,_i18n.translate)("Share"))}}]);return OutroButtonShare}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"_handleShareClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleShareClick"),_class.prototype),_class);OutroButtonShare.propTypes={clip:_react2.default.PropTypes.object.isRequired,share_enabled:_react2.default.PropTypes.bool,is_mini:_react2.default.PropTypes.bool};OutroButtonShare.defaultProps={clip:null,share_enabled:false,is_mini:false};exports.default=OutroButtonShare;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconShare16",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M0 9.5l4.7 2.8L11 6l-5 7v2l1.2-1.2L11 16l5-16z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _Button=__webpack_require__(247);var _Button2=_interopRequireDefault(_Button);var _ClipActions=__webpack_require__(8);var _ClipActions2=_interopRequireDefault(_ClipActions);var _i18n=__webpack_require__(37);var _iris_icon_replay_=__webpack_require__(235);var _iris_icon_replay_2=_interopRequireDefault(_iris_icon_replay_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function handleReplayClick(e){e.preventDefault();_ClipActions2.default.replay()}var MiniReplayOutro=function(_React$Component){_inherits(MiniReplayOutro,_React$Component);function MiniReplayOutro(){_classCallCheck(this,MiniReplayOutro);return _possibleConstructorReturn(this,(MiniReplayOutro.__proto__||Object.getPrototypeOf(MiniReplayOutro)).apply(this,arguments))}_createClass(MiniReplayOutro,[{key:"render",value:function render(){return _react2.default.createElement("div",{className:"outro-action--mini-bar-replay"},_react2.default.createElement("img",{className:"outro-action--replay-thumbnail","data-src2x":this.props.thumbnail.src_2x,src:this.props.thumbnail.src}),_react2.default.createElement("button",{className:"outro-action--borderless-button",onClick:handleReplayClick},this.props.icon))}}]);return MiniReplayOutro}(_react2.default.Component);var OutroButtonReplay=function(_React$Component2){_inherits(OutroButtonReplay,_React$Component2);function OutroButtonReplay(){_classCallCheck(this,OutroButtonReplay);return _possibleConstructorReturn(this,(OutroButtonReplay.__proto__||Object.getPrototypeOf(OutroButtonReplay)).apply(this,arguments))}_createClass(OutroButtonReplay,[{key:"render",value:function render(){var _props=this.props,clip=_props.clip,is_mini=_props.is_mini,show_outro=_props.show_outro,thumbnail=_props.thumbnail;var replay_icon=_react2.default.createElement(_iris_icon_replay_2.default,{className:"iris_ic is--16"});if(is_mini&&!show_outro){return null}else if(is_mini&&show_outro){return _react2.default.createElement(MiniReplayOutro,{thumbnail:thumbnail,icon:replay_icon})}return _react2.default.createElement(_Button2.default,{autoWidth:"xs",className:"outro-action--borderless-button",format:"primaryOutline",icon:replay_icon,onClick:handleReplayClick,"data-fatal-attraction":"container:outro|component:watch_again|keyword:"+clip.id},(0,_i18n.translate)("Watch it again"))}}]);return OutroButtonReplay}(_react2.default.Component);OutroButtonReplay.propTypes={clip:_react2.default.PropTypes.object.isRequired,is_mini:_react2.default.PropTypes.bool};OutroButtonReplay.defaultProps={clip:null,is_mini:false};exports.default=OutroButtonReplay;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(66);var _classnames2=_interopRequireDefault(_classnames);var _Button=__webpack_require__(248);var _Button2=_interopRequireDefault(_Button);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var displayName="Button";var Button=function Button(_ref){var _ref$autoMargins=_ref.autoMargins,autoMargins=_ref$autoMargins===undefined?true:_ref$autoMargins,_ref$autoWidth=_ref.autoWidth,autoWidth=_ref$autoWidth===undefined?"sm":_ref$autoWidth,className=_ref.className,children=_ref.children,_ref$format=_ref.format,format=_ref$format===undefined?"primary":_ref$format,icon=_ref.icon,_ref$iconLocation=_ref.iconLocation,iconLocation=_ref$iconLocation===undefined?"beforeLabel":_ref$iconLocation,_ref$isButtonElement=_ref.isButtonElement,isButtonElement=_ref$isButtonElement===undefined?true:_ref$isButtonElement,_ref$isInline=_ref.isInline,isInline=_ref$isInline===undefined?false:_ref$isInline,_ref$showLabel=_ref.showLabel,showLabel=_ref$showLabel===undefined?true:_ref$showLabel,_ref$size=_ref.size,size=_ref$size===undefined?"md":_ref$size,filteredProps=_objectWithoutProperties(_ref,["autoMargins","autoWidth","className","children","format","icon","iconLocation","isButtonElement","isInline","showLabel","size"]);var componentClass=(0,_classnames2.default)(_Button2.default.Button,_Button2.default[format],_Button2.default[size],autoWidth!=="fluid"?_Button2.default["autoWidth_"+autoWidth]:null,autoMargins?_Button2.default.autoMarginsHorizontal:null,isInline||!autoMargins?null:_Button2.default.autoMarginsVertical,className);var iconClass=(0,_classnames2.default)(_Button2.default.Icon,_Button2.default["Icon_"+iconLocation]);var hasIconBefore=icon&&iconLocation==="beforeLabel";var hasIconAfter=icon&&iconLocation==="afterLabel";var iconElement=_react2.default.createElement("span",{className:iconClass},icon);var ButtonElement=isButtonElement?"button":"span";return _react2.default.createElement(ButtonElement,_extends({},filteredProps,{className:componentClass}),_react2.default.createElement("span",{className:_Button2.default.buttonLabel},hasIconBefore?iconElement:null,children,hasIconAfter?iconElement:null))};Button.displayName=displayName;exports.default=Button},function(module,exports){module.exports={Button:"_3bhlo",autoMarginsVertical:"_1uBvn",buttonLabel:"_2eVY6",autoWidth_xs:"OFdLM",autoMarginsHorizontal:"_1q_xu",autoWidth_sm:"_3lCnN",autoWidth_md:"_7HT9o",autoWidth_lg:"_3JoKg",xs:"_20g-7",sm:"_1IfpM",md:"_3lZJi",lg:"_1VHVY",primary:"_2KjRz",primaryOutline:"_29g0S",primaryTextOnly:"pIEfT",alternative:"_2K5L-",alternativeOutline:"_3QjVV",secondary:"_1lvSa",secondaryOutline:"_1HF4B",secondaryTextOnly:"_3mh68",warning:"G4coK",warningOutline:"wyziT",success:"_2proh",successOutline:"_1Eguq",lightTransparent:"_1No7p",lightTextOnly:"_1giXC",Icon:"v9zng",Icon_beforeLabel:"_2J46T",Icon_afterLabel:"_3zUdv"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _autobindDecorator=__webpack_require__(58);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);var _Button=__webpack_require__(247);var _Button2=_interopRequireDefault(_Button);var _ClipActions=__webpack_require__(8);var _ClipActions2=_interopRequireDefault(_ClipActions);var _i18n=__webpack_require__(37);var _iris_icon_collections_=__webpack_require__(250);var _iris_icon_collections_2=_interopRequireDefault(_iris_icon_collections_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var OutroButtonCollections=(_class=function(_React$Component){_inherits(OutroButtonCollections,_React$Component);function OutroButtonCollections(){_classCallCheck(this,OutroButtonCollections);return _possibleConstructorReturn(this,(OutroButtonCollections.__proto__||Object.getPrototypeOf(OutroButtonCollections)).apply(this,arguments))}_createClass(OutroButtonCollections,[{key:"_handleAddToCollectionsClick",value:function _handleAddToCollectionsClick(e){var _props=this.props,clip=_props.clip,cur_user=_props.cur_user;_ClipActions2.default.pauseCountdownTimer();if(!cur_user){_ClipActions2.default.openLogin();return}_ClipActions2.default.openCollections(clip.id)}},{key:"render",value:function render(){var _props2=this.props,clip=_props2.clip,collections_enabled=_props2.collections_enabled,is_mini=_props2.is_mini;if(is_mini||!collections_enabled){return null}var collections_icon=_react2.default.createElement(_iris_icon_collections_2.default,{className:"iris_ic is--16"});return _react2.default.createElement(_Button2.default,{autoWidth:"xs",className:"outro-action--borderless-button",format:"primaryOutline",icon:collections_icon,onClick:this._handleAddToCollectionsClick,"data-fatal-attraction":"container:outro|component:add_to_collections|keyword:"+clip.id},(0,_i18n.translate)("Add to collections"))}}]);return OutroButtonCollections}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"_handleAddToCollectionsClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleAddToCollectionsClick"),_class.prototype),_class);OutroButtonCollections.propTypes={clip:_react2.default.PropTypes.object.isRequired,cur_user:_react2.default.PropTypes.object,collections_enabled:_react2.default.PropTypes.bool,is_mini:_react2.default.PropTypes.bool};OutroButtonCollections.defaultProps={clip:null,cur_user:null,collections_enabled:false,is_mini:false};exports.default=OutroButtonCollections;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({
displayName:"IrisIconCollections16",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M16 8.5a.982.982 0 0 0-.385-.769l.01-.012-1.652-1.322 1.344-.448-.004-.012A.991.991 0 0 0 16 5a.982.982 0 0 0-.385-.769l.01-.012-5-4-.01.012A.98.98 0 0 0 10 0a.99.99 0 0 0-.313.063L9.684.051l-9 3 .004.012A.99.99 0 0 0 0 4c0 .316.156.586.385.769l-.01.012 1.652 1.322-1.343.448.004.012A.99.99 0 0 0 0 7.5c0 .316.156.586.385.769l-.01.012 1.652 1.322-1.344.448.004.012A.991.991 0 0 0 0 11c0 .316.156.586.385.769l-.01.012 5 4 .01-.012A.98.98 0 0 0 6 16c.111 0 .213-.03.312-.063l.004.012 9-3-.004-.012A.99.99 0 0 0 16 12a.982.982 0 0 0-.385-.769l.01-.012-1.652-1.322 1.344-.448-.004-.012A.991.991 0 0 0 16 8.5zm-9.9 5.939l-4.07-3.255 1.393-.465 1.952 1.562.01-.012A.98.98 0 0 0 6 12.5c.111 0 .213-.03.312-.063l.004.012 5.961-1.987 1.693 1.354-7.87 2.623zm0-3.5L2.03 7.684l1.394-.464 1.952 1.562.01-.012A.98.98 0 0 0 6 9c.111 0 .213-.03.312-.063l.004.012 5.961-1.987 1.693 1.354-7.87 2.623zm0-3.5L2.03 4.184 9.899 1.56l4.07 3.255L6.1 7.439z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _OutroButtonReplay=__webpack_require__(252);var _OutroButtonReplay2=_interopRequireDefault(_OutroButtonReplay);var _OutroButtonCollections=__webpack_require__(253);var _OutroButtonCollections2=_interopRequireDefault(_OutroButtonCollections);var _OutroButtonLike=__webpack_require__(254);var _OutroButtonLike2=_interopRequireDefault(_OutroButtonLike);var _OutroButtonShare=__webpack_require__(255);var _OutroButtonShare2=_interopRequireDefault(_OutroButtonShare);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var OutroButtonsNew=function(_React$Component){_inherits(OutroButtonsNew,_React$Component);function OutroButtonsNew(){_classCallCheck(this,OutroButtonsNew);return _possibleConstructorReturn(this,(OutroButtonsNew.__proto__||Object.getPrototypeOf(OutroButtonsNew)).apply(this,arguments))}_createClass(OutroButtonsNew,[{key:"render",value:function render(){return _react2.default.createElement("div",{className:"outro-actions"},_react2.default.createElement(_OutroButtonReplay2.default,this.props),_react2.default.createElement(_OutroButtonCollections2.default,this.props),_react2.default.createElement(_OutroButtonLike2.default,this.props),_react2.default.createElement(_OutroButtonShare2.default,this.props))}}]);return OutroButtonsNew}(_react2.default.Component);OutroButtonsNew.propTypes={};OutroButtonsNew.defaultProps={};exports.default=OutroButtonsNew;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _autobindDecorator=__webpack_require__(58);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);var _classnames=__webpack_require__(66);var _classnames2=_interopRequireDefault(_classnames);var _ClipActions=__webpack_require__(8);var _ClipActions2=_interopRequireDefault(_ClipActions);var _i18n=__webpack_require__(37);var _iris_icon_replay_=__webpack_require__(235);var _iris_icon_replay_2=_interopRequireDefault(_iris_icon_replay_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var OutroButtonReplay=(_class=function(_React$Component){_inherits(OutroButtonReplay,_React$Component);function OutroButtonReplay(){_classCallCheck(this,OutroButtonReplay);return _possibleConstructorReturn(this,(OutroButtonReplay.__proto__||Object.getPrototypeOf(OutroButtonReplay)).apply(this,arguments))}_createClass(OutroButtonReplay,[{key:"_handleReplayClick",value:function _handleReplayClick(e){e.preventDefault();_ClipActions2.default.replay()}},{key:"render",value:function render(){var _props=this.props,clip=_props.clip,is_playback_complete=_props.is_playback_complete,is_mini=_props.is_mini;if(is_mini&&!is_playback_complete){return null}return _react2.default.createElement("div",{className:"outro-action","data-fatal-attraction":"container:"+(is_mini?"mini_bar":"outro")+"|component:watch_again|keyword:"+clip.id,onClick:this._handleReplayClick},_react2.default.createElement(_iris_icon_replay_2.default,{className:"outro-action__icon iris_ic"}),_react2.default.createElement("div",{className:"outro-action__text"},(0,_i18n.translate)("Replay")))}}]);return OutroButtonReplay}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"_handleReplayClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleReplayClick"),_class.prototype),_class);OutroButtonReplay.propTypes={clip:_react2.default.PropTypes.object.isRequired,is_mini:_react2.default.PropTypes.bool,is_playback_complete:_react2.default.PropTypes.bool};OutroButtonReplay.defaultProps={clip:{},is_mini:false,is_playback_complete:false};exports.default=OutroButtonReplay;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _autobindDecorator=__webpack_require__(58);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);var _classnames=__webpack_require__(66);var _classnames2=_interopRequireDefault(_classnames);var _ClipActions=__webpack_require__(8);var _ClipActions2=_interopRequireDefault(_ClipActions);var _i18n=__webpack_require__(37);var _iris_icon_collections_=__webpack_require__(250);var _iris_icon_collections_2=_interopRequireDefault(_iris_icon_collections_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var OutroButtonCollections=(_class=function(_React$Component){_inherits(OutroButtonCollections,_React$Component);function OutroButtonCollections(){_classCallCheck(this,OutroButtonCollections);return _possibleConstructorReturn(this,(OutroButtonCollections.__proto__||Object.getPrototypeOf(OutroButtonCollections)).apply(this,arguments))}_createClass(OutroButtonCollections,[{key:"_handleAddToCollectionsClick",value:function _handleAddToCollectionsClick(e){var _props=this.props,clip=_props.clip,cur_user=_props.cur_user;_ClipActions2.default.pauseCountdownTimer();if(!cur_user){_ClipActions2.default.openLogin();return}_ClipActions2.default.openCollections(clip.id)}},{key:"render",value:function render(){var _props2=this.props,clip=_props2.clip,cur_user=_props2.cur_user,collections_enabled=_props2.collections_enabled,is_mini=_props2.is_mini;if(!collections_enabled){return null}return _react2.default.createElement("div",{className:"outro-action","data-fatal-attraction":"container:"+(is_mini?"mini_bar":"outro")+"|component:add_to_collections|keyword:"+clip.id,onClick:this._handleAddToCollectionsClick},_react2.default.createElement(_iris_icon_collections_2.default,{className:"outro-action__icon iris_ic"}),_react2.default.createElement("div",{className:"outro-action__text"},(0,_i18n.translate)("Add")))}}]);return OutroButtonCollections}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"_handleAddToCollectionsClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleAddToCollectionsClick"),_class.prototype),_class);OutroButtonCollections.propTypes={clip:_react2.default.PropTypes.object.isRequired,cur_user:_react2.default.PropTypes.object,collections_enabled:_react2.default.PropTypes.bool,is_mini:_react2.default.PropTypes.bool};OutroButtonCollections.defaultProps={clip:null,cur_user:null,collections_enabled:false,is_mini:false};exports.default=OutroButtonCollections;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _autobindDecorator=__webpack_require__(58);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);var _classnames=__webpack_require__(66);var _classnames2=_interopRequireDefault(_classnames);var _ClipActions=__webpack_require__(8);var _ClipActions2=_interopRequireDefault(_ClipActions);var _i18n=__webpack_require__(37);var _iris_icon_unlike_=__webpack_require__(233);var _iris_icon_unlike_2=_interopRequireDefault(_iris_icon_unlike_);var _iris_icon_like_=__webpack_require__(224);var _iris_icon_like_2=_interopRequireDefault(_iris_icon_like_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var OutroButtonLike=(_class=function(_React$Component){_inherits(OutroButtonLike,_React$Component);function OutroButtonLike(props){_classCallCheck(this,OutroButtonLike);var _this=_possibleConstructorReturn(this,(OutroButtonLike.__proto__||Object.getPrototypeOf(OutroButtonLike)).call(this,props));_this.state={is_hovering:false};return _this}_createClass(OutroButtonLike,[{key:"_handleLikeClick",value:function _handleLikeClick(e){var _props=this.props,clip=_props.clip,cur_user=_props.cur_user,is_playback_complete=_props.is_playback_complete;if(!cur_user){_ClipActions2.default.openLogin();return}var is_liked=!clip.is_liked;_ClipActions2.default.likeClip(is_liked,!is_playback_complete,clip.id)}},{key:"_handleMouseEnter",value:function _handleMouseEnter(e){this.setState({is_hovering:true})}},{key:"_handleMouseLeave",value:function _handleMouseLeave(e){this.setState({is_hovering:false})}},{key:"render",value:function render(){var _props2=this.props,clip=_props2.clip,owner=_props2.owner,cur_user=_props2.cur_user,is_mini=_props2.is_mini;var is_hovering=this.state.is_hovering;if(cur_user&&cur_user.id===owner.id){return null}var icon=clip.is_liked&&is_hovering?_react2.default.createElement(_iris_icon_unlike_2.default,{className:"outro-action__icon iris_ic"}):_react2.default.createElement(_iris_icon_like_2.default,{className:"outro-action__icon iris_ic"});var label=(0,_i18n.translate)("Like");if(clip.is_liked){if(is_hovering){label=(0,_i18n.translate)("Unlike")}else{label=(0,_i18n.translate)("Liked")}}return _react2.default.createElement("div",{className:"outro-action","data-fatal-attraction":"container:"+(is_mini?"mini_bar":"outro")+"|component:"+(clip.is_liked?"unlike":"like")+"|keyword:"+clip.id,onClick:this._handleLikeClick,onMouseEnter:this._handleMouseEnter,onMouseLeave:this._handleMouseLeave},icon,_react2.default.createElement("div",{className:"outro-action__text"},label))}}]);return OutroButtonLike}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"_handleLikeClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleLikeClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_handleMouseEnter",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleMouseEnter"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_handleMouseLeave",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleMouseLeave"),_class.prototype),_class);OutroButtonLike.propTypes={clip:_react2.default.PropTypes.object.isRequired,owner:_react2.default.PropTypes.object.isRequired,cur_user:_react2.default.PropTypes.object,is_mini:_react2.default.PropTypes.bool,is_playback_complete:_react2.default.PropTypes.bool};OutroButtonLike.defaultProps={clip:null,owner:null,cur_user:null,is_mini:false,is_playback_complete:false};exports.default=OutroButtonLike;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _autobindDecorator=__webpack_require__(58);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);var _ClipActions=__webpack_require__(8);var _ClipActions2=_interopRequireDefault(_ClipActions);var _i18n=__webpack_require__(37);var _iris_icon_share_=__webpack_require__(245);var _iris_icon_share_2=_interopRequireDefault(_iris_icon_share_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var OutroButtonShare=(_class=function(_React$Component){_inherits(OutroButtonShare,_React$Component);function OutroButtonShare(){_classCallCheck(this,OutroButtonShare);return _possibleConstructorReturn(this,(OutroButtonShare.__proto__||Object.getPrototypeOf(OutroButtonShare)).apply(this,arguments))}_createClass(OutroButtonShare,[{key:"_handleShareClick",value:function _handleShareClick(e){var _props=this.props,clip=_props.clip,is_mini=_props.is_mini;_ClipActions2.default.pauseCountdownTimer();_ClipActions2.default.openShare(clip.id,is_mini?"mini_bar":"outro")}},{key:"render",value:function render(){var _props2=this.props,clip=_props2.clip,share_enabled=_props2.share_enabled,is_mini=_props2.is_mini;if(!share_enabled){return null}return _react2.default.createElement("div",{className:"outro-action","data-fatal-attraction":"container:"+(is_mini?"mini_bar":"outro")+"|component:share|keyword:"+clip.id,onClick:this._handleShareClick},_react2.default.createElement(_iris_icon_share_2.default,{className:"outro-action__icon iris_ic"}),_react2.default.createElement("div",{className:"outro-action__text"},(0,_i18n.translate)("Share")))}}]);return OutroButtonShare}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"_handleShareClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleShareClick"),_class.prototype),_class);OutroButtonShare.propTypes={clip:_react2.default.PropTypes.object.isRequired,share_enabled:_react2.default.PropTypes.bool,is_mini:_react2.default.PropTypes.bool};OutroButtonShare.defaultProps={clip:null,share_enabled:false,is_mini:false};exports.default=OutroButtonShare;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _OutroOnDemandCTA=__webpack_require__(257);var _OutroOnDemandCTA2=_interopRequireDefault(_OutroOnDemandCTA);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_OutroOnDemandCTA2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _OnDemandPurchaseButton=__webpack_require__(258);var _OnDemandPurchaseButton2=_interopRequireDefault(_OnDemandPurchaseButton);var _OutroButtonReplay=__webpack_require__(246);var _OutroButtonReplay2=_interopRequireDefault(_OutroButtonReplay);var _OutroButtonCollections=__webpack_require__(249);var _OutroButtonCollections2=_interopRequireDefault(_OutroButtonCollections);var _constants=__webpack_require__(264);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var OutroOnDemandCTA=function(_React$Component){_inherits(OutroOnDemandCTA,_React$Component);function OutroOnDemandCTA(){_classCallCheck(this,OutroOnDemandCTA);return _possibleConstructorReturn(this,(OutroOnDemandCTA.__proto__||Object.getPrototypeOf(OutroOnDemandCTA)).apply(this,arguments))}_createClass(OutroOnDemandCTA,[{key:"render",value:function render(){var _props=this.props,ondemand=_props.ondemand,is_mini=_props.is_mini;if(ondemand.is_geo_blocked||ondemand.is_coming_soon){return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"outro-buttons"},_react2.default.createElement(_OnDemandPurchaseButton2.default,{className:"vod-btn",format:"primary",size:is_mini?"sm":"lg",ondemand:ondemand,view_title:true})),_react2.default.createElement("p",{className:"outro-secondary_actions"},_react2.default.createElement(_OutroButtonReplay2.default,this.props),_react2.default.createElement(_OutroButtonCollections2.default,this.props)))}return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"outro-buttons"},ondemand.allows_rent?_react2.default.createElement(_OnDemandPurchaseButton2.default,{className:"vod-btn",product_type:_constants.Products.RENT,format:"primary",size:is_mini?"sm":"lg",ondemand:ondemand,"data-fatal-attraction":"container:"+(is_mini?"mini_bar":"outro")+"|component:vod_"+_constants.Products.RENT+"|keyword:"+ondemand.id}):null,ondemand.allows_buy?_react2.default.createElement(_OnDemandPurchaseButton2.default,{className:"vod-btn",product_type:_constants.Products.BUY,format:"primary",size:is_mini?"sm":"lg",ondemand:ondemand,"data-fatal-attraction":"container:"+(is_mini?"mini_bar":"outro")+"|component:vod_"+_constants.Products.BUY+"|keyword:"+ondemand.id}):null,ondemand.allows_subscription?_react2.default.createElement(_OnDemandPurchaseButton2.default,{className:"vod-btn",product_type:_constants.Products.SUBSCRIBE,format:"primary",size:is_mini?"sm":"lg",ondemand:ondemand,"data-fatal-attraction":"container:"+(is_mini?"mini_bar":"outro")+"|component:vod_"+_constants.Products.SUBSCRIBE+"|keyword:"+ondemand.id}):null),_react2.default.createElement("p",{className:"outro-secondary_actions"},_react2.default.createElement(_OutroButtonReplay2.default,this.props),_react2.default.createElement(_OutroButtonCollections2.default,this.props)))}}]);return OutroOnDemandCTA}(_react2.default.Component);OutroOnDemandCTA.propTypes={ondemand:_react2.default.PropTypes.object.isRequired,is_mini:_react2.default.PropTypes.bool.isRequired};exports.default=OutroOnDemandCTA;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(66);var _classnames2=_interopRequireDefault(_classnames);var _products=__webpack_require__(259);var _products2=_interopRequireDefault(_products);var _i18n=__webpack_require__(37);var _iris_icon_rent_=__webpack_require__(260);var _iris_icon_rent_2=_interopRequireDefault(_iris_icon_rent_);var _iris_icon_download_=__webpack_require__(261);var _iris_icon_download_2=_interopRequireDefault(_iris_icon_download_);var _iris_icon_subscribe_=__webpack_require__(262);var _iris_icon_subscribe_2=_interopRequireDefault(_iris_icon_subscribe_);var _iris_icon_vod_=__webpack_require__(263);var _iris_icon_vod_2=_interopRequireDefault(_iris_icon_vod_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var OnDemandPurchaseButton=function(_React$Component){_inherits(OnDemandPurchaseButton,_React$Component);function OnDemandPurchaseButton(){_classCallCheck(this,OnDemandPurchaseButton);return _possibleConstructorReturn(this,(OnDemandPurchaseButton.__proto__||Object.getPrototypeOf(OnDemandPurchaseButton)).apply(this,arguments))}_createClass(OnDemandPurchaseButton,[{key:"render",value:function render(){var _props=this.props,product_type=_props.product_type,ondemand=_props.ondemand,format=_props.format,size=_props.size,view_title=_props.view_title;var btn_size="iris_btn--"+size;var class_list=(0,_classnames2.default)("iris_btn",btn_size,{"iris_btn-outline iris_btn-outline--primary":format==="outline--primary","iris_btn-utility iris_btn-utility--transparent":format==="outline--downplay","iris_btn--primary":format==="primary","iris_btn--secondary":format==="secondary"});var icon_img=void 0,text_label=void 0,purchase_url=void 0;if(view_title){icon_img=_react2.default.createElement(_iris_icon_vod_2.default,{className:"iris_ic is--16"});text_label=(0,_i18n.translate)("View title");purchase_url=ondemand.url}else if(product_type===_products2.default.RENT){icon_img=_react2.default.createElement(_iris_icon_rent_2.default,{className:"iris_ic is--16"});text_label=(0,_i18n.translate)("Rent {DISPLAY_PRICE}",{
DISPLAY_PRICE:ondemand.rent_product.price});purchase_url=ondemand.url+"#rent"}else if(product_type===_products2.default.BUY){icon_img=_react2.default.createElement(_iris_icon_download_2.default,{className:"iris_ic is--16"});text_label=(0,_i18n.translate)("Buy {DISPLAY_PRICE}",{DISPLAY_PRICE:ondemand.buy_product.price});purchase_url=ondemand.url+"#buy"}else if(product_type===_products2.default.SUBSCRIBE){var billing_period=ondemand.subscription_product.billing_period==="month"?"mo":ondemand.subscription_product.billing_period;icon_img=_react2.default.createElement(_iris_icon_subscribe_2.default,{className:"iris_ic is--16"});text_label=(0,_i18n.translate)("Subscribe {DISPLAY_PRICE}/{BILLING_PERIOD}",{DISPLAY_PRICE:ondemand.subscription_product.price,BILLING_PERIOD:billing_period});purchase_url=ondemand.url+"#subscribe"}else{icon_img=_react2.default.createElement(_iris_icon_vod_2.default,{className:"iris_ic is--16"});text_label=(0,_i18n.translate)("Rent {DISPLAY_PRICE}",{DISPLAY_PRICE:ondemand.rent_product.price});purchase_url=ondemand.url+"#purchase"}if(Array.isArray(text_label)){text_label=text_label.join("")}return _react2.default.createElement("a",{className:class_list,href:purchase_url,"data-fatal-attraction":this.props["data-fatal-attraction"]},icon_img,_react2.default.createElement("span",{className:"iris_btn-content"},text_label))}}]);return OnDemandPurchaseButton}(_react2.default.Component);exports.default=OnDemandPurchaseButton;module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Products={RENT:"rent",BUY:"buy",SUBSCRIBE:"subscribe"};exports.default=Products;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconRent16",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M4 6h8v4H4z"}),React.createElement("path",{d:"M16 11V5a3 3 0 0 1-3-3H3a3 3 0 0 1-3 3v6a3 3 0 0 1 3 3h10a3 3 0 0 1 3-3zm-3-1a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v4z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconDownload16",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M16 9.5c0-1.48-.921-2.738-2.219-3.25A3.96 3.96 0 0 0 14 5a4 4 0 0 0-4-4C8.247 1 6.774 2.135 6.233 3.704A2.487 2.487 0 0 0 4.5 3 2.5 2.5 0 0 0 2 5.5c0 .273.055.531.135.776A3.49 3.49 0 0 0 3 12.95V12a2.99 2.99 0 0 1 2-2.816V8a3 3 0 1 1 6 0v1.184A2.99 2.99 0 0 1 13 12v.95a3.49 3.49 0 0 0 3-3.45z"}),React.createElement("path",{d:"M10.707 11.293a.999.999 0 0 0-1.414 0L9 11.586V8a1 1 0 0 0-2 0v3.586l-.293-.293a.999.999 0 1 0-1.414 1.414l2 2a.999.999 0 0 0 1.414 0l2-2a.999.999 0 0 0 0-1.414z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconSubscribe16",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M15 0a1 1 0 0 0-1 1v1.726A8.031 8.031 0 0 0 8 0C3.589 0 0 3.589 0 8s3.589 8 8 8a8.037 8.037 0 0 0 7.222-4.571 1 1 0 0 0-1.807-.859A6.025 6.025 0 0 1 8 14c-3.309 0-6-2.691-6-6s2.691-6 6-6a6.02 6.02 0 0 1 4.46 2H11a1 1 0 0 0 0 2h4a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"}),React.createElement("path",{d:"M6 10.75v-5.5L11.5 8z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconVod16",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M13.906 3.173L9.094.303a2.126 2.126 0 0 0-2.188 0l-4.812 2.87A2.275 2.275 0 0 0 1 5.13v5.74c0 .807.417 1.553 1.094 1.957l4.812 2.87a2.126 2.126 0 0 0 2.188 0l4.812-2.87A2.275 2.275 0 0 0 15 10.87V5.13c0-.807-.417-1.553-1.094-1.957zM6 10.5v-5L11 8l-5 2.5z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PurchaseTypes=exports.ViewingPeriodLabels=exports.PossibleViewingPeriods=exports.MusicCreditFields=exports.Products=exports.RecruiterSorts=exports.PriceEditorViewTypes=exports.PriceTypes=exports.ClipTypes=undefined;var _i18n=__webpack_require__(37);var ClipTypes=exports.ClipTypes={MAIN:"main",EXTRA:"extra",TRAILER:"trailer"};var PriceTypes=exports.PriceTypes={OVERRIDE:"override",FREE:"free",SERIES_ONLY:"series_only"};var PriceEditorViewTypes=exports.PriceEditorViewTypes={SHOW_ALL:"show_all",LIGHTBOX:"lightbox",DEFAULT:"default"};var RecruiterSorts=exports.RecruiterSorts={DATE:"date",ALPHABETICAL:"alphabetical",DURATION:"duration"};var Products=exports.Products={RENT:"rent",BUY:"buy",SUBSCRIBE:"subscribe"};var MusicCreditFields=exports.MusicCreditFields={SONG:"song",ARTIST:"artist",SONGWRITER:"songwriter"};var PossibleViewingPeriods=exports.PossibleViewingPeriods={"24_HOUR":"24 hour","48_HOUR":"48 hour","72_HOUR":"72 hour","1_WEEK":"1 week","30_DAY":"30 day","3_MONTH":"3 month","6_MONTH":"6 month","1_YEAR":"1 year"};var ViewingPeriodLabels=exports.ViewingPeriodLabels={"24 hour":(0,_i18n.translate)("24 hours"),"48 hour":(0,_i18n.translate)("48 hours"),"72 hour":(0,_i18n.translate)("72 hours"),"1 week":(0,_i18n.translate)("1 week"),"30 day":(0,_i18n.translate)("30 days"),"3 month":(0,_i18n.translate)("3 months"),"6 month":(0,_i18n.translate)("6 months"),"1 year":(0,_i18n.translate)("1 year")};var PurchaseTypes=exports.PurchaseTypes={CONTAINER:"container",GROUP:"group",EPISODE:"episode"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _OutroSurvey=__webpack_require__(266);var _OutroSurvey2=_interopRequireDefault(_OutroSurvey);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_OutroSurvey2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(64);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var OutroSurvey=function OutroSurvey(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var href=props.href,onClick=props.onClick;return _react2.default.createElement("p",{className:"outro-message"},(0,_i18n.translate)("How was your viewing experience? "),_react2.default.createElement("a",{className:"iris_link",href:href,target:"_blank",onClick:onClick},(0,_i18n.translate)("Let us know.")))};OutroSurvey.propTypes={href:_react2.default.PropTypes.string.isRequired,onClick:_react2.default.PropTypes.func};OutroSurvey.defaultProps={onClick:_lodash.noop};exports.default=OutroSurvey;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(64);var _classnames=__webpack_require__(66);var _classnames2=_interopRequireDefault(_classnames);var _ClipThumbnail=__webpack_require__(268);var _ClipThumbnail2=_interopRequireDefault(_ClipThumbnail);var _UserByline=__webpack_require__(271);var _UserByline2=_interopRequireDefault(_UserByline);var _UpNextContext=__webpack_require__(277);var _UpNextContext2=_interopRequireDefault(_UpNextContext);var _i18n=__webpack_require__(37);var _iris_icon_play=__webpack_require__(279);var _iris_icon_play2=_interopRequireDefault(_iris_icon_play);var _iris_icon_pause_=__webpack_require__(280);var _iris_icon_pause_2=_interopRequireDefault(_iris_icon_pause_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var CSSTransitionGroup=_react2.default.addons.CSSTransitionGroup;var UpNext=function(_React$Component){_inherits(UpNext,_React$Component);function UpNext(){_classCallCheck(this,UpNext);return _possibleConstructorReturn(this,(UpNext.__proto__||Object.getPrototypeOf(UpNext)).apply(this,arguments))}_createClass(UpNext,[{key:"render",value:function render(){var _props=this.props,clip=_props.clip,continuous_play_enabled=_props.continuous_play_enabled,SubscriptionIconType=_props.SubscriptionIconType,onClick=_props.onClick,onProgressClick=_props.onProgressClick,onProgressMouseDown=_props.onProgressMouseDown,onProgressMouseOver=_props.onProgressMouseOver,onProgressMouseOut=_props.onProgressMouseOut;var duration=clip.duration,owner=clip.owner,title=clip.title,thumbnail=clip.thumbnail,feed_context=clip.feed_context;return _react2.default.createElement(CSSTransitionGroup,{component:"div",transitionAppear:true,transitionName:"upnext-transition",ref:"transition_group"},_react2.default.createElement("div",{className:"upnext-container",onClick:onClick},_react2.default.createElement("h4",{className:"upnext-header"},(0,_i18n.translate)("Up next")),feed_context?_react2.default.createElement(_UpNextContext2.default,{SubscriptionIconType:SubscriptionIconType,feed_context:feed_context}):null,_react2.default.createElement("div",{className:"upnext-content"},_react2.default.createElement(_ClipThumbnail2.default,{className:"upnext-thumbnail",src:thumbnail.src,src_2x:thumbnail.src_2x,width:thumbnail.width,height:thumbnail.height}),_react2.default.createElement("span",{className:"upnext-clip_duration"},duration.formatted),continuous_play_enabled?_react2.default.createElement("button",{ref:"progress_container",type:"button",className:this._getButtonClassNames(),onClick:onProgressClick,onMouseDown:onProgressMouseDown,onMouseOver:onProgressMouseOver,onMouseOut:onProgressMouseOut},_react2.default.createElement(_iris_icon_play2.default,{className:"upnext-icon upnext-icon-play"}),_react2.default.createElement(_iris_icon_pause_2.default,{className:this._getPauseButtonClassNames()}),_react2.default.createElement("div",{className:this._getProgressClassNames(),ref:"progress_wrapper"})):null),_react2.default.createElement("div",{className:"upnext-info"},_react2.default.createElement("span",{className:"upnext-link"},title),_react2.default.createElement(_UserByline2.default,{url:owner.url,display_name:owner.display_name,format:"pullback",ellipsis:"true"}))))}},{key:"_getProgressClassNames",value:function _getProgressClassNames(){var format=this.props.format;return(0,_classnames2.default)("iris_progress-bar",{"iris_progress-bar--mini":format==="mini","iris_progress-bar--outro":format==="outro"})}},{key:"_getButtonClassNames",value:function _getButtonClassNames(){var _props2=this.props,countdown_paused=_props2.countdown_paused,countdown_paused_user=_props2.countdown_paused_user,countdown_paused_mouseout=_props2.countdown_paused_mouseout;return(0,_classnames2.default)("iris_progress-container",{paused:countdown_paused,"paused-forced":countdown_paused_user&&!countdown_paused_mouseout})}},{key:"_getPauseButtonClassNames",value:function _getPauseButtonClassNames(){var countdown_paused=this.props.countdown_paused;return(0,_classnames2.default)("upnext-icon","upnext-icon-pause",{"fade-in-out":countdown_paused,loop:countdown_paused})}}]);return UpNext}(_react2.default.Component);UpNext.propTypes={clip:_react2.default.PropTypes.object.isRequired,format:_react2.default.PropTypes.string,continuous_play_enabled:_react2.default.PropTypes.bool,onClick:_react2.default.PropTypes.func,onProgressClick:_react2.default.PropTypes.func,onProgressMouseDown:_react2.default.PropTypes.func,onProgressMouseOver:_react2.default.PropTypes.func,onProgressMouseOut:_react2.default.PropTypes.func};UpNext.defaultProps={format:"outro",continuous_play_enabled:false,onClick:_lodash.noop,onProgressClick:_lodash.noop,onProgressMouseDown:_lodash.noop,onProgressMouseOver:_lodash.noop,onProgressMouseOut:_lodash.noop};exports.default=UpNext;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _ClipPrivacyTypes=__webpack_require__(269);var _iris_icon_privacy_=__webpack_require__(270);var _iris_icon_privacy_2=_interopRequireDefault(_iris_icon_privacy_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ClipThumbnail=function(_React$Component){_inherits(ClipThumbnail,_React$Component);function ClipThumbnail(){_classCallCheck(this,ClipThumbnail);return _possibleConstructorReturn(this,(ClipThumbnail.__proto__||Object.getPrototypeOf(ClipThumbnail)).apply(this,arguments))}_createClass(ClipThumbnail,[{key:"_shouldShowPrivacyIcon",value:function _shouldShowPrivacyIcon(){var privacy=this.props.privacy;return privacy&&privacy.type!==_ClipPrivacyTypes.ViewPrivacy.ANYONE&&privacy.type!==_ClipPrivacyTypes.ViewPrivacy.PTV}},{key:"render",value:function render(){var _props=this.props,url=_props.url,src=_props.src,src_2x=_props.src_2x,width=_props.width,height=_props.height,className=_props.className,alt=_props.alt,aria_hidden=_props.aria_hidden,privacy=_props.privacy;var thumbnail_image=_react2.default.createElement("img",{src:src,srcSet:src_2x+" 2x",alt:alt,width:width,height:height});if(typeof url!=="string"){return _react2.default.createElement("div",{className:className},this._shouldShowPrivacyIcon()?_react2.default.createElement("div",{className:"iris_chip iris_chip-private",title:privacy.description},_react2.default.createElement(_iris_icon_privacy_2.default,{className:"iris_chip-private-icon"})):null,thumbnail_image)}return _react2.default.createElement("a",{className:className,href:url,"data-fatal-attraction":this.props["data-fatal-attraction"],"aria-hidden":aria_hidden,tabIndex:aria_hidden?-1:0},this._shouldShowPrivacyIcon()?_react2.default.createElement("div",{className:"iris_chip iris_chip-private",title:privacy.description},_react2.default.createElement(_iris_icon_privacy_2.default,{className:"iris_chip-private-icon"})):null,thumbnail_image)}}]);return ClipThumbnail}(_react2.default.Component);ClipThumbnail.propTypes={url:_react2.default.PropTypes.string,src:_react2.default.PropTypes.string.isRequired,src_2x:_react2.default.PropTypes.string.isRequired,width:_react2.default.PropTypes.number,height:_react2.default.PropTypes.number,className:_react2.default.PropTypes.string,privacy:_react2.default.PropTypes.shape({is_public:_react2.default.PropTypes.bool.isRequired,type:_react2.default.PropTypes.string,description:_react2.default.PropTypes.string}),"data-fatal-attraction":_react2.default.PropTypes.string,alt:_react2.default.PropTypes.string,aria_hidden:_react2.default.PropTypes.bool};ClipThumbnail.defaultProps={alt:"",aria_hidden:true};exports.default=ClipThumbnail;module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ViewPrivacy={ANYONE:"anybody",ONLY_ME:"nobody",FOLLOWERS:"contacts",CHOSEN:"users",PASSWORD:"password",UNLISTED:"unlisted",HIDE:"disable",PTV:"ptv",PTVHIDE:"ptvhide"},CommentsPrivacy={ANYONE:"anybody",NOONE:"nobody",FOLLOWERS:"contacts"},EmbedPrivacy={ANYWHERE:"public",NOWHERE:"private",DOMAINS:"whitelist"};exports.ViewPrivacy=ViewPrivacy;exports.CommentsPrivacy=CommentsPrivacy;exports.EmbedPrivacy=EmbedPrivacy},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconPrivacy16",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M13 16H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1z"}),React.createElement("path",{d:"M8 0a4 4 0 0 0-4 4v7h2V4a2 2 0 1 1 4 0v7h2V4a4 4 0 0 0-4-4z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=undefined;var _UserByline=__webpack_require__(272);var _UserByline2=_interopRequireDefault(_UserByline);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_UserByline2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(66);var _classnames2=_interopRequireDefault(_classnames);var _UserLink=__webpack_require__(273);var _UserLink2=_interopRequireDefault(_UserLink);var _omit=__webpack_require__(78);var _omit2=_interopRequireDefault(_omit);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var UserByline=function(_React$Component){_inherits(UserByline,_React$Component);function UserByline(props){_classCallCheck(this,UserByline);return _possibleConstructorReturn(this,(UserByline.__proto__||Object.getPrototypeOf(UserByline)).call(this,props))}_createClass(UserByline,[{key:"render",value:function render(){var _props=this.props,badge=_props.badge,badge_size=_props.badge_size,children=_props.children,display_name=_props.display_name,url=_props.url;return _react2.default.createElement("p",{className:"l-ellipsis"},(0,_i18n.translate)("from {USER_NAME}",{USER_NAME:this._renderUserLink()}),children)}},{key:"_renderUserLink",value:function _renderUserLink(){var _props2=this.props,linkFormat=_props2.linkFormat,size=_props2.size,display_name=_props2.display_name;var user_link_size="sm";if(size==="lg"){user_link_size="md"}var user_link_props=(0,_omit2.default)(this.props,["children","size"]);return _react2.default.createElement(_UserLink2.default,_extends({format:linkFormat,key:"userlink"},user_link_props,{size:user_link_size}))}}]);return UserByline}(_react2.default.Component);exports.default=UserByline;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=undefined;var _UserLink=__webpack_require__(274);var _UserLink2=_interopRequireDefault(_UserLink);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_UserLink2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(66);var _classnames2=_interopRequireDefault(_classnames);var _UserBadge=__webpack_require__(275);var _UserBadge2=_interopRequireDefault(_UserBadge);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var UserLink=function(_React$Component){_inherits(UserLink,_React$Component);function UserLink(props){_classCallCheck(this,UserLink);return _possibleConstructorReturn(this,(UserLink.__proto__||Object.getPrototypeOf(UserLink)).call(this,props))}_createClass(UserLink,[{key:"render",value:function render(){var _classNames;var _props=this.props,badge=_props.badge,badge_size=_props.badge_size,className=_props.className,display_name=_props.display_name,format=_props.format,size=_props.size,url=_props.url,ellipsis=_props.ellipsis,dataFatalAttraction=_props.dataFatalAttraction;if(format===""){format=null}var MaybeUserBadge=null;if(badge){MaybeUserBadge=_react2.default.createElement(_UserBadge2.default,_extends({},badge,{badge_size:badge_size}))}var username_class_list=(0,_classnames2.default)("js-user_link",(_classNames={iris_link:format===null,"iris_link--gray-1 iris_link--loud":format==="header","iris_link iris_link--loud":format==="header--primary"},_defineProperty(_classNames,"iris_link",format==="primary"),_defineProperty(_classNames,"iris_link--gray-2",format==="downplay"),_classNames),{"l-ellipsis":ellipsis==="true"});return _react2.default.createElement("span",null,url?_react2.default.createElement("a",_extends({},dataFatalAttraction,{href:url,className:username_class_list}),display_name):_react2.default.createElement("span",{className:ellipsis?"l-ellipsis":null},display_name),MaybeUserBadge)}}]);return UserLink}(_react2.default.Component);exports.default=UserLink;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=undefined;var _UserBadge=__webpack_require__(276);var _UserBadge2=_interopRequireDefault(_UserBadge);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_UserBadge2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var TYPE_PLUS="plus";var TYPE_PRO="pro";var TYPE_BUSINESS="business";var TYPE_STAFF="staff";var TYPE_ALUM="alum";var TYPE_CURATION="curation";var TYPE_SUPPORT="support";var TYPE_PARTNER="partner";var TYPE_SPONSOR="sponsor";var TYPE_POTUS="potus";var propTypes={linkAttributes:_react2.default.PropTypes.object};var defaultProps={linkAttributes:{}};var UserBadge=function(_React$Component){_inherits(UserBadge,_React$Component);function UserBadge(props){_classCallCheck(this,UserBadge);return _possibleConstructorReturn(this,(UserBadge.__proto__||Object.getPrototypeOf(UserBadge)).call(this,props))}_createClass(UserBadge,[{key:"_getAriaLabelForType",value:function _getAriaLabelForType(type){switch(type){case TYPE_PLUS:return(0,_i18n.translate)("Vimeo Plus user");case TYPE_PRO:return(0,_i18n.translate)("Vimeo Pro user");case TYPE_BUSINESS:return(0,_i18n.translate)("Vimeo Business user");case TYPE_STAFF:return(0,_i18n.translate)("Vimeo staff member");case TYPE_ALUM:return(0,_i18n.translate)("Former Vimeo staff member");case TYPE_CURATION:return(0,_i18n.translate)("Vimeo curation team member");case TYPE_SUPPORT:return(0,_i18n.translate)("Vimeo support specialist");case TYPE_PARTNER:return(0,_i18n.translate)("Vimeo partner");case TYPE_SPONSOR:return(0,_i18n.translate)("Vimeo sponsor");case TYPE_POTUS:return(0,_i18n.translate)("President of the United States");default:return null}}},{key:"render",value:function render(){var _props=this.props,type=_props.type,text=_props.text,alt_text=_props.alt_text,url=_props.url,className=_props.className,badge_size=_props.badge_size,linkAttributes=_props.linkAttributes;var badge_class="iris_badge iris_badge--"+type;var aria_label=this._getAriaLabelForType(type);switch(type){case TYPE_PLUS:return _react2.default.createElement("a",_extends({tabIndex:"-1",
href:url,className:badge_class,title:alt_text,"aria-label":aria_label,"data-fatal-attraction":"container:badge|component:upgrade_link|keyword:plus"},linkAttributes),text);case TYPE_PRO:return _react2.default.createElement("a",_extends({tabIndex:"-1",href:url,className:badge_class,title:alt_text,"aria-label":aria_label,"data-fatal-attraction":"container:badge|component:upgrade_link|keyword:pro"},linkAttributes),text);case TYPE_BUSINESS:return _react2.default.createElement("a",_extends({tabIndex:"-1",href:url,className:badge_class,title:alt_text,"aria-label":aria_label,"data-fatal-attraction":"container:badge|component:upgrade_link|keyword:business"},linkAttributes),text);case TYPE_STAFF:return _react2.default.createElement("a",_extends({tabIndex:"-1",href:url,className:badge_class,title:alt_text,"aria-label":aria_label},linkAttributes),text);case TYPE_ALUM:case TYPE_CURATION:case TYPE_SUPPORT:case TYPE_PARTNER:case TYPE_SPONSOR:return _react2.default.createElement("span",_extends({className:badge_class,title:alt_text?alt_text:"","aria-label":aria_label},linkAttributes),text);case TYPE_POTUS:return _react2.default.createElement("a",_extends({tabIndex:"-1",href:url,className:className,title:alt_text,"aria-label":aria_label},linkAttributes),_react2.default.createElement("abbr",{className:badge_class,title:alt_text},text))}return null}}]);return UserBadge}(_react2.default.Component);UserBadge.propTypes=propTypes;UserBadge.defaultProps=defaultProps;exports.default=UserBadge;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _UpNextContext=__webpack_require__(278);var _UpNextContext2=_interopRequireDefault(_UpNextContext);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_UpNextContext2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var UpNextContext=function UpNextContext(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var SubscriptionIconType=props.SubscriptionIconType,feed_context=props.feed_context;return _react2.default.createElement("div",{className:"upnext-context"},SubscriptionIconType?_react2.default.createElement(SubscriptionIconType,{className:"iris_ic is--16"}):null,_react2.default.createElement("span",{dangerouslySetInnerHTML:{__html:feed_context.story}}))};exports.default=UpNextContext;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconPlay",getDefaultProps:function getDefaultProps(){return{viewBox:"298 388 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M298 404v-16l16 8"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconPause16",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M2 0h4v16H2zM10 0h4v16h-4z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _objectAssign=__webpack_require__(9);var _objectAssign2=_interopRequireDefault(_objectAssign);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var FPS=60;var defaults={duration:10,className:"progress_meter",size:100,stroke:{width:20,color:"#00adef"},onComplete:function onComplete(){}};var Tween=function(){function Tween(){_classCallCheck(this,Tween)}_createClass(Tween,null,[{key:"linear",value:function linear(time,start_offset,change,duration){return change*(time/duration)+start_offset}}]);return Tween}();var IrisProgressRing=function(){function IrisProgressRing(container){var opts=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,IrisProgressRing);this.options=(0,_objectAssign2.default)({},defaults,opts);if(!container){throw new Error("Invalid container element")}var _options=this.options,className=_options.className,size=_options.size,stroke=_options.stroke;var half_size=size/2;this._radius=half_size-stroke.width/2;this._circumference=2*Math.PI*this._radius;this._container=container;this._duration=this.options.duration*FPS;this._element=document.createElementNS("http://www.w3.org/2000/svg","svg");this._element.setAttribute("viewPort","0 0 100 100");this._element.setAttribute("width",size);this._element.setAttribute("height",size);this._element.setAttribute("class",className);this._element.style.transform="rotate(-90deg)";this._container.appendChild(this._element);this._ring=document.createElementNS("http://www.w3.org/2000/svg","circle");this._ring.setAttribute("r",this._radius);this._ring.setAttribute("cx",half_size);this._ring.setAttribute("cy",half_size);this._ring.setAttribute("fill","transparent");this._ring.setAttribute("stroke-dasharray",2*Math.PI*this._radius);this._ring.setAttribute("stroke-dashoffset","0");this._ring.style.strokeWidth=stroke.width;this._ring.style.stroke=stroke.color;this._element.appendChild(this._ring);this.reset()}_createClass(IrisProgressRing,[{key:"_getStrokeDashOffsetForProgress",value:function _getStrokeDashOffsetForProgress(progress){var stroke_offset=(100-progress)/100*this._circumference;return stroke_offset}},{key:"_render",value:function _render(){var stroke_dash_offset=this._getStrokeDashOffsetForProgress(this._progress);this._ring.style.strokeDashoffset=stroke_dash_offset}},{key:"_animate",value:function _animate(){var from=0;var to=100;var change=to-from;if(this._time>this._duration&&this._is_running){this._is_running=false;clearInterval(this._interval);this.options.onComplete()}if(this._is_running){this._time++;this.progress=Tween.linear(this._time,from,change,this._duration)}}},{key:"start",value:function start(){var _this=this;if(this._is_running){return}this._is_running=true;this._interval=setInterval(function(){requestAnimationFrame(_this._animate.bind(_this))},1e3/FPS)}},{key:"pause",value:function pause(){this._is_running=false}},{key:"reset",value:function reset(){clearInterval(this._interval);this._is_running=false;this._time=0;this.progress=0}},{key:"destroy",value:function destroy(){this.reset();this._element.parentNode.removeChild(this._element)}},{key:"progress",set:function set(val){this._progress=Math.max(0,Math.min(100,val));this._render()}},{key:"element",get:function get(){return this._element}}]);return IrisProgressRing}();exports.default=IrisProgressRing;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _ClipPageAreaPagination=__webpack_require__(283);var _ClipPageAreaPagination2=_interopRequireDefault(_ClipPageAreaPagination);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_ClipPageAreaPagination2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(66);var _classnames2=_interopRequireDefault(_classnames);var _lodash=__webpack_require__(64);var _iris_icon_previous_=__webpack_require__(284);var _iris_icon_previous_2=_interopRequireDefault(_iris_icon_previous_);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ClipPageAreaPagination=function(_React$Component){_inherits(ClipPageAreaPagination,_React$Component);function ClipPageAreaPagination(){_classCallCheck(this,ClipPageAreaPagination);return _possibleConstructorReturn(this,(ClipPageAreaPagination.__proto__||Object.getPrototypeOf(ClipPageAreaPagination)).apply(this,arguments))}_createClass(ClipPageAreaPagination,[{key:"render",value:function render(){var _props=this.props,clip=_props.clip,show_video_nav=_props.show_video_nav,is_playback_complete=_props.is_playback_complete,prev_clip=_props.prev_clip,next_clip=_props.next_clip,onPreviousClick=_props.onPreviousClick,onNextClick=_props.onNextClick;var prev_arrow_classes=(0,_classnames2.default)("player_area-browse","js-pagination--left",{hide:!prev_clip});var next_arrow_classes=(0,_classnames2.default)("player_area-browse","player_area-browse--right","js-pagination--right",{hide:!next_clip});return _react2.default.createElement("div",{className:"pagination_holder"},_react2.default.createElement("a",{role:"button",href:prev_clip?"/"+prev_clip.id:null,rel:prev_clip?"prev":null,title:(0,_i18n.translate)("Previous video"),className:prev_arrow_classes,disabled:!prev_clip||!show_video_nav,onClick:onPreviousClick,"data-fatal-attraction":"container:player|component:previous_video|keyword:"+clip.id},_react2.default.createElement(_iris_icon_previous_2.default,null)),_react2.default.createElement("a",{role:"button",href:next_clip?"/"+next_clip.id:null,rel:next_clip?"next":null,title:(0,_i18n.translate)("Next video"),className:next_arrow_classes,disabled:!next_clip||!show_video_nav||is_playback_complete,onClick:onNextClick,"data-fatal-attraction":"container:player|component:next_video|keyword:"+clip.id},_react2.default.createElement(_iris_icon_previous_2.default,null)))}}]);return ClipPageAreaPagination}(_react2.default.Component);ClipPageAreaPagination.propTypes={clip:_react2.default.PropTypes.object.isRequired,show_video_nav:_react2.default.PropTypes.bool,is_playback_complete:_react2.default.PropTypes.bool,is_player_fullscreen:_react2.default.PropTypes.bool,onPreviousClick:_react2.default.PropTypes.func,onNextClick:_react2.default.PropTypes.func};ClipPageAreaPagination.defaultProps={show_video_nav:false,is_playback_complete:false,is_player_fullscreen:false,onPreviousClick:_lodash.noop,onNextClick:_lodash.noop};exports.default=ClipPageAreaPagination;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconPrevious48",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M17.743 24L36.914 4.828a2 2 0 0 0 0-2.828L35.5.586a2 2 0 0 0-2.828 0L11.379 21.879a3 3 0 0 0 0 4.243l21.293 21.293a2 2 0 0 0 2.828 0L36.914 46a2 2 0 0 0 0-2.828L17.743 24z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var UPLOAD=exports.UPLOAD="uploads";var APPEARANCE=exports.APPEARANCE="appears";var LIKE=exports.LIKE="likes";var CHANNEL=exports.CHANNEL="channel";var GROUP=exports.GROUP="group";var TAG=exports.TAG="tagged_with";var FACEBOOK=exports.FACEBOOK="facebook_feed";var TWITTER=exports.TWITTER="twitter_timeline";var ONDEMAND_PUBLISH=exports.ONDEMAND_PUBLISH="ondemand_publish";var SHARE=exports.SHARE="share"},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconFlag12",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M2 0H1a1 1 0 0 0-1 1v10a1 1 0 0 0 2 0V0zM11 2H8V1a1 1 0 0 0-1-1H3v6h3v1a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconUnfullscreen12",getDefaultProps:function getDefaultProps(){return{viewBox:"0 0 12 12",preserveAspectRatio:"xMidYMid",tabindex:"-1"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{className:"fill",d:"M5 5l-.1-4-1 1-2-2L0 1.9l2 2-1 1M7 5l4-.1-1-1 2-2L10.1 0l-2 2-1-1M7 7l.1 4 1-1 2 2 1.9-1.9-2-2 1-1M5 7l-4 .1 1 1-2 2L1.9 12l2-2 1 1"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconTags16",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M15.707 7.293l-4-5A.997.997 0 0 0 11 2H1a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h10a.997.997 0 0 0 .707-.293l4-5a.999.999 0 0 0 0-1.414zM10.5 9.5a1.5 1.5 0 1 1 .001-3.001A1.5 1.5 0 0 1 10.5 9.5z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconUpload16",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M13.781 7.25A3.96 3.96 0 0 0 14 6a4 4 0 0 0-4-4C8.247 2 6.774 3.135 6.233 4.704A2.487 2.487 0 0 0 4.5 4 2.5 2.5 0 0 0 2 6.5c0 .273.055.531.135.776A3.5 3.5 0 0 0 3.5 14H7v-3.586l-.293.293a.999.999 0 1 1-1.414-1.414l2-2a.999.999 0 0 1 1.414 0l2 2a.999.999 0 1 1-1.414 1.414L9 10.414V14h3.5a3.5 3.5 0 0 0 3.5-3.5c0-1.48-.921-2.738-2.219-3.25z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconUser16",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm0 14c-3.308 0-6-2.692-6-6s2.692-6 6-6 6 2.692 6 6-2.692 6-6 6z"}),React.createElement("path",{d:"M5 11s.979 2 3 2c2 0 3-2 3-2H5z"}),React.createElement("circle",{cx:"5",cy:"9",r:"1"}),React.createElement("circle",{cx:"11",cy:"9",r:"1"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _i18n=__webpack_require__(37);var _iris_icon_select_=__webpack_require__(240);var _iris_icon_select_2=_interopRequireDefault(_iris_icon_select_);var _iris_icon_delete_=__webpack_require__(239);var _iris_icon_delete_2=_interopRequireDefault(_iris_icon_delete_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var GroupClipApprovalForm=function(_React$Component){_inherits(GroupClipApprovalForm,_React$Component);function GroupClipApprovalForm(props){_classCallCheck(this,GroupClipApprovalForm);return _possibleConstructorReturn(this,(GroupClipApprovalForm.__proto__||Object.getPrototypeOf(GroupClipApprovalForm)).call(this,props))}_createClass(GroupClipApprovalForm,[{key:"_handleAcceptClick",value:function _handleAcceptClick(e){this.props.onAccepted({group_id:this.props.group_id,clip_id:this.props.clip_id})}},{key:"_handleRejectClick",value:function _handleRejectClick(e){this.props.onRejected({group_id:this.props.group_id,clip_id:this.props.clip_id})}},{key:"render",value:function render(){return _react2.default.createElement("div",{className:"iris_notification iris_notification--upsell iris_notification--no-icon"},_react2.default.createElement("div",{className:"iris_notification-content"},_react2.default.createElement("h5",{className:"iris_notification-header"},(0,_i18n.translate)("Pending submission")),_react2.default.createElement("p",{className:"iris_notification-text"},(0,_i18n.translate)("Would you like to include this video submitted by {USER_NAME} in the {GROUP_NAME} group?",{USER_NAME:this.props.clip_owner_name,GROUP_NAME:this.props.group_name})),_react2.default.createElement("div",{className:"iris_button-group iris_button-group--static"},_react2.default.createElement("button",{type:"button",className:"iris_btn iris_btn--primary",onClick:this._handleAcceptClick.bind(this)},_react2.default.createElement(_iris_icon_select_2.default,{className:"iris_ic is--16"}),_react2.default.createElement("span",{className:"iris_btn-content"},(0,_i18n.translate)("Accept"))),_react2.default.createElement("button",{type:"button",className:"iris_btn iris_btn-outline--primary",onClick:this._handleRejectClick.bind(this)},_react2.default.createElement(_iris_icon_delete_2.default,{className:"iris_ic is--16"}),_react2.default.createElement("span",{className:"iris_btn-content"},(0,_i18n.translate)("Reject"))))))}}]);return GroupClipApprovalForm}(_react2.default.Component);GroupClipApprovalForm.propTypes={clip_id:_react2.default.PropTypes.number.isRequired,group_id:_react2.default.PropTypes.number.isRequired,clip_owner_name:_react2.default.PropTypes.string.isRequired,group_name:_react2.default.PropTypes.string.isRequired,onAccepted:_react2.default.PropTypes.func.isRequired,onRejected:_react2.default.PropTypes.func.isRequired};exports.default=GroupClipApprovalForm;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _objectAssign=__webpack_require__(9);var _objectAssign2=_interopRequireDefault(_objectAssign);var _autobindDecorator=__webpack_require__(58);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);var _classnames=__webpack_require__(66);var _classnames2=_interopRequireDefault(_classnames);var _ContextualClipItems=__webpack_require__(293);var _ContextualClipItems2=_interopRequireDefault(_ContextualClipItems);var _ClipActions=__webpack_require__(8);var _ClipActions2=_interopRequireDefault(_ClipActions);var _ContextualClipsStore=__webpack_require__(34);var _ContextualClipsStore2=_interopRequireDefault(_ContextualClipsStore);var _ContextualClipsShowMoreButton=__webpack_require__(308);var _ContextualClipsShowMoreButton2=_interopRequireDefault(_ContextualClipsShowMoreButton);var _ContinuousPlaySwitch=__webpack_require__(310);var _ContinuousPlaySwitch2=_interopRequireDefault(_ContinuousPlaySwitch);var _Throbber=__webpack_require__(60);var _Throbber2=_interopRequireDefault(_Throbber);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var ContextualClips=(_class=function(_React$Component){_inherits(ContextualClips,_React$Component);function ContextualClips(props){_classCallCheck(this,ContextualClips);var _this=_possibleConstructorReturn(this,(ContextualClips.__proto__||Object.getPrototypeOf(ContextualClips)).call(this,props));_this.state=(0,_objectAssign2.default)({},_ContextualClipsStore2.default.getState());return _this}_createClass(ContextualClips,[{key:"componentDidMount",value:function componentDidMount(){_ContextualClipsStore2.default.addChangeListener(this._handleStoreChange)}},{key:"componentWillUnmount",value:function componentWillUnmount(){_ContextualClipsStore2.default.removeChangeListener(this._handleStoreChange)}},{key:"render",value:function render(){var continuous_play_enabled=this.props.continuous_play_enabled;var _state=this.state,title=_state.title,clips=_state.clips,initial_load=_state.initial_load,current_clip_id=_state.current_clip_id,has_more=_state.has_more,visible_clips=_state.visible_clips;if(initial_load){return _react2.default.createElement("div",{className:"contextclip-throbber"},_react2.default.createElement(_Throbber2.default,null))}if(!visible_clips||!visible_clips.length){return null}var wrapper_class=(0,_classnames2.default)("contextclip-wrapper","iris_grid-sidebar",{iris_fader:has_more});return _react2.default.createElement("div",{className:wrapper_class},_react2.default.createElement("div",{className:"context-clip"},clips&&clips.length>0?_react2.default.createElement("h2",{className:"contextclip-content_title iris_header iris_header--18",dangerouslySetInnerHTML:{__html:title}}):null,!clips||clips.length===0?null:_react2.default.createElement(_ContinuousPlaySwitch2.default,{continuous_play_enabled:continuous_play_enabled,current_clip_id:current_clip_id,onChange:this._handleContinuousPlayChange}),_react2.default.createElement(_ContextualClipItems2.default,_extends({},this.props,{clips:visible_clips,current_clip_id:current_clip_id,didMount:this._fireContextualClipsImpressionLog,contextualClipItemClick:this._contextualClipItemClick})),!clips||clips.length===0||!has_more?null:_react2.default.createElement(_ContextualClipsShowMoreButton2.default,{onClick:this.showMore})))}},{key:"_handleStoreChange",value:function _handleStoreChange(data){this.setState((0,_objectAssign2.default)({},_ContextualClipsStore2.default.getState()))}},{key:"_handleContinuousPlayChange",value:function _handleContinuousPlayChange(e){_ClipActions2.default.toggleContinuousPlay()}},{key:"_contextualClipItemClick",value:function _contextualClipItemClick(clip,e){var did_click_user_link=e.target.classList&&e.target.classList.contains("js-user_link");if(!e.defaultPrevented&&!(e.button===1||e.metaKey||e.ctrlKey)&&!did_click_user_link){e.preventDefault();if(clip.id===this.props.current_clip_id){return}var original_clip_id=_ContextualClipsStore2.default.getOriginalClip();_ClipActions2.default.loadPage(original_clip_id,clip.id,clip.stream_id,clip.stream_pos,false,-1)}}},{key:"_fireContextualClipsImpressionLog",value:function _fireContextualClipsImpressionLog(){var current_clip_id=this.props.current_clip_id;var visible_clips=this.state.visible_clips;var store_state=_ContextualClipsStore2.default.getState();var impression_data=store_state.impression_data;if(impression_data===null){impression_data={cids:[],pcids:[]};visible_clips.forEach(function(clip,i){if(clip.id===current_clip_id){return}impression_data.cids.push(clip.id);if(clip.is_promoted===1){impression_data.pcids.push(clip.id)}})}_ClipActions2.default.logPromoImpression(current_clip_id,impression_data.cids,impression_data.pcids,store_state.stream_type,store_state.stream_id,store_state.request_id)}},{key:"showMore",value:function showMore(){var next_page=this.state.current_page+1;var original_clip_id=this.state.original_clip_id;var clip_id=this.state.current_clip_id;_ClipActions2.default.loadContextualClips(original_clip_id,clip_id,next_page,this.state.stream_id,this.state.stream_pos,this.state.request_id)}}]);return ContextualClips}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"_handleStoreChange",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleStoreChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_handleContinuousPlayChange",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleContinuousPlayChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_contextualClipItemClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_contextualClipItemClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_fireContextualClipsImpressionLog",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_fireContextualClipsImpressionLog"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"showMore",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"showMore"),_class.prototype),_class);ContextualClips.propTypes={continuous_play_enabled:_react2.default.PropTypes.bool.isRequired,ad_config:_react2.default.PropTypes.object,ad_index:_react2.default.PropTypes.number};exports.default=ContextualClips;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(5);
var _react2=_interopRequireDefault(_react);var _autobindDecorator=__webpack_require__(58);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);var _lodash=__webpack_require__(64);var _ContextualClipsStore=__webpack_require__(34);var _ContextualClipsStore2=_interopRequireDefault(_ContextualClipsStore);var _ClipActions=__webpack_require__(8);var _ClipActions2=_interopRequireDefault(_ClipActions);var _reactAddonsCssTransitionGroup=__webpack_require__(294);var _reactAddonsCssTransitionGroup2=_interopRequireDefault(_reactAddonsCssTransitionGroup);var _classnames=__webpack_require__(66);var _classnames2=_interopRequireDefault(_classnames);var _ContextualClipItem=__webpack_require__(295);var _ContextualClipItem2=_interopRequireDefault(_ContextualClipItem);var _DisplayAd=__webpack_require__(306);var _DisplayAd2=_interopRequireDefault(_DisplayAd);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var ContextualClipItems=(_class=function(_React$Component){_inherits(ContextualClipItems,_React$Component);function ContextualClipItems(){_classCallCheck(this,ContextualClipItems);return _possibleConstructorReturn(this,(ContextualClipItems.__proto__||Object.getPrototypeOf(ContextualClipItems)).apply(this,arguments))}_createClass(ContextualClipItems,[{key:"componentDidMount",value:function componentDidMount(){this.props.didMount()}},{key:"_contextualClipItemClick",value:function _contextualClipItemClick(clip,e){var did_click_user_link=e.target.classList&&e.target.classList.contains("js-user_link");if(!e.defaultPrevented&&!(e.button===1||e.metaKey||e.ctrlKey)&&!did_click_user_link){e.preventDefault();if(clip.id===this.props.current_clip_id){return}var original_clip_id=_ContextualClipsStore2.default.getOriginalClip();_ClipActions2.default.loadPage(original_clip_id,clip.id,clip.stream_id,clip.stream_pos,false,-1)}}},{key:"render",value:function render(){var _this2=this;var _props=this.props,current_clip_id=_props.current_clip_id,ad_config=_props.ad_config,ad_index=_props.ad_index,clips=_props.clips,contextualClipItemClick=_props.contextualClipItemClick;var slice_index=ad_config?ad_index:clips.length;var clip_items_class_name=(0,_classnames2.default)("contextclip-items",_defineProperty({},"current_clip-"+current_clip_id,!!current_clip_id));return _react2.default.createElement("div",{className:"contextclip-items-wrapper iris_divider--dark iris_divider-top iris_divider-top--p"},_react2.default.createElement("div",{ref:"clip_items",className:clip_items_class_name},_react2.default.createElement(_reactAddonsCssTransitionGroup2.default,{transitionName:"contextclip-transition",transitionEnterTimeout:200,transitionLeaveTimeout:200},clips.slice(0,slice_index).map(function(clip,i){return _react2.default.createElement(_ContextualClipItem2.default,{key:clip.id,clip:clip,position:i+1,is_playing:clip.id===current_clip_id,onClick:contextualClipItemClick})}),ad_config?_react2.default.createElement("div",{className:"contextclip-ad"},_react2.default.createElement(_DisplayAd2.default,ad_config)):null,ad_config?clips.slice(ad_index,clips.length).map(function(clip,i){return _react2.default.createElement(_ContextualClipItem2.default,{key:clip.id,clip:clip,position:i+ad_index+1,is_playing:clip.id===current_clip_id,onClick:_this2._contextualClipItemClick})}):null)))}}]);return ContextualClipItems}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"_contextualClipItemClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_contextualClipItemClick"),_class.prototype),_class);ContextualClipItems.propTypes={current_clip_id:_react2.default.PropTypes.number.isRequired,clips:_react2.default.PropTypes.array.isRequired,ad_index:_react2.default.PropTypes.number.isRequired,ad_config:_react2.default.PropTypes.object,didMount:_react2.default.PropTypes.func,contextualClipItemClick:_react2.default.PropTypes.func};ContextualClipItems.defaultProps={didMount:_lodash.noop,contextualClipItemClick:_lodash.noop};exports.default=ContextualClipItems;module.exports=exports["default"]},function(module,exports){module.exports=React.addons.CSSTransitionGroup},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _ContextualClipItem=__webpack_require__(296);var _ContextualClipItem2=_interopRequireDefault(_ContextualClipItem);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_ContextualClipItem2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _autobindDecorator=__webpack_require__(58);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);var _classnames=__webpack_require__(66);var _classnames2=_interopRequireDefault(_classnames);var _lodash=__webpack_require__(64);var _ClipPrivacyTypes=__webpack_require__(269);var _ClipThumbnail=__webpack_require__(268);var _ClipThumbnail2=_interopRequireDefault(_ClipThumbnail);var _OnDemandChip=__webpack_require__(297);var _OnDemandChip2=_interopRequireDefault(_OnDemandChip);var _OnDemandContextualClipContent=__webpack_require__(300);var _OnDemandContextualClipContent2=_interopRequireDefault(_OnDemandContextualClipContent);var _ContextualClipContent=__webpack_require__(302);var _ContextualClipContent2=_interopRequireDefault(_ContextualClipContent);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var ContextualClipItem=(_class=function(_React$Component){_inherits(ContextualClipItem,_React$Component);function ContextualClipItem(){_classCallCheck(this,ContextualClipItem);return _possibleConstructorReturn(this,(ContextualClipItem.__proto__||Object.getPrototypeOf(ContextualClipItem)).apply(this,arguments))}_createClass(ContextualClipItem,[{key:"_click",value:function _click(e){this.props.onClick(this.props.clip,e)}},{key:"render",value:function render(){var _props=this.props,clip=_props.clip,is_playing=_props.is_playing,position=_props.position;if(!clip){return null}var thumbnail=clip.thumbnail,stream_type=clip.stream_type,stream_id=clip.stream_id,is_promoted=clip.is_promoted;var class_name=(0,_classnames2.default)("contextclip-item l-clearfix",{is_playing:is_playing});return _react2.default.createElement("article",{className:class_name,key:"contextual_clips_"+clip.id,"data-fatal-attraction":"container:sidebar_videos|component:"+stream_type+"|keyword:"+stream_id+"|position:"+position+"|target:/"+clip.id+"|promoted:"+is_promoted,"data-position":position,onClick:this._click},_react2.default.createElement("div",{className:"contextclip-img iris_g1260-sidebar-col-lft"},!clip.ondemand||clip.privacy.type!==_ClipPrivacyTypes.ViewPrivacy.ANYONE&&clip.privacy.type!==_ClipPrivacyTypes.ViewPrivacy.PTV?null:_react2.default.createElement(_OnDemandChip2.default,{position:"right",icon_size:"16"}),_react2.default.createElement(_ClipThumbnail2.default,{url:"/"+clip.id,src:thumbnail.src,src_2x:thumbnail.src_2x,width:thumbnail.width,height:thumbnail.height,className:"contextclip-img-thumb",privacy:clip.privacy})),_react2.default.createElement("div",{className:"contextclip-content iris_grid-sidebar-col-rtl"},_react2.default.createElement("div",null,clip.ondemand?_react2.default.createElement(_OnDemandContextualClipContent2.default,{clip:clip}):_react2.default.createElement(_ContextualClipContent2.default,{clip:clip}))))}}]);return ContextualClipItem}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"_click",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_click"),_class.prototype),_class);ContextualClipItem.propTypes={clip:_react2.default.PropTypes.object.isRequired,position:_react2.default.PropTypes.number.isRequired,is_playing:_react2.default.PropTypes.bool,onClick:_react2.default.PropTypes.func};ContextualClipItem.defaultProps={is_playing:false,onClick:_lodash.noop};exports.default=ContextualClipItem;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=undefined;var _OnDemandChip=__webpack_require__(298);var _OnDemandChip2=_interopRequireDefault(_OnDemandChip);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_OnDemandChip2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(66);var _classnames2=_interopRequireDefault(_classnames);var _iris_icon_vod_color_=__webpack_require__(299);var _iris_icon_vod_color_2=_interopRequireDefault(_iris_icon_vod_color_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var OnDemandChip=function(_React$Component){_inherits(OnDemandChip,_React$Component);function OnDemandChip(props){_classCallCheck(this,OnDemandChip);return _possibleConstructorReturn(this,(OnDemandChip.__proto__||Object.getPrototypeOf(OnDemandChip)).call(this,props))}_createClass(OnDemandChip,[{key:"render",value:function render(){var position=this.props.position;var format=this.props.format;var class_list=(0,_classnames2.default)({"iris_chip--left":position==="left","iris_chip--right":position==="right","iris_chip--browse":format==="browse"});var chip_classes="iris_chip iris_chip-vod "+this.props.className+" "+class_list;var custom_attributes=this.props.custom_attributes;return _react2.default.createElement("div",_extends({className:chip_classes},custom_attributes),_react2.default.createElement(_iris_icon_vod_color_2.default,{className:"iris_chip-vod-svg"}))}}]);return OnDemandChip}(_react2.default.Component);OnDemandChip.defaultProps={classNames:"",custom_attributes:{}};exports.default=OnDemandChip;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconVodColor16",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M1.8 12.6L6 10.5V.8L2.1 3.2C1.4 3.6 1 4.3 1 5.1v5.7c0 .7.3 1.4.8 1.8z",fill:"#3ec3f1"}),React.createElement("path",{d:"M6 10.5l-4.2 2.1c.1.1.2.2.3.2l4.8 2.9c.7.4 1.5.4 2.2 0l4.8-2.9c.7-.4 1.1-1.2 1.1-2V6l-4 2-5 2.5z",fill:"#20a7e0"}),React.createElement("path",{d:"M13.9 3.2L9.1.3c-.7-.4-1.5-.4-2.2 0L6 .8v4.7L11 8l4 2V5.1c0-.8-.4-1.5-1.1-1.9z",fill:"#247fc0"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _OnDemandContextualClipContent=__webpack_require__(301);var _OnDemandContextualClipContent2=_interopRequireDefault(_OnDemandContextualClipContent);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_OnDemandContextualClipContent2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _UserByline=__webpack_require__(271);var _UserByline2=_interopRequireDefault(_UserByline);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var OnDemandContextualClipContent=function OnDemandContextualClipContent(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var clip=props.clip;return _react2.default.createElement("div",null,_react2.default.createElement("h2",null,_react2.default.createElement("a",{className:"contextclip-header iris_link iris_link--gray-1",href:"/"+clip.id},clip.title)),_react2.default.createElement("div",{className:"contextclip-subline"},_react2.default.createElement(_UserByline2.default,{url:clip.owner.url,display_name:clip.owner.display_name,format:"pullback"})))};OnDemandContextualClipContent.propTypes={clip:_react2.default.PropTypes.object.isRequired};exports.default=OnDemandContextualClipContent;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _ContextualClipContent=__webpack_require__(303);var _ContextualClipContent2=_interopRequireDefault(_ContextualClipContent);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_ContextualClipContent2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _UserByline=__webpack_require__(271);var _UserByline2=_interopRequireDefault(_UserByline);var _SpatialBadge=__webpack_require__(304);var _SpatialBadge2=_interopRequireDefault(_SpatialBadge);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var ContextualClipContent=function ContextualClipContent(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var clip=props.clip;return _react2.default.createElement("div",null,_react2.default.createElement(_SpatialBadge2.default,{isSmall:true,isSpatial:clip.is_spatial}),_react2.default.createElement("h3",{className:"contextclip-header contextclip-header--ellipsis iris_header iris_header--14"},_react2.default.createElement("a",{href:"/"+clip.id,className:"iris_link iris_link--gray-1",title:clip.title},clip.title)),_react2.default.createElement("div",{className:"contextclip-subline"},_react2.default.createElement(_UserByline2.default,{url:clip.owner.url,display_name:clip.owner.display_name,linkFormat:"downplay"})))};ContextualClipContent.propTypes={clip:_react2.default.PropTypes.object.isRequired};exports.default=ContextualClipContent;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=undefined;var _SpatialBadge=__webpack_require__(305);var _SpatialBadge2=_interopRequireDefault(_SpatialBadge);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_SpatialBadge2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(66);var _classnames2=_interopRequireDefault(_classnames);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var SpatialBadge=function SpatialBadge(_ref){var isSpatial=_ref.isSpatial,isSmall=_ref.isSmall;if(!isSpatial){return null}var classes=(0,_classnames2.default)({iris_badge:true,"iris_badge--video_attribute":true,"iris_badge--video_attribute--small":isSmall});return _react2.default.createElement("div",{className:classes},"360")};SpatialBadge.defaultProps={isSpatial:false,isSmall:false};SpatialBadge.propTypes={isSpatial:_react.PropTypes.bool,isSmall:_react.PropTypes.bool};exports.default=SpatialBadge;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=undefined;var _DisplayAd=__webpack_require__(307);var _DisplayAd2=_interopRequireDefault(_DisplayAd);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_DisplayAd2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(6);var _reactDom2=_interopRequireDefault(_reactDom);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ABOVE_THE_FOLD="ATF";var BELOW_THE_FOLD="BTF";var propTypes={network_id:_react2.default.PropTypes.oneOfType([_react2.default.PropTypes.string,_react2.default.PropTypes.number]),unit_name:_react2.default.PropTypes.string,sizes:_react2.default.PropTypes.array,update_correlator:_react2.default.PropTypes.bool,should_refresh:_react2.default.PropTypes.bool};var defaultProps={update_correlator:false};var DisplayAd=function(_React$Component){_inherits(DisplayAd,_React$Component);function DisplayAd(props){_classCallCheck(this,DisplayAd);var _this=_possibleConstructorReturn(this,(DisplayAd.__proto__||Object.getPrototypeOf(DisplayAd)).call(this,props));var random_value=Date.now()+Math.round(Math.random()*1e7);_this._div_id="div-gpt-ad-"+random_value;return _this}_createClass(DisplayAd,[{key:"componentDidMount",value:function componentDidMount(){this._makeAdCall()}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps){var shouldRefresh=!!nextProps.should_refresh&&!this.props.should_refresh;return shouldRefresh&&!isInternetExplorer()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this._refreshAd()}},{key:"render",value:function render(){var div_id=this._div_id;if(_hasEmailQueryParam()){return null}return _react2.default.createElement("div",{className:"l-flex-parent profile__ad empty",role:"complementary"},_react2.default.createElement("div",{id:div_id}))}},{key:"_makeAdCall",value:function _makeAdCall(){var _this2=this;if(_hasEmailQueryParam()){return}var _props=this.props,network_id=_props.network_id,unit_name=_props.unit_name,sizes=_props.sizes,update_correlator=_props.update_correlator;var googletag=window.googletag;var div_id=this._div_id;var is_atf=isAboveFold(_reactDom2.default.findDOMNode(this));var position=is_atf?ABOVE_THE_FOLD:BELOW_THE_FOLD;if(typeof googletag==="undefined"){return}googletag.cmd.push(function(){var slot_name="/"+network_id+"/"+unit_name;_this2.ad_slot=googletag.defineSlot(slot_name,[sizes],div_id);_this2.ad_slot.setTargeting("p",[position]);_this2.ad_slot.addService(googletag.pubads());googletag.pubads().setTargeting("sec",(vimeo.cur_user!==false)+"");googletag.pubads().setTargeting("logged_in",(vimeo.cur_user!==false)+"");googletag.enableServices();if(update_correlator){googletag.pubads().updateCorrelator()}googletag.display(div_id)})}},{key:"_refreshAd",value:function _refreshAd(){if(_hasEmailQueryParam()){return}var googletag=window.googletag;if(typeof googletag!=="undefined"&&typeof googletag.pubads==="function"){googletag.pubads().refresh([this.ad_slot])}}}]);return DisplayAd}(_react2.default.Component);function isAboveFold(element){var y_pos=0;do{y_pos+=element.offsetTop}while(element=element.offsetParent);return y_pos<window.innerHeight}function isInternetExplorer(){return!!navigator.userAgent.match(/Trident/i)}function _hasEmailQueryParam(){var queryParams=window.location.search.substr(1).split("&");for(var i=0;i<queryParams.length;i++){var keyValue=queryParams[i].split("=");if(keyValue[0]==="email"||/\S+@\S+\.\S+/.test(keyValue[1])){return true}}return false}DisplayAd.propTypes=propTypes;DisplayAd.defaultProps=defaultProps;exports.default=DisplayAd;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _ContextualClipsShowMoreButton=__webpack_require__(309);var _ContextualClipsShowMoreButton2=_interopRequireDefault(_ContextualClipsShowMoreButton);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_ContextualClipsShowMoreButton2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(64);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var ContextualClipsShowMoreButton=function ContextualClipsShowMoreButton(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var onClick=props.onClick;return _react2.default.createElement("div",{className:"contextclip__btn-more"},_react2.default.createElement("div",{"data-fatal-attraction":"container:sidebar_videos|component:show_more"},_react2.default.createElement("button",{className:"iris_btn iris_btn-utility iris_btn-utility--transparent",type:"button",onClick:onClick},(0,_i18n.translate)("Show more…"))))};ContextualClipsShowMoreButton.propTypes={onClick:_react2.default.PropTypes.func};ContextualClipsShowMoreButton.defaultProps={onClick:_lodash.noop};exports.default=ContextualClipsShowMoreButton;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _ContinuousPlaySwitch=__webpack_require__(311);var _ContinuousPlaySwitch2=_interopRequireDefault(_ContinuousPlaySwitch);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_ContinuousPlaySwitch2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(64);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ContinuousPlaySwitch=function(_React$Component){_inherits(ContinuousPlaySwitch,_React$Component);function ContinuousPlaySwitch(){_classCallCheck(this,ContinuousPlaySwitch);return _possibleConstructorReturn(this,(ContinuousPlaySwitch.__proto__||Object.getPrototypeOf(ContinuousPlaySwitch)).apply(this,arguments))}_createClass(ContinuousPlaySwitch,[{key:"render",value:function render(){var _props=this.props,continuous_play_enabled=_props.continuous_play_enabled,current_clip_id=_props.current_clip_id,onChange=_props.onChange;return _react2.default.createElement("div",{className:"contextclip-autoplay"},_react2.default.createElement("div",{className:"iris_toggle-container"},_react2.default.createElement("label",{className:"iris_toggle-label",htmlFor:"continuous_play_toggle","data-fatal-attraction":"container:sidebar_videos|component:autoplay_"+(continuous_play_enabled?"disabled":"enabled")+"|keyword:"+current_clip_id},_react2.default.createElement("input",{className:"iris_toggle-checkbox",type:"checkbox",id:"continuous_play_toggle",checked:continuous_play_enabled,onChange:onChange}),_react2.default.createElement("span",{className:"iris_toggle"})),_react2.default.createElement("div",{className:"iris_toggle-text"},_react2.default.createElement("label",{className:"iris_toggle-text-content",htmlFor:"continuous_play_toggle"},(0,_i18n.translate)("Autoplay next video")))))}}]);return ContinuousPlaySwitch}(_react2.default.Component);ContinuousPlaySwitch.propTypes={continuous_play_enabled:_react2.default.PropTypes.bool.isRequired,current_clip_id:_react2.default.PropTypes.number.isRequired,onChange:_react2.default.PropTypes.func};ContinuousPlaySwitch.propTypes={onChange:_lodash.noop};exports.default=ContinuousPlaySwitch;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;
descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _ClipPrivacyTypes=__webpack_require__(269);var _AppDispatcher=__webpack_require__(15);var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _ContentModal=__webpack_require__(313);var _ContentModal2=_interopRequireDefault(_ContentModal);var _AccountTypes=__webpack_require__(69);var _AccountTypes2=_interopRequireDefault(_AccountTypes);var _ClipActionTypes=__webpack_require__(23);var _ClipActionTypes2=_interopRequireDefault(_ClipActionTypes);var _ContentModalTypes=__webpack_require__(25);var _ContentModalTypes2=_interopRequireDefault(_ContentModalTypes);var _ClipActions=__webpack_require__(8);var _ClipActions2=_interopRequireDefault(_ClipActions);var _CollectionsModal=__webpack_require__(315);var _CollectionsModal2=_interopRequireDefault(_CollectionsModal);var _FlagForm=__webpack_require__(323);var _FlagForm2=_interopRequireDefault(_FlagForm);var _MoreInfoPanel=__webpack_require__(326);var _MoreInfoPanel2=_interopRequireDefault(_MoreInfoPanel);var _DownloadPanel=__webpack_require__(328);var _DownloadPanel2=_interopRequireDefault(_DownloadPanel);var _i18n=__webpack_require__(37);var _iris_icon_flag_=__webpack_require__(350);var _iris_icon_flag_2=_interopRequireDefault(_iris_icon_flag_);var _iris_icon_download_=__webpack_require__(351);var _iris_icon_download_2=_interopRequireDefault(_iris_icon_download_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ModalsController=function(_React$Component){_inherits(ModalsController,_React$Component);function ModalsController(props){_classCallCheck(this,ModalsController);var _this=_possibleConstructorReturn(this,(ModalsController.__proto__||Object.getPrototypeOf(ModalsController)).call(this,props));_this.state=_defineProperty({open:true},_ContentModalTypes2.default.DOWNLOAD,{is_defrosting:false});return _this}_createClass(ModalsController,[{key:"componentDidMount",value:function componentDidMount(){this._dispatcher_token=_AppDispatcher2.default.register(this._handleDispatcherAction.bind(this))}},{key:"componentWillUnmount",value:function componentWillUnmount(){_AppDispatcher2.default.unregister(this._dispatcher_token)}},{key:"_showModal",value:function _showModal(modal_ref){this.setState({open:true})}},{key:"_hideModal",value:function _hideModal(modal_ref){this.setState({open:false})}},{key:"_handleDispatcherAction",value:function _handleDispatcherAction(payload){switch(payload.action_type){case _ClipActionTypes2.default.LIGHTBOX_OPEN:if(payload.modal){this._showModal(payload.modal)}break;case _ClipActionTypes2.default.LIGHTBOX_CLOSE:if(payload.modal){this._hideModal(payload.modal)}break;case _ClipActionTypes2.default.DOWNLOAD_DEFROST_REQUESTED:this.setState(_defineProperty({},_ContentModalTypes2.default.DOWNLOAD,_extends({},this.state[_ContentModalTypes2.default.DOWNLOAD],{is_defrosting:payload.is_defrosting})));break}}},{key:"_handleCollectionSubmit",value:function _handleCollectionSubmit(context,value){_ClipActions2.default.createCollection(this.props.clip.id,context,value)}},{key:"_handleCollectionToggle",value:function _handleCollectionToggle(context,collection_id,checked){var action=checked?_ClipActionTypes2.default.COLLECTION_ADD:_ClipActionTypes2.default.COLLECTION_REMOVE;_ClipActions2.default.toggleCollection(this.props.clip.id,context,collection_id,action)}},{key:"_handleOpen",value:function _handleOpen(){this.setState({open:true})}},{key:"_handleClose",value:function _handleClose(){this.setState({open:false})}},{key:"render",value:function render(){var _props=this.props,modal_type=_props.modal_type,clip=_props.clip,collection_adder=_props.collection_adder,cur_user=_props.cur_user,download_config=_props.download_config,owner=_props.owner,tags=_props.tags,cc_license=_props.cc_license,api_app=_props.api_app,thumbnail=_props.thumbnail;switch(modal_type){case _ContentModalTypes2.default.COLLECTION:return _react2.default.createElement(_CollectionsModal2.default,{ref:_ContentModalTypes2.default.COLLECTION,clip:clip,collectionAdder:collection_adder,open:this.state.open,onOpen:this._handleOpen.bind(this),onClose:this._handleClose.bind(this),onToggle:this._handleCollectionToggle.bind(this),onSubmit:this._handleCollectionSubmit.bind(this)});case _ContentModalTypes2.default.DOWNLOAD:var is_owner=cur_user!==null&&cur_user.id===owner.id;var download_header_icon=_react2.default.createElement(_iris_icon_download_2.default,{className:"iris_ic is--24 iris_modal-header-icon"});var download_header_text=(0,_i18n.translate)("Download");return _react2.default.createElement("div",{className:"iris_modal modal-clip--download"},_react2.default.createElement(_ContentModal2.default,{ref:_ContentModalTypes2.default.DOWNLOAD,modalHeader:download_header_text,modalHeaderIcon:download_header_icon,open:this.state.open,onOpen:this._handleOpen.bind(this),onClose:this._handleClose.bind(this)},_react2.default.createElement("div",{className:"iris_modal-content"},_react2.default.createElement(_DownloadPanel2.default,_extends({},download_config,this.state[_ContentModalTypes2.default.DOWNLOAD],{fetchColdSourceFile:_ClipActions2.default.fetchColdSourceFile,clip_id:clip.id,render_upgrade:is_owner&&(cur_user.account_type===_AccountTypes2.default.BASIC||cur_user.account_type==="")})))));case _ContentModalTypes2.default.FLAG:var flag_header_icon=_react2.default.createElement(_iris_icon_flag_2.default,{className:"iris_ic is--24 iris_modal-header-icon"});var flag_header_text=(0,_i18n.translate)("Report this video");return _react2.default.createElement("div",{className:"iris_modal modal-clip--flag"},_react2.default.createElement(_ContentModal2.default,{ref:_ContentModalTypes2.default.FLAG,modalHeader:flag_header_text,modalHeaderIcon:flag_header_icon,open:this.state.open,onOpen:this._handleOpen.bind(this),onClose:this._handleClose.bind(this)},_react2.default.createElement(_FlagForm2.default,{allow_commercial:owner.account_type===_AccountTypes2.default.PRO||owner.account_type===_AccountTypes2.default.BUSINESS,clip_id:clip.id})));case _ContentModalTypes2.default.MORE_INFO:var more_header_text=(0,_i18n.translate)("About");return _react2.default.createElement("div",{className:"iris_modal modal-clip--meta"},_react2.default.createElement(_ContentModal2.default,{ref:_ContentModalTypes2.default.MORE_INFO,modalHeader:more_header_text,modalLayout:"2col-left",open:this.state.open,onOpen:this._handleOpen.bind(this),onClose:this._handleClose.bind(this)},_react2.default.createElement(_MoreInfoPanel2.default,{clip:clip,owner:owner,tags:tags,cc_license:cc_license,api_app:api_app,thumbnail:thumbnail})));case _ContentModalTypes2.default.UNVERIFIED:var unverified_header_text=(0,_i18n.translate)("Verify your acount");return _react2.default.createElement("div",{className:"iris_modal"},_react2.default.createElement(_ContentModal2.default,{ref:_ContentModalTypes2.default.UNVERIFIED,modalHeader:unverified_header_text,open:this.state.open,onOpen:this._handleOpen.bind(this),onClose:this._handleClose.bind(this),modalSize:"sm"},_react2.default.createElement("div",{className:"iris_modal-content",id:"flag_form",role:"dialog","aria-label":(0,_i18n.translate)("User verification")},_react2.default.createElement("p",{style:{paddingBottom:"18px"}},(0,_i18n.translate)("Want to leave a comment? First you’ll need to verify your Vimeo account.")),_react2.default.createElement("section",{className:"iris_modal-actions-rt"},_react2.default.createElement("a",{className:"iris_btn iris_btn--primary",href:"/help/verify_email"},(0,_i18n.translate)("Verify"))))));case _ContentModalTypes2.default.SHARE:default:return null}}}]);return ModalsController}(_react2.default.Component);exports.default=ModalsController;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=undefined;var _ContentModal=__webpack_require__(314);var _ContentModal2=_interopRequireDefault(_ContentModal);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_ContentModal2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(66);var _classnames2=_interopRequireDefault(_classnames);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var update=_react2.default.addons.update;var ContentModal=function(_React$Component){_inherits(ContentModal,_React$Component);function ContentModal(props){_classCallCheck(this,ContentModal);var _this=_possibleConstructorReturn(this,(ContentModal.__proto__||Object.getPrototypeOf(ContentModal)).call(this,props));_this.state={open:_this.props.open||false,content_overflow:false};_this._boundKeyDown=_this._handleKeyDown.bind(_this);return _this}_createClass(ContentModal,[{key:"componentDidMount",value:function componentDidMount(){this._checkModalHeight()}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.state.open){window.removeEventListener("keydown",this._boundKeyDown);window.addEventListener("keydown",this._boundKeyDown)}else{window.removeEventListener("keydown",this._boundKeyDown)}}},{key:"render",value:function render(){var _props=this.props,modalHeader=_props.modalHeader,modalHeaderIcon=_props.modalHeaderIcon,modalLayout=_props.modalLayout,modalSize=_props.modalSize;if(this.props.open!==undefined&&this.props.open!==this.state.open){this.state=update(this.state,{open:{$set:this.props.open}})}if(!this.state.open){return null}var content_overflow=this.state.content_overflow;var modalLayoutClass=(0,_classnames2.default)({"iris_modal-box--2col-lft":modalLayout==="2col-left","iris_modal-box--2col-rt":modalLayout==="2col-right","iris_modal-box--portrait":modalLayout==="portrait"});var modalSizeClass=(0,_classnames2.default)({"iris_modal-box--sm":modalSize==="sm","iris_modal-box--lg":modalSize==="lg","iris_modal-box--collection":modalSize==="collection"});return _react2.default.createElement("div",{className:"iris_modal-wrapper "+(content_overflow?"iris_modal-wrapper--scroll":""),tabIndex:"-1"},_react2.default.createElement("div",{className:"iris_modal-underlay",onClick:this._handleCloseClick.bind(this)}),_react2.default.createElement("div",{className:(this.props.modalContentClass?this.props.modalContentClass:"")+" iris_modal-box "+(modalLayout?modalLayoutClass:"")+" "+(modalSize?modalSizeClass:"")},_react2.default.createElement("h3",{className:"iris_modal-header"},this.props.modalHeaderIcon,this.props.modalHeader,_react2.default.createElement("button",{className:"iris_modal-btn--close",type:"button",onClick:this._handleCloseClick.bind(this),title:(0,_i18n.translate)("Close")},_react2.default.createElement("svg",{className:"iris_icp iris_icp--gray",viewBox:"0 0 16 16"},_react2.default.createElement("path",{className:"iris_icp-path",d:"M10.8 8l4.9-4.9c.4-.4.4-1 0-1.4L14.3.3c-.4-.4-1-.4-1.4 0L8 5.2 3.1.3c-.4-.4-1-.4-1.4 0L.3 1.7c-.4.4-.4 1 0 1.4L5.2 8 .3 12.9c-.4.4-.4 1 0 1.4l1.4 1.4c.4.4 1 .4 1.4 0L8 10.8l4.9 4.9c.4.4 1 .4 1.4 0l1.4-1.4c.4-.4.4-1 0-1.4L10.8 8z"})))),this.props.children))}},{key:"_handleCloseClick",value:function _handleCloseClick(e){e.preventDefault();if(this.props.open!==undefined){if(typeof this.props.onClose==="function"){this.props.onClose()}}else{this.setState({open:false})}}},{key:"_handleKeyDown",value:function _handleKeyDown(e){var ESCAPE_KEY=27;if(e.keyCode===ESCAPE_KEY){this.setState({open:false});if(typeof this.props.onClose==="function"){this.props.onClose()}}}},{key:"_checkModalHeight",value:function _checkModalHeight(){var browserHeight=$(window).height();this.setState({content_overflow:$(".modal-content").height()>browserHeight})}}]);return ContentModal}(_react2.default.Component);exports.default=ContentModal;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _ClipPrivacyTypes=__webpack_require__(269);var _ContentModal=__webpack_require__(313);var _ContentModal2=_interopRequireDefault(_ContentModal);var _CollectionPanel=__webpack_require__(316);var _CollectionPanel2=_interopRequireDefault(_CollectionPanel);var _i18n=__webpack_require__(37);var _iris_icon_collections_=__webpack_require__(250);var _iris_icon_collections_2=_interopRequireDefault(_iris_icon_collections_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var CollectionsModal=function(_React$Component){_inherits(CollectionsModal,_React$Component);function CollectionsModal(){_classCallCheck(this,CollectionsModal);return _possibleConstructorReturn(this,(CollectionsModal.__proto__||Object.getPrototypeOf(CollectionsModal)).apply(this,arguments))}_createClass(CollectionsModal,[{key:"render",value:function render(){var _props=this.props,clip=_props.clip,collectionAdder=_props.collectionAdder;var collection_header_icon=_react2.default.createElement(_iris_icon_collections_2.default,{className:"iris_ic is--24 iris_modal-header-icon"});var collection_header_text=(0,_i18n.translate)("Add to collections");var panel=null;if(clip){panel=_react2.default.createElement(_CollectionPanel2.default,_extends({},collectionAdder,{clip_id:clip.id,is_private:clip.privacy.type!==_ClipPrivacyTypes.ViewPrivacy.ANYONE&&clip.privacy.type!==_ClipPrivacyTypes.ViewPrivacy.PTV,privacy_type:clip.privacy.type,onToggle:this.props.onToggle?this.props.onToggle.bind(this):null,onSubmit:this.props.onSubmit?this.props.onSubmit.bind(this):null}))}else{panel=_react2.default.createElement(_CollectionPanel2.default,_extends({},collectionAdder,{onToggle:this.props.onToggle?this.props.onToggle.bind(this):null,onSubmit:this.props.onSubmit?this.props.onSubmit.bind(this):null}))}return _react2.default.createElement("div",{className:"iris_modal modal-clip--collections"},_react2.default.createElement(_ContentModal2.default,{onClose:this.props.onClose,onOpen:this.props.onOpen,open:this.props.open,modalHeader:collection_header_text,modalHeaderIcon:collection_header_icon,modalSize:"collection"},panel))}}]);return CollectionsModal}(_react2.default.Component);CollectionsModal.propTypes={clip:_react2.default.PropTypes.object,collectionAdder:_react2.default.PropTypes.object,open:_react2.default.PropTypes.bool.isRequired,onOpen:_react2.default.PropTypes.func,onClose:_react2.default.PropTypes.func,onToggle:_react2.default.PropTypes.func,onSubmit:_react2.default.PropTypes.func};CollectionsModal.defaultProps={};exports.default=CollectionsModal;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _CollectionList=__webpack_require__(317);var _CollectionList2=_interopRequireDefault(_CollectionList);var _ClipPrivacyTypes=__webpack_require__(269);var _AdditionalCollections=__webpack_require__(320);var _AdditionalCollections2=_interopRequireDefault(_AdditionalCollections);var _Throbber=__webpack_require__(60);var _Throbber2=_interopRequireDefault(_Throbber);var _i18n=__webpack_require__(37);var _iris_icon_warning=__webpack_require__(319);var _iris_icon_warning2=_interopRequireDefault(_iris_icon_warning);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var nbsp=" ";var privacy_href="https://help.vimeo.com/hc/en-us/articles/224822727-Do-my-privacy-settings-carry-over-to-Channels-Groups-or-Portfolios-";var CollectionPanel=function(_React$Component){_inherits(CollectionPanel,_React$Component);function CollectionPanel(props){_classCallCheck(this,CollectionPanel);var _this=_possibleConstructorReturn(this,(CollectionPanel.__proto__||Object.getPrototypeOf(CollectionPanel)).call(this,props));_this._handleChannelToggle=_this._handleToggle.bind(_this,"channel");_this._handleChannelSubmit=_this._handleSubmit.bind(_this,"channel");_this._handleGroupToggle=_this._handleToggle.bind(_this,"group");_this._handleGroupSubmit=_this._handleSubmit.bind(_this,"group");_this._handleAlbumToggle=_this._handleToggle.bind(_this,"album");_this._handleAlbumSubmit=_this._handleSubmit.bind(_this,"album");return _this}_createClass(CollectionPanel,[{key:"_handleSubmit",value:function _handleSubmit(context,value){this.props.onSubmit(context,value)}},{key:"_handleToggle",value:function _handleToggle(context,collection_id,checked){this.props.onToggle(context,collection_id,checked)}},{key:"_shouldShow",value:function _shouldShow(){var privacy_type=this.props.privacy_type;return privacy_type!==_ClipPrivacyTypes.ViewPrivacy.UNLISTED&&privacy_type!==_ClipPrivacyTypes.ViewPrivacy.HIDE}},{key:"render",value:function render(){var _props=this.props,channels=_props.channels,groups=_props.groups,albums=_props.albums,is_spammer=_props.is_spammer,is_private=_props.is_private,is_private_pro=_props.is_private_pro,clip_id=_props.clip_id,num_additional_collections=_props.num_additional_collections;if(!channels&&!groups&&!albums){return _react2.default.createElement("div",{className:"iris_modal-content",id:"collection_panel"},_react2.default.createElement(_Throbber2.default,null))}var warning=this._shouldShow()?(0,_i18n.translate)("When you add this private video to a collection, the video will be viewable within that album, group, etc."):(0,_i18n.translate)("Due to your privacy settings, this video cannot be added to channels or groups.");return _react2.default.createElement("div",{className:"iris_modal-content",id:"collection_panel"},is_private?_react2.default.createElement("div",{className:"modal_notification--top iris_notification iris_notification--caution"},_react2.default.createElement("div",{className:"iris_notification--caution-icon"},_react2.default.createElement(_iris_icon_warning2.default,{className:"iris_ic is--16"})),warning,_react2.default.createElement("a",{href:privacy_href},nbsp,(0,_i18n.translate)("Learn more"))):null,_react2.default.createElement("div",{className:"iris_panel-wrapper"},this._shouldShow()?_react2.default.createElement("section",{className:"iris_panel"},_react2.default.createElement(_CollectionList2.default,{title:(0,_i18n.translate)("Channels"),collections:channels,is_spammer:is_spammer,is_private_pro:is_private_pro,onToggle:this._handleChannelToggle,onSubmit:this._handleChannelSubmit})):null,this._shouldShow()?_react2.default.createElement("section",{className:"iris_panel"},_react2.default.createElement(_CollectionList2.default,{title:(0,_i18n.translate)("Groups"),collections:groups,is_spammer:is_spammer,is_private_pro:is_private_pro,onToggle:this._handleGroupToggle,onSubmit:this._handleGroupSubmit})):null,_react2.default.createElement("section",{className:"iris_panel"},_react2.default.createElement(_CollectionList2.default,{title:(0,_i18n.translate)("Albums"),collections:albums,onToggle:this._handleAlbumToggle,onSubmit:this._handleAlbumSubmit}))),num_additional_collections?_react2.default.createElement(_AdditionalCollections2.default,{clip_id:clip_id,num_additional_collections:num_additional_collections}):null)}}]);return CollectionPanel}(_react2.default.Component);CollectionPanel.propTypes={clip_id:_react2.default.PropTypes.number,is_private:_react2.default.PropTypes.bool,privacy_type:_react2.default.PropTypes.string,albums:_react2.default.PropTypes.array,channels:_react2.default.PropTypes.array,groups:_react2.default.PropTypes.array,portfolios:_react2.default.PropTypes.array,is_spammer:_react2.default.PropTypes.bool,is_private_pro:_react2.default.PropTypes.bool,is_hide_from_vimeo:_react2.default.PropTypes.bool,num_additional_collections:_react2.default.PropTypes.number,onToggle:_react2.default.PropTypes.func.isRequired,onSubmit:_react2.default.PropTypes.func.isRequired};exports.default=CollectionPanel;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _autobindDecorator=__webpack_require__(58);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);var _CollectionToggle=__webpack_require__(318);var _CollectionToggle2=_interopRequireDefault(_CollectionToggle);var _i18n=__webpack_require__(37);var _iris_icon_more_=__webpack_require__(238);var _iris_icon_more_2=_interopRequireDefault(_iris_icon_more_);var _iris_icon_delete_=__webpack_require__(239);var _iris_icon_delete_2=_interopRequireDefault(_iris_icon_delete_);var _iris_icon_warning=__webpack_require__(319);var _iris_icon_warning2=_interopRequireDefault(_iris_icon_warning);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var CollectionList=(_class=function(_React$Component){_inherits(CollectionList,_React$Component);function CollectionList(props){_classCallCheck(this,CollectionList);var _this=_possibleConstructorReturn(this,(CollectionList.__proto__||Object.getPrototypeOf(CollectionList)).call(this,props));_this.state={create_form_visible:false,create_form_submit_enabled:false};return _this}_createClass(CollectionList,[{key:"_handleAddButtonClick",value:function _handleAddButtonClick(e){e.preventDefault();this.setState({create_form_visible:!this.state.create_form_visible})}},{key:"_handleInputChange",value:function _handleInputChange(){var COLLECTION_NAME_MIN_LENGTH=3;this.setState({create_form_submit_enabled:this.refs.new_collection_input.value.length>=COLLECTION_NAME_MIN_LENGTH})}},{key:"_handleFormReset",value:function _handleFormReset(e){this.setState({create_form_visible:false,create_form_submit_enabled:false})}},{key:"_handleFormSubmit",value:function _handleFormSubmit(e){e.preventDefault();this.setState({create_form_visible:false});this.props.onSubmit(this.refs.new_collection_input.value)}},{key:"_handleToggle",value:function _handleToggle(collection_id,checked){this.props.onToggle(collection_id,checked)}},{key:"render",value:function render(){var _this2=this;var _props=this.props,collections=_props.collections,title=_props.title,is_spammer=_props.is_spammer,is_private_pro=_props.is_private_pro,is_hide_from_vimeo=_props.is_hide_from_vimeo;if(!collections){return null}var warning_message=null;if(is_spammer){warning_message=(0,_i18n.translate)("Your account has been flagged for spam. If you think it was flagged in error, {PLEASE_LET_US_KNOW_LINK}.",{PLEASE_LET_US_KNOW_LINK:_react2.default.createElement("a",{href:"/forums/topic:96677"},_react2.default.createElement("strong",null,(0,_i18n.translate)("please let us know")))})}else if(is_private_pro){warning_message=(0,_i18n.translate)("You cannot create {TITLE} while in Private Mode. If you think it was flagged in error, {PLEASE_LET_US_KNOW_LINK}",{TITLE:title,PLEASE_LET_US_KNOW_LINK:_react2.default.createElement("a",{href:"https://help.vimeo.com/hc/en-us/articles/224980308-Private-Mode-for-your-account"},_react2.default.createElement("strong",null,(0,_i18n.translate)("please let us know")))})}else if(is_hide_from_vimeo){warning_message=(0,_i18n.translate)("This video is hidden from vimeo.com. It cannot be added to {TITLE}",{TITLE:title})}return _react2.default.createElement("section",null,_react2.default.createElement("h4",{className:"iris_panel-header"},title),!is_spammer&&!is_private_pro&&!is_hide_from_vimeo?_react2.default.createElement("button",{className:"iris_panel-btn iris_btn iris_btn-utility iris_btn--sm",type:"button",onClick:this._handleAddButtonClick},_react2.default.createElement(_iris_icon_more_2.default,{className:"iris_ic is--14"})):null,this.state.create_form_visible&&!is_spammer&&!is_private_pro&&!is_hide_from_vimeo?_react2.default.createElement("form",{onSubmit:this._handleFormSubmit,onReset:this._handleFormReset},_react2.default.createElement("div",{className:"iris_fieldset iris_fieldset-addendum",role:"group"},_react2.default.createElement("input",{className:"iris_fieldset-addendum-input iris_form_text iris_form_text--sm",ref:"new_collection_input",type:"text",placeholder:(0,_i18n.translate)("Collection name"),onChange:this._handleInputChange}),_react2.default.createElement("button",{className:"iris_btn iris_btn--secondary",type:"submit",disabled:!this.state.create_form_submit_enabled},(0,_i18n.translate)("Add")),_react2.default.createElement("button",{
className:"iris_fieldset-addendum-delete iris_btn-undertaker iris_btn-undertaker--lg",type:"reset"},_react2.default.createElement(_iris_icon_delete_2.default,{className:"iris_ic is--12"})))):null,_react2.default.createElement("div",{className:"iris_panel__content"},warning_message===null?null:_react2.default.createElement("div",{className:"modal_notification--top iris_notification iris_notification--caution"},_react2.default.createElement("div",{className:"iris_notification--caution-icon"},_react2.default.createElement(_iris_icon_warning2.default,{className:"iris_ic is--16"})),warning_message),collections.map(function(collection,i){return _react2.default.createElement(_CollectionToggle2.default,{key:"collection_toggle_"+collection.id,id:collection.id,label:collection.name,initial_checked_state:collection.checked,disabled:collection.disabled,onToggle:_this2._handleToggle.bind(_this2,collection.id)})})))}}]);return CollectionList}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"_handleAddButtonClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleAddButtonClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_handleInputChange",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleInputChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_handleFormReset",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleFormReset"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_handleFormSubmit",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleFormSubmit"),_class.prototype),_class);CollectionList.propTypes={collections:_react2.default.PropTypes.array.isRequired,title:_react2.default.PropTypes.string.isRequired,is_spammer:_react2.default.PropTypes.bool,is_private_pro:_react2.default.PropTypes.bool,is_hide_from_vimeo:_react2.default.PropTypes.bool,onToggle:_react2.default.PropTypes.func.isRequired,onSubmit:_react2.default.PropTypes.func.isRequired};exports.default=CollectionList;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var CollectionToggle=function(_React$Component){_inherits(CollectionToggle,_React$Component);function CollectionToggle(props){_classCallCheck(this,CollectionToggle);return _possibleConstructorReturn(this,(CollectionToggle.__proto__||Object.getPrototypeOf(CollectionToggle)).call(this,props))}_createClass(CollectionToggle,[{key:"_onChange",value:function _onChange(){var is_checked=this.refs.checkbox.checked;this.props.onToggle(is_checked)}},{key:"render",value:function render(){var _props=this.props,id=_props.id,label=_props.label,disabled=_props.disabled,initial_checked_state=_props.initial_checked_state;return _react2.default.createElement("div",{className:"iris_panels-tri-item l-ellipsis"},_react2.default.createElement("label",{className:"iris_checkbox",htmlFor:id},_react2.default.createElement("input",{ref:"checkbox",className:"iris_checkbox__input",type:"checkbox",id:id,defaultChecked:initial_checked_state,disabled:disabled,onChange:this._onChange.bind(this)}),_react2.default.createElement("span",{className:"iris_checkbox__fill"}),_react2.default.createElement("span",{className:"iris_label iris_label--selector"},label)))}}]);return CollectionToggle}(_react2.default.Component);CollectionToggle.propTypes={id:_react2.default.PropTypes.number.isRequired,label:_react2.default.PropTypes.string.isRequired,initial_checked_state:_react2.default.PropTypes.bool,disabled:_react2.default.PropTypes.bool.isRequired,onToggle:_react2.default.PropTypes.func.isRequired};exports.default=CollectionToggle;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconWarning",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"298 389 16 14"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M313.7 400l-6-10c-.4-.6-1-1-1.7-1s-1.4.4-1.7 1l-6 10c-.2.3-.3.6-.3 1 0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2 0-.4-.1-.7-.3-1zm-6.7 1h-2v-2h2v2zm0-3h-2v-5h2v5z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _AdditionalCollections=__webpack_require__(321);var _AdditionalCollections2=_interopRequireDefault(_AdditionalCollections);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_AdditionalCollections2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _i18n=__webpack_require__(37);var _iris_icon_settings_=__webpack_require__(322);var _iris_icon_settings_2=_interopRequireDefault(_iris_icon_settings_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var inline_style={marginTop:"20",padding:"20px 0 20px 0"};var nbsp=" ";var AdditionalCollections=function AdditionalCollections(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var clip_id=props.clip_id,num_additional_collections=props.num_additional_collections;return _react2.default.createElement("div",{style:inline_style},_react2.default.createElement(_iris_icon_settings_2.default,{className:"iris_ic is--16"}),nbsp,(0,_i18n.translate)("This video is also in {COUNT} other collection.",{COUNT:num_additional_collections},num_additional_collections!==1,{plural:"This video is also in {COUNT} other collections."}).join(""),nbsp,_react2.default.createElement("a",{href:"/"+clip_id+"/settings/addto#other_collections"},(0,_i18n.translate)("Manage collections")))};AdditionalCollections.propTypes={clip_id:_react2.default.PropTypes.number.isRequired,num_additional_collections:_react2.default.PropTypes.number.isRequired};exports.default=AdditionalCollections;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconSettings16",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M15 6.5h-2.254a5.006 5.006 0 0 0-.328-.796l1.593-1.593a.999.999 0 0 0 0-1.414l-.708-.707a.999.999 0 0 0-1.414 0l-1.593 1.593a4.918 4.918 0 0 0-.796-.329V1a1 1 0 0 0-1-1h-1a1 1 0 0 0-1 1v2.254a4.918 4.918 0 0 0-.796.329L4.111 1.99a.999.999 0 0 0-1.414 0l-.707.707a.999.999 0 0 0 0 1.414l1.593 1.593a4.918 4.918 0 0 0-.329.796H1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h2.254c.088.277.196.542.328.796L1.99 11.889a.999.999 0 0 0 0 1.414l.707.707a.999.999 0 0 0 1.414 0l1.593-1.593c.254.132.519.241.796.328V15a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-2.254c.277-.088.542-.196.796-.328l1.593 1.593a.999.999 0 0 0 1.414 0l.707-.707a.999.999 0 0 0 0-1.414l-1.593-1.593c.132-.254.241-.519.328-.796H15a1 1 0 0 0 1-1v-1A1 1 0 0 0 15 6.5zM10 8a2 2 0 1 1-3.999.001A2 2 0 0 1 10 8z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _FlagTypes=__webpack_require__(324);var _FlagTypes2=_interopRequireDefault(_FlagTypes);var _FlagReasons=__webpack_require__(325);var _FlagReasons2=_interopRequireDefault(_FlagReasons);var _ClipActions=__webpack_require__(8);var _ClipActions2=_interopRequireDefault(_ClipActions);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var FlagForm=function(_React$Component){_inherits(FlagForm,_React$Component);function FlagForm(props){_classCallCheck(this,FlagForm);var _this=_possibleConstructorReturn(this,(FlagForm.__proto__||Object.getPrototypeOf(FlagForm)).call(this,props));_this.state={reason:null};return _this}_createClass(FlagForm,[{key:"_handleChange",value:function _handleChange(e){this.setState({reason:e.target.value})}},{key:"_handleSubmit",value:function _handleSubmit(e){e.preventDefault();_ClipActions2.default.flag(this.props.clip_id,this.state.reason)}},{key:"_handleCancel",value:function _handleCancel(e){e.preventDefault();_ClipActions2.default.cancelFlag()}},{key:"render",value:function render(){var _this2=this;var ReasonOptions=[];_FlagReasons2.default.forEach(function(reason,i){var key=reason.type;if(key===_FlagTypes2.default.AD&&_this2.props.allow_commercial===true){return}ReasonOptions.push(_react2.default.createElement("label",{className:"iris_radio",htmlFor:key},_react2.default.createElement("input",{className:"iris_radio__input",type:"radio",id:key,name:"flag_options",defaultValue:key,checked:_this2.state.reason===key,onChange:_this2._handleChange.bind(_this2)}),_react2.default.createElement("span",{className:"iris_radio__fill"}),_react2.default.createElement("div",{className:"iris_label iris_label--selector"},reason.title,_react2.default.createElement("p",{className:"iris_form_group__description"},reason.description))))});return _react2.default.createElement("div",{className:"iris_modal-content",id:"flag_form",role:"dialog","aria-label":(0,_i18n.translate)("Video flagging form")},_react2.default.createElement("form",{onSubmit:this._handleSubmit.bind(this)},_react2.default.createElement("fieldset",{className:"iris_form_group iris_form_group--stacked",role:"radiogroup","aria-labelledby":"flag_form_header","aria-required":true},_react2.default.createElement("h3",{className:"iris_modal-subheader",id:"flag_form_header"},_react2.default.createElement("legend",null,(0,_i18n.translate)("Why are you reporting this video?"))),ReasonOptions),_react2.default.createElement("div",{className:"iris_modal-actions l-clearfix"},_react2.default.createElement("section",{className:"iris_modal-actions-lt iris_modal-actions-opt"},_react2.default.createElement("a",{href:"/help/violations"},(0,_i18n.translate)("Learn about other violations"))),_react2.default.createElement("section",{className:"iris_modal-actions-rt"},_react2.default.createElement("input",{className:"iris_btn iris_btn--negative iris_btn--md",type:"submit",defaultValue:(0,_i18n.translate)("Report this video"),disabled:this.state.reason===null}),_react2.default.createElement("button",{className:"iris_btn iris_btn--downplay",type:"button",onClick:this._handleCancel.bind(this)},(0,_i18n.translate)("Cancel"))))))}}]);return FlagForm}(_react2.default.Component);FlagForm.propTypes={clip_id:_react2.default.PropTypes.number.isRequired,allow_commercial:_react2.default.PropTypes.bool};exports.default=FlagForm;module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var FlagTypes={PORN:"pornographic",HARASSMENT:"harassment",AD:"advertisement",RIPOFF:"ripoff",INCORRECT_RATING:"incorrect rating",SPAM:"spam"};exports.default=FlagTypes;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _FlagTypes=__webpack_require__(324);var _FlagTypes2=_interopRequireDefault(_FlagTypes);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var FlagReasons=[{type:_FlagTypes2.default.PORN,title:(0,_i18n.translate)("XXX-rated"),description:(0,_i18n.translate)("This video contains pornography, advertises a product or service of an erotic nature, or seems primarily focused on sexual stimulation.")},{type:_FlagTypes2.default.HARASSMENT,title:(0,_i18n.translate)("Not playing nice"),description:(0,_i18n.translate)("This video contains harassment, incites hatred, or depicts extreme or real-life violence.")},{type:_FlagTypes2.default.AD,title:(0,_i18n.translate)("Moneymaker"),description:(0,_i18n.translate)("This video is an advertisement, commercial, or is a video that actively sells a product or service.")},{type:_FlagTypes2.default.RIPOFF,title:(0,_i18n.translate)("Uploader did not make this"),description:(0,_i18n.translate)("The person who uploaded this video obviously didn’t make it (it’s a TV show, movie trailer, or ripped from elsewhere the web.)")},{type:_FlagTypes2.default.INCORRECT_RATING,title:(0,_i18n.translate)("Incorrect rating"),description:(0,_i18n.translate)("This video should be marked as “Mature” due to nudity, profanity, violence, or drug/alcohol use.")},{type:_FlagTypes2.default.SPAM,title:(0,_i18n.translate)("Spam"),description:(0,_i18n.translate)("This video is primarily designed to drive traffic to third party sites, use Search Engine Optimization (SEO) to manipulate search rankings, or otherwise deceive or mislead the audience.")}];exports.default=FlagReasons;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _ClipThumbnail=__webpack_require__(268);var _ClipThumbnail2=_interopRequireDefault(_ClipThumbnail);var _CreativeCommonsLicense=__webpack_require__(327);var _CreativeCommonsLicense2=_interopRequireDefault(_CreativeCommonsLicense);var _UserLink=__webpack_require__(273);var _UserLink2=_interopRequireDefault(_UserLink);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var MoreInfoPanel=function(_React$Component){_inherits(MoreInfoPanel,_React$Component);function MoreInfoPanel(){_classCallCheck(this,MoreInfoPanel);return _possibleConstructorReturn(this,(MoreInfoPanel.__proto__||Object.getPrototypeOf(MoreInfoPanel)).apply(this,arguments))}_createClass(MoreInfoPanel,[{key:"render",value:function render(){var _props=this.props,clip=_props.clip,owner=_props.owner,tags=_props.tags,cc_license=_props.cc_license,thumbnail=_props.thumbnail,api_app=_props.api_app;var MaybeUploadAppName=null;if(api_app!==null){MaybeUploadAppName=_react2.default.createElement("a",{className:"iris_modal-content-block",href:api_app.url,rel:"nofollow",target:"_blank"},(0,_i18n.translate)("via {APP_NAME}",{APP_NAME:api_app.name}))}var MaybeTags=null;if(tags&&tags.length){MaybeTags=_react2.default.createElement("ul",{className:"iris_modal-content-block"},tags.map(function(tag,i){return _react2.default.createElement("li",{className:"iris_link-tag",key:"tag_"+i},_react2.default.createElement("a",{href:"/tag:"+tag.replace(" ","+")},_react2.default.createElement("span",{className:"iris_link-tag__hash"},"#"),tag))}))}var MaybeCreativeCommonsLicense=null;if(cc_license&&cc_license!==""){MaybeCreativeCommonsLicense=_react2.default.createElement("div",{className:"iris_modal-content-block"},_react2.default.createElement(_CreativeCommonsLicense2.default,{license:cc_license}))}return _react2.default.createElement("section",{className:"iris_modal-content iris_modal-content--2col-lft",id:"more_info_panel"},_react2.default.createElement(_ClipThumbnail2.default,thumbnail),_react2.default.createElement("div",null,_react2.default.createElement("h3",{className:"iris_modal-content-block"},clip.title),_react2.default.createElement("div",{className:"iris_modal-content-block"},_react2.default.createElement("p",null,(0,_i18n.translate)("Uploaded by {USER}",{USER:_react2.default.createElement(_UserLink2.default,_extends({},owner,{badge:false}))})),_react2.default.createElement("time",{className:"clip-time"},clip.uploaded_on_full),MaybeUploadAppName,MaybeTags),MaybeCreativeCommonsLicense))}}]);return MoreInfoPanel}(_react2.default.Component);MoreInfoPanel.propTypes={clip:_react2.default.PropTypes.object.isRequired,thumbnail:_react2.default.PropTypes.object.isRequired,api_app:_react2.default.PropTypes.object,cc_license:_react2.default.PropTypes.string,owner:_react2.default.PropTypes.object,tags:_react2.default.PropTypes.array};exports.default=MoreInfoPanel;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var CreativeCommonsLicense=function(_React$Component){_inherits(CreativeCommonsLicense,_React$Component);function CreativeCommonsLicense(){_classCallCheck(this,CreativeCommonsLicense);return _possibleConstructorReturn(this,(CreativeCommonsLicense.__proto__||Object.getPrototypeOf(CreativeCommonsLicense)).apply(this,arguments))}_createClass(CreativeCommonsLicense,[{key:"_getDescriptionForLicense",value:function _getDescriptionForLicense(license){var license_map={by:"Attribution",nc:"Non-Commercial",nd:"No Derivatives",sa:"Share-Alike"};var title=license.split("-").map(function(part){return license_map[part]}).join(" • ");var description=void 0;switch(license){case"by":description=(0,_i18n.translate)("This license lets others distribute, remix, tweak, and build upon your work, even commercially, as long as they credit you for the original creation. This is the most accommodating of licenses offered. Recommended for maximum dissemination and use of licensed materials.");break;case"by-sa":description=(0,_i18n.translate)("This license lets others remix, tweak, and build upon your work even for commercial purposes, as long as they credit you and license their new creations under the identical terms. This license is often compared to &ldquo;copyleft&rdquo; free and open source software licenses. All new works based on yours will carry the same license, so any derivatives will also allow commercial use. This is the license used by Wikipedia, and is recommended for materials that would benefit from incorporating content from Wikipedia and similarly licensed projects.");break;case"by-nd":description=(0,_i18n.translate)("This license allows for redistribution, commercial and non-commercial, as long as it is passed along unchanged and in whole, with credit to you.");break;case"by-nc":description=(0,_i18n.translate)("This license lets others remix, tweak, and build upon your work non-commercially, and although their new works must also acknowledge you and be non-commercial, they don’t have to license their derivative works on the same terms.");break;case"by-nc-sa":description=(0,_i18n.translate)("This license lets others remix, tweak, and build upon your work non-commercially, as long as they credit you and license their new creations under the identical terms.");break;case"by-nc-nd":description=(0,_i18n.translate)("This license is the most restrictive of our six main licenses, only allowing others to download your works and share them with others as long as they credit you, but they can’t change them in any way or use them commercially.");break;case"cc0":title=(0,_i18n.translate)("Public Domain Dedication");description=(0,_i18n.translate)("The person who associated a work with this deed has dedicated the work to the public domain by waiving all of his or her rights to the work worldwide under copyright law, including all related and neighboring rights, to the extent allowed by law. You can copy, modify, distribute and perform the work, even for commercial purposes, all without asking permission.");break}return title+"\n\n"+description}},{key:"render",value:function render(){var license=this.props.license;if(!license){return null}var cc_title_styles={display:"none"};return _react2.default.createElement("a",{href:"https://creativecommons.org/licenses/"+license+"/3.0",target:"_blank"},_react2.default.createElement("dl",{className:"cc_list md",title:this._getDescriptionForLicense(license)},_react2.default.createElement("dt",{style:cc_title_styles},(0,_i18n.translate)("Creative Commons License:")),license.split("-").map(function(license_part,i){return _react2.default.createElement("dd",{key:"cc_license_part_"+i,className:""+license_part},_react2.default.createElement("abbr",{className:"cc-icon cc-icon--"+license},_react2.default.createElement("span",null,license_part)))})))}}]);return CreativeCommonsLicense}(_react2.default.Component);CreativeCommonsLicense.propTypes={license:_react2.default.PropTypes.string.isRequired};exports.default=CreativeCommonsLicense;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _autobindDecorator=__webpack_require__(58);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);var _DownloadNotice=__webpack_require__(329);var _DownloadNotice2=_interopRequireDefault(_DownloadNotice);var _ThreeSixtyNotice=__webpack_require__(336);var _ThreeSixtyNotice2=_interopRequireDefault(_ThreeSixtyNotice);var _TextTracks=__webpack_require__(338);var _TextTracks2=_interopRequireDefault(_TextTracks);var _DownloadPanelDownloadButton=__webpack_require__(340);var _DownloadPanelDownloadButton2=_interopRequireDefault(_DownloadPanelDownloadButton);var _DownloadSourceFileRow=__webpack_require__(342);var _DownloadSourceFileRow2=_interopRequireDefault(_DownloadSourceFileRow);var _Throbber=__webpack_require__(60);var _Throbber2=_interopRequireDefault(_Throbber);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var push_down_style={marginTop:"15px"};var tooltip_style={left:"30px"};var DownloadPanel=(_class=function(_React$Component){_inherits(DownloadPanel,_React$Component);function DownloadPanel(props){_classCallCheck(this,DownloadPanel);var _this=_possibleConstructorReturn(this,(DownloadPanel.__proto__||Object.getPrototypeOf(DownloadPanel)).call(this,props));_this.state={cold_storage_visible:false,tooltip_show:false};return _this}_createClass(DownloadPanel,[{key:"_handleIconMouseOver",value:function _handleIconMouseOver(e){this.setState({tooltip_show:true})}},{key:"_handleIconMouseOut",value:function _handleIconMouseOut(e){this.setState({tooltip_show:false})}},{key:"_handleFetchClick",value:function _handleFetchClick(e){e.preventDefault();this.setState({cold_storage_notification_toggled:true})}},{key:"_handleFetchConfirmation",value:function _handleFetchConfirmation(e){e.preventDefault();this.props.fetchColdSourceFile(e.target.getAttribute("href"))}},{key:"_handleColdStorageClose",value:function _handleColdStorageClose(e){e.preventDefault();this.setState({cold_storage_notification_toggled:false})}},{key:"render",value:function render(){var _this2=this;var _props=this.props,clip_id=_props.clip_id,files=_props.files,source_file=_props.source_file,is_spatial=_props.is_spatial,is_owner=_props.is_owner,allow_downloads=_props.allow_downloads,text_tracks=_props.text_tracks,isReview=_props.isReview,is_defrosting=_props.is_defrosting;var _state=this.state,cold_storage_notification_toggled=_state.cold_storage_notification_toggled,tooltip_show=_state.tooltip_show;if(!files){return _react2.default.createElement("div",{id:"download_panel"},_react2.default.createElement(_Throbber2.default,null))}var tooltip_message=(0,_i18n.translate)("This source file has been lovingly stored in our archive.");return _react2.default.createElement("div",{id:"download_panel"},is_owner&&!allow_downloads?_react2.default.createElement(_DownloadNotice2.default,{clip_id:clip_id}):null,is_spatial?_react2.default.createElement(_ThreeSixtyNotice2.default,null):null,_react2.default.createElement("table",{className:"iris_table iris_table-list--cta"},_react2.default.createElement("thead",{className:"iris_table-header"},_react2.default.createElement("tr",null,_react2.default.createElement("th",null,(0,
_i18n.translate)("File")),_react2.default.createElement("th",null,(0,_i18n.translate)("Dimensions")," / ",(0,_i18n.translate)("File Size")),_react2.default.createElement("th",null,(0,_i18n.translate)("Download Link")))),_react2.default.createElement("tbody",{className:"iris_table-list-items"},files.map(function(file,i){return _react2.default.createElement("tr",{className:"iris_table-item",key:"download_"+i},_react2.default.createElement("td",{className:"iris_table-data"},file.public_name),_react2.default.createElement("td",{className:"iris_table-data"},file.width," × ",file.height," / ",file.size),_react2.default.createElement("td",{className:"iris_table-data"},_react2.default.createElement(_DownloadPanelDownloadButton2.default,{file:file,isReview:isReview,fetchFile:_this2._handleFetchClick})))}),source_file?_react2.default.createElement(_DownloadSourceFileRow2.default,{file:source_file,is_defrosting:is_defrosting,isReview:isReview,cold_storage_notification_toggled:cold_storage_notification_toggled,tooltip_show:tooltip_show,tooltip_message:tooltip_message,tooltip_style:tooltip_style,showTooltip:this._handleIconMouseOver,hideTooltip:this._handleIconMouseOut,fetchFile:this._handleFetchClick}):null)),this.props.render_upgrade?_react2.default.createElement("a",{style:push_down_style,className:"iris_notification iris_notification--no-icon iris_notification--notice",href:"/upgrade"},_react2.default.createElement("span",null,(0,_i18n.translate)("Upgrade and we’ll hold on to your original video files."))):null,text_tracks?_react2.default.createElement(_TextTracks2.default,{text_tracks:text_tracks}):null)}}]);return DownloadPanel}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"_handleIconMouseOver",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleIconMouseOver"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_handleIconMouseOut",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleIconMouseOut"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_handleFetchClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleFetchClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_handleFetchConfirmation",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleFetchConfirmation"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_handleColdStorageClose",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleColdStorageClose"),_class.prototype),_class);DownloadPanel.propTypes={allow_downloads:_react2.default.PropTypes.bool,clip_id:_react2.default.PropTypes.number.isRequired,fetchColdSourceFile:_react2.default.PropTypes.func.isRequired,files:_react2.default.PropTypes.array,source_file:_react2.default.PropTypes.object,text_tracks:_react2.default.PropTypes.array,is_owner:_react2.default.PropTypes.bool,is_private:_react2.default.PropTypes.bool,is_defrosting:_react2.default.PropTypes.bool,is_spatial:_react2.default.PropTypes.bool,render_upgrade:_react2.default.PropTypes.bool,isReview:_react2.default.PropTypes.bool};exports.default=DownloadPanel;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _DownloadNotice=__webpack_require__(330);var _DownloadNotice2=_interopRequireDefault(_DownloadNotice);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_DownloadNotice2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _iris_icon_settings_=__webpack_require__(322);var _iris_icon_settings_2=_interopRequireDefault(_iris_icon_settings_);var _IrisNotification=__webpack_require__(331);var _IrisNotification2=_interopRequireDefault(_IrisNotification);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var levels=_IrisNotification.IrisNotificationConstants.levels,modifiers=_IrisNotification.IrisNotificationConstants.modifiers;var DownloadNotice=function DownloadNotice(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var clip_id=props.clip_id;return _react2.default.createElement(_IrisNotification2.default,{level:levels.NOTICE,modifiers:[modifiers.NO_CLOSE,modifiers.NO_ICON]},_react2.default.createElement("span",{className:"iris_notification-text"},(0,_i18n.translate)("Don’t worry! Only you (the creator) can download this video.")),_react2.default.createElement("a",{href:"/"+clip_id+"/settings/privacy"},_react2.default.createElement(_iris_icon_settings_2.default,{className:"iris_notification-icon iris_ic is--16"}),_react2.default.createElement("span",{className:"iris_notification-icon-link"},(0,_i18n.translate)("Settings"))))};DownloadNotice.propTypes={clip_id:_react2.default.PropTypes.number.isRequired};exports.default=DownloadNotice;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IrisNotificationConstants=exports.default=undefined;var _IrisNotification=__webpack_require__(332);Object.defineProperty(exports,"IrisNotificationConstants",{enumerable:true,get:function get(){return _IrisNotification.IrisNotificationConstants}});var _IrisNotification2=_interopRequireDefault(_IrisNotification);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_IrisNotification2.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IrisNotificationConstants=undefined;var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _i18n=__webpack_require__(37);var _iris_icon_close=__webpack_require__(333);var _iris_icon_close2=_interopRequireDefault(_iris_icon_close);var _iris_icon_checkmark=__webpack_require__(334);var _iris_icon_checkmark2=_interopRequireDefault(_iris_icon_checkmark);var _iris_icon_info=__webpack_require__(335);var _iris_icon_info2=_interopRequireDefault(_iris_icon_info);var _iris_icon_warning=__webpack_require__(319);var _iris_icon_warning2=_interopRequireDefault(_iris_icon_warning);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var levels={NOTICE:"notice",SUCCESS:"success",WARNING:"warning",CAUTION:"caution",UPSELL:"upsell"};var modifiers={NO_CLOSE:"no-close",NO_ICON:"no-icon",BLOCKER:"blocker",CENTERED:"centered",DEEPLINK:"deeplink",FULL:"full",SHAKES:"shakes"};function CloseButton(props){var classes="iris_notification-close iris_notification-close--"+props.level;return _react2.default.createElement("button",{className:classes,type:"button",onClick:props.onClick,title:(0,_i18n.translate)("Close")},_react2.default.createElement(_iris_icon_close2.default,{className:"iris_ic is--12"}))}function Icon(props){var Icon=void 0;switch(props.level){case levels.WARNING:case levels.CAUTION:Icon=_iris_icon_warning2.default;break;case levels.SUCCESS:Icon=_iris_icon_checkmark2.default;break;case levels.NOTICE:case levels.UPSELL:Icon=_iris_icon_info2.default;break;default:return}var icon_class="iris_notification--"+props.level+"-icon";var svg_class="iris_ic is--16";return _react2.default.createElement("div",{className:icon_class},_react2.default.createElement(Icon,{className:svg_class}))}function IrisNotification(props){var notification_class="";var icon=_react2.default.createElement(Icon,{level:props.level});var close_button=_react2.default.createElement(CloseButton,{level:props.level,onClick:props.onDismiss});for(var i=0;i<props.modifiers.length;i++){var modifier=props.modifiers[i];notification_class=notification_class+" iris_notification--"+modifier;if(modifier===modifiers.NO_ICON){icon=null}else if(modifier===modifiers.NO_CLOSE){close_button=null}}notification_class=props.className+" iris_notification iris_notification--"+props.level+" "+notification_class;var button_class="iris_notification-close iris_notification-close--"+props.level;return _react2.default.createElement("div",{className:notification_class},icon,props.children,close_button)}IrisNotification.defaultProps={modifiers:[],className:""};IrisNotification.propTypes={children:_react2.default.PropTypes.node.isRequired,level:_react2.default.PropTypes.oneOf(Object.keys(levels).map(function(key){return levels[key]})).isRequired,modifiers:_react2.default.PropTypes.arrayOf(_react2.default.PropTypes.oneOf(Object.keys(modifiers).map(function(key){return modifiers[key]}))),className:_react2.default.PropTypes.string,onDismiss:_react2.default.PropTypes.func};var IrisNotificationConstants=exports.IrisNotificationConstants={levels:levels,modifiers:modifiers};exports.default=IrisNotification},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconClose",getDefaultProps:function getDefaultProps(){return{viewBox:"298 388 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M308.8 396l4.9-4.9c.4-.4.4-1 0-1.4l-1.4-1.4c-.4-.4-1-.4-1.4 0l-4.9 4.9-4.9-4.9c-.4-.4-1-.4-1.4 0l-1.4 1.4c-.4.4-.4 1 0 1.4l4.9 4.9-4.9 4.9c-.4.4-.4 1 0 1.4l1.4 1.4c.4.4 1 .4 1.4 0l4.9-4.9 4.9 4.9c.4.4 1 .4 1.4 0l1.4-1.4c.4-.4.4-1 0-1.4l-4.9-4.9z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconCheckmark",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{fill:"#010101",d:"M5.5 14.061L-.03 8.53l1.06-1.06 4.47 4.469 9.47-9.469 1.06 1.06z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconInfo",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zM7 4h2v2H7V4zm0 3h2v5H7V7z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _ThreeSixtyNotice=__webpack_require__(337);var _ThreeSixtyNotice2=_interopRequireDefault(_ThreeSixtyNotice);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_ThreeSixtyNotice2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _IrisNotification=__webpack_require__(331);var _IrisNotification2=_interopRequireDefault(_IrisNotification);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var levels=_IrisNotification.IrisNotificationConstants.levels,modifiers=_IrisNotification.IrisNotificationConstants.modifiers;var ThreeSixtyNotice=function ThreeSixtyNotice(){var text=(0,_i18n.translateToJSX)("You need a 360 player to watch this download. {A}See our recommendations{/A}.",{A:{type:"a",props:{href:"https://help.vimeo.com/hc/en-us/articles/115001878167#downloading"}},"/A":"</a>"});return _react2.default.createElement(_IrisNotification2.default,{level:levels.NOTICE,modifiers:[modifiers.NO_CLOSE,modifiers.NO_ICON]},_react2.default.createElement("span",{className:"iris_notification-text"},text))};exports.default=ThreeSixtyNotice;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _TextTracks=__webpack_require__(339);var _TextTracks2=_interopRequireDefault(_TextTracks);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_TextTracks2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _i18n=__webpack_require__(37);var _Button=__webpack_require__(77);var _Button2=_interopRequireDefault(_Button);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var TextTracks=function TextTracks(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var text_tracks=props.text_tracks;return _react2.default.createElement("section",{className:"secondary-action"},_react2.default.createElement("span",{className:"secondary-action-text"},(0,_i18n.translate)("Download captions and subtitles")),_react2.default.createElement("div",{className:"iris_menu-wrapper iris_menu-wrapper--inline"},_react2.default.createElement(_Button2.default,{arrow:true,format:"utility--transparent"},(0,_i18n.translate)("Choose file")),_react2.default.createElement("ul",{className:"iris_menu iris_menu--light iris_menu--popover"},text_tracks.map(function(text_track,i){return _react2.default.createElement("li",{className:"iris_menu-item",key:"text_track_"+i},_react2.default.createElement("a",{className:"iris_menu-link iris_link",href:text_track.download_url},text_track.display_name))}))))};TextTracks.propTypes={text_tracks:_react2.default.PropTypes.object.isRequired};exports.default=TextTracks;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _DownloadPanelDownloadButton=__webpack_require__(341);var _DownloadPanelDownloadButton2=_interopRequireDefault(_DownloadPanelDownloadButton);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_DownloadPanelDownloadButton2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(64);var _i18n=__webpack_require__(37);var _Button=__webpack_require__(247);var _Button2=_interopRequireDefault(_Button);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var DownloadPanelDownloadButton=function DownloadPanelDownloadButton(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var file=props.file,isReview=props.isReview,fetchFile=props.fetchFile;if(file.is_cold){return _react2.default.createElement("button",{type:"button",className:"iris_btn iris_btn-outline--downplay iris_btn--sm iris_btn--full",onClick:fetchFile},(0,_i18n.translate)("Fetch"))}var fileName=(0,_lodash.camelCase)(file.public_name);var fatalAttraction="container:"+(isReview?"video_review":"clip")+"|component:modal|keyword:download_"+fileName;return _react2.default.createElement("a",{"data-fatal-attraction":fatalAttraction,href:file.download_url,download:file.download_name},_react2.default.createElement(_Button2.default,{format:"secondary",size:"sm",isButtonElement:false},(0,_i18n.translate)("Download")))};DownloadPanelDownloadButton.propTypes={file:_react2.default.PropTypes.object.isRequired,fetchFile:_react2.default.PropTypes.func.isRequired,isReview:_react2.default.PropTypes.bool};DownloadPanelDownloadButton.defaultProps={isReview:false};exports.default=DownloadPanelDownloadButton;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _DownloadSourceFileRow=__webpack_require__(343);var _DownloadSourceFileRow2=_interopRequireDefault(_DownloadSourceFileRow);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_DownloadSourceFileRow2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(64);var _DownloadPanelDownloadButton=__webpack_require__(340);var _DownloadPanelDownloadButton2=_interopRequireDefault(_DownloadPanelDownloadButton);var _DownloadPanelTooltip=__webpack_require__(344);var _DownloadPanelTooltip2=_interopRequireDefault(_DownloadPanelTooltip);var _ColdStorageNotification=__webpack_require__(346);var _ColdStorageNotification2=_interopRequireDefault(_ColdStorageNotification);var _iris_icon_warning_=__webpack_require__(348);var _iris_icon_warning_2=_interopRequireDefault(_iris_icon_warning_);var _iris_icon_info_=__webpack_require__(349);var _iris_icon_info_2=_interopRequireDefault(_iris_icon_info_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var DownloadSourceFileRow=function DownloadSourceFileRow(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var file=props.file,is_defrosting=props.is_defrosting,isReview=props.isReview,cold_storage_notification_toggled=props.cold_storage_notification_toggled,tooltip_show=props.tooltip_show,tooltip_message=props.tooltip_message,tooltip_style=props.tooltip_style,showTooltip=props.showTooltip,hideTooltip=props.hideTooltip,fetchFile=props.fetchFile;if(file.error){return _react2.default.createElement("tr",{className:"iris_table-item",key:"download_original"},_react2.default.createElement("td",{colSpan:"3",ref:"storage_info",id:"storage-info",className:"iris_table-data iris_table-icon"},_react2.default.createElement("div",{className:"notification notification--warning"},_react2.default.createElement("div",{className:"notification--warning-icon"},_react2.default.createElement(_iris_icon_warning_2.default,{className:"iris_ic is--16"})),_react2.default.createElement("p",{className:"iris_notification-content"},file.error.message))))}if(cold_storage_notification_toggled){return _react2.default.createElement(_ColdStorageNotification2.default,{key:"download_original",file:file,is_defrosting:is_defrosting})}return _react2.default.createElement("tr",{className:"iris_table-item",key:"download_original"},_react2.default.createElement("td",{id:"storage-info",className:"iris_table-data iris_table-icon"},file.public_name,file.is_cold?_react2.default.createElement("span",{className:"iris-ic-coldstorage tooltip",title:tooltip_message,onMouseOver:showTooltip,onMouseOut:hideTooltip},_react2.default.createElement(_iris_icon_info_2.default,{className:"iris_ic is--16"})):null,_react2.default.createElement("div",null,tooltip_show?_react2.default.createElement(_DownloadPanelTooltip2.default,{style:tooltip_style,message:tooltip_message}):null)),_react2.default.createElement("td",{className:"iris_table-data"},file.width," × ",file.height," / ",file.size),_react2.default.createElement("td",{className:"iris_table-data"},_react2.default.createElement(_DownloadPanelDownloadButton2.default,{file:file,isReview:isReview,fetchFile:fetchFile})))};DownloadSourceFileRow.propTypes={file:_react2.default.PropTypes.object.isRequired,is_defrosting:_react2.default.PropTypes.bool,isReview:_react2.default.PropTypes.bool,cold_storage_notification_toggled:_react2.default.PropTypes.bool,tooltip_show:_react2.default.PropTypes.bool,tooltip_message:_react2.default.PropTypes.string,tooltip_style:_react2.default.PropTypes.object,showTooltip:_react2.default.PropTypes.func,hideTooltip:_react2.default.PropTypes.func,fetchFile:_react2.default.PropTypes.func};DownloadSourceFileRow.defaultProps={is_defrosting:false,isReview:false,cold_storage_notification_toggled:false,tooltip_show:false,tooltip_message:"",tooltip_style:{},showTooltip:_lodash.noop,hideTooltip:_lodash.noop,fetchFile:_lodash.noop};exports.default=DownloadSourceFileRow;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _DownloadPanelTooltip=__webpack_require__(345);var _DownloadPanelTooltip2=_interopRequireDefault(_DownloadPanelTooltip);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_DownloadPanelTooltip2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var DownloadPanelTooltip=function DownloadPanelTooltip(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var style=props.style,message=props.message;return _react2.default.createElement("span",{style:style,className:"iris_tooltip"},message)};DownloadPanelTooltip.propTypes={style:_react2.default.PropTypes.object,message:_react2.default.PropTypes.string};DownloadPanelTooltip.defaultProps={style:{},message:""};exports.default=DownloadPanelTooltip;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _ColdStorageNotification=__webpack_require__(347);var _ColdStorageNotification2=_interopRequireDefault(_ColdStorageNotification);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_ColdStorageNotification2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var warning_td_style={borderBottom:"1px solid #ebeef1"};var warning_wrapper_style={margin:"10px 0"};var ColdStorageNotification=function ColdStorageNotification(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var _props=undefined.props,file=_props.file,is_defrosting=_props.is_defrosting;return _react2.default.createElement("tr",null,_react2.default.createElement("td",{style:warning_td_style,colSpan:"3"},is_defrosting?_react2.default.createElement("div",{style:warning_wrapper_style,className:"iris_notification iris_notification--success"},_react2.default.createElement("div",{className:"iris_notification--success-icon"},_react2.default.createElement(WarningIcon,{className:"iris_ic is--16"})),_react2.default.createElement("div",{className:"iris_notification-content-wrapper"},(0,_i18n.translate)("We’re on it! Please check back later, as it could take a few hours.")),_react2.default.createElement("button",{className:"iris_notification-close iris_notification-close--success iris_notification-close--top",type:"button",onClick:undefined._handleColdStorageClose},_react2.default.createElement(CloseIcon,{className:"iris_ic is--12"}))):_react2.default.createElement("div",{style:warning_wrapper_style,className:"iris_notification iris_notification--warning"},_react2.default.createElement("div",{className:"iris_notification--warning-icon"},_react2.default.createElement(WarningIcon,{className:"iris_ic is--16"})),_react2.default.createElement("div",{className:"iris_notification-content-wrapper"},_react2.default.createElement("h5",{className:"iris_notification-header"},(0,_i18n.translate)("Original file is in the archive")),_react2.default.createElement("p",{className:"iris_notification-text"},(0,_i18n.translate)("Source files not accessed for 30 days are automatically stored in our secret underground storage archive. As such, it may take a few hours to retrieve the file. Still want the original source file?")),_react2.default.createElement("a",{role:"button",className:"iris_notification-btn iris_btn iris_btn--yellow iris_btn--sm",href:file.download_url,onClick:undefined._handleFetchConfirmation},(0,_i18n.translate)("Yes, fetch original file"))),_react2.default.createElement("button",{className:"iris_notification-close iris_notification-close--warning iris_notification-close--top",type:"button",onClick:undefined._handleColdStorageClose},_react2.default.createElement(CloseIcon,{className:"iris_ic is--12"})))))};ColdStorageNotification.propTypes={file:_react2.default.PropTypes.object.isRequired,is_defrosting:_react2.default.PropTypes.bool};ColdStorageNotification.defaultProps={is_defrosting:false};exports.default=ColdStorageNotification;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconWarning16",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M15.712 11.98l.004-.008-6-10h-.008C9.358 1.392 8.727 1 8 1s-1.358.392-1.708.972h-.008l-6 10 .004.008C.109 12.28 0 12.626 0 13a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2c0-.374-.109-.72-.288-1.02zM9 13H7v-2h2v2zm0-3H7V5h2v5z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconInfo16",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zM7 4h2v2H7V4zm0 3h2v5H7V7z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconFlag16",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M2 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 2 0V0zM15 2h-4V1a1 1 0 0 0-1-1H4v9h5v1a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconDownload24",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M20.921 9.498A6.37 6.37 0 0 0 21 8.545C21 4.93 17.978 2 14.25 2c-2.701 0-5.024 1.542-6.103 3.764a3.428 3.428 0 0 0-1.772-.491C4.511 5.273 3 6.738 3 8.545c0 .324.05.636.141.931C1.32 10.035 0 11.686 0 13.636 0 16.046 2.015 18 4.5 18H6a3 3 0 0 1 3-3v-3a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v3a3 3 0 0 1 3 3h1.5c2.485 0 4.5-1.954 4.5-4.364 0-1.928-1.291-3.561-3.079-4.138z"}),React.createElement("path",{d:"M15.854 17.646l-.707-.707a.5.5 0 0 0-.707 0L13 18.379V12.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v5.879L9.561 16.94a.5.5 0 0 0-.707 0l-.707.707a.5.5 0 0 0 0 .707l3.5 3.5a.5.5 0 0 0 .707 0l3.5-3.5a.502.502 0 0 0 0-.708z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var BASIC_UPLOADER_APP=exports.BASIC_UPLOADER_APP=0;var ADVANCED_UPLOADER_APP=exports.ADVANCED_UPLOADER_APP=2;var GCS_RESUMABLE_UPLOADER_APP=exports.GCS_RESUMABLE_UPLOADER_APP=3;var DROPBOX_APP=exports.DROPBOX_APP=20166;var XBOX_APP=exports.XBOX_APP=21026;var IPHONE_APP=exports.IPHONE_APP=29391;var IOS_SYSTEM=exports.IOS_SYSTEM=28400;var OLD_IPHONE_APP=exports.OLD_IPHONE_APP=4892;var WINDOWS_8_APP=exports.WINDOWS_8_APP=15446;var WIN_PHONE=exports.WIN_PHONE=12696;var OSX_PUSH_APP=exports.OSX_PUSH_APP=30388;var CAMEO_APP=exports.CAMEO_APP=37318;var CAMEO_V2_APP=exports.CAMEO_V2_APP=52229;var ORGANIZER_APP=exports.ORGANIZER_APP=35749;var APPLETV_APP=exports.APPLETV_APP=10904;var PLAYGROUND_APP=exports.PLAYGROUND_APP=2221;var AMARA_APP=exports.AMARA_APP=44977;var BOX_APP=exports.BOX_APP=67545;var ONEDRIVE_APP=exports.ONEDRIVE_APP=67813;var GOOGLE_DRIVE_APP=exports.GOOGLE_DRIVE_APP=69025;var MAKO_UPLOADER_APP=exports.MAKO_UPLOADER_APP=87099},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ALL=exports.ALL="all";var APPEARS=exports.APPEARS="appears";var CLIPS=exports.CLIPS="clips";var LIKES=exports.LIKES="likes";var WATCHLATER=exports.WATCHLATER="watchlater";var RECENT=exports.RECENT="recent";var SUBSCRIPTIONS=exports.SUBSCRIPTIONS="subscriptions";var CHANNEL=exports.CHANNEL="channel";var GROUP=exports.GROUP="group";var ALBUM=exports.ALBUM="album";var TAG=exports.TAG="tag";var SEARCH=exports.SEARCH="search";var CATEGORY=exports.CATEGORY="category";var DISCOVER=exports.DISCOVER="discover";var ONDEMAND=exports.ONDEMAND="ondemand";var FEATURED=exports.FEATURED="featured";var RECOMMENDED=exports.RECOMMENDED="recommended"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _objectAssign=__webpack_require__(9);var _objectAssign2=_interopRequireDefault(_objectAssign);var _ClipStatsStore=__webpack_require__(355);var _ClipStatsStore2=_interopRequireDefault(_ClipStatsStore);var _Throbber=__webpack_require__(60);var _Throbber2=_interopRequireDefault(_Throbber);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){
return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ClipStatsAsync=function(_React$Component){_inherits(ClipStatsAsync,_React$Component);function ClipStatsAsync(props){_classCallCheck(this,ClipStatsAsync);var _this=_possibleConstructorReturn(this,(ClipStatsAsync.__proto__||Object.getPrototypeOf(ClipStatsAsync)).call(this,props));_this.state=(0,_objectAssign2.default)({},{ClipStats:null},_ClipStatsStore2.default.getState());return _this}_createClass(ClipStatsAsync,[{key:"componentWillMount",value:function componentWillMount(){var _this2=this;_loadClipStatsModule().then(function(_ref){var HighCharts=_ref.HighCharts,ClipStats=_ref.ClipStats;_this2.setState({ClipStats:ClipStats})})}},{key:"componentDidMount",value:function componentDidMount(){_ClipStatsStore2.default.addChangeListener(this._handleStoreChange.bind(this))}},{key:"_handleStoreChange",value:function _handleStoreChange(e){this.setState((0,_objectAssign2.default)({},this.state,_ClipStatsStore2.default.getState()))}},{key:"render",value:function render(){var _state=this.state,ClipStats=_state.ClipStats,is_loading=_state.is_loading;if(ClipStats===null||is_loading){return _react2.default.createElement("div",{className:"iris_throbber-wrapper"},_react2.default.createElement(_Throbber2.default,null,(0,_i18n.translate)("Loading")))}return _react2.default.createElement(ClipStats,_extends({},this.props,this.state))}}]);return ClipStatsAsync}(_react2.default.Component);function _loadClipStatsModule(){return new Promise(function(resolve){__webpack_require__.e(1,function(require){resolve({HighCharts:__webpack_require__(356),ClipStats:__webpack_require__(357)})})})}exports.default=ClipStatsAsync;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _objectAssign=__webpack_require__(9);var _objectAssign2=_interopRequireDefault(_objectAssign);var _fluxStore=__webpack_require__(29);var _fluxStore2=_interopRequireDefault(_fluxStore);var _AppDispatcher=__webpack_require__(15);var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _ClipActionTypes=__webpack_require__(23);var _ClipActionTypes2=_interopRequireDefault(_ClipActionTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var ClipStatsStore=_fluxStore2.default.extend({dispatcher:_AppDispatcher2.default,state:{is_loading:true},getState:function getState(){return this.state},_resetState:function _resetState(){this.state={is_loading:true}},_generateSeriesData:function _generateSeriesData(name,data,color){var series_data={name:name,data:data,lineWidth:3,color:color,states:{hover:{lineWidthPlus:0}},marker:{fillColor:"#fbfbfc",radius:3.5,lineWidth:3,lineColor:color,symbol:"circle",states:{hover:{radiusPlus:0,lineWidthPlus:0}}}};return series_data},_formatGraphData:function _formatGraphData(graph_data){var play_data=[];var finish_data=[];var like_data=[];var comment_data=[];graph_data.forEach(function(item){var moment=window.moment;if(!moment){return}var timestamp=moment(item.range_start).unix()*1e3;play_data.push([timestamp,item.total_plays]);finish_data.push([timestamp,item.total_finishes]);like_data.push([timestamp,item.likes]);comment_data.push([timestamp,item.comments])});return[this._generateSeriesData("plays",play_data,"#00adef"),this._generateSeriesData("finishes",finish_data,"#7fc400"),this._generateSeriesData("likes",like_data,"#ff4d4d"),this._generateSeriesData("comments",comment_data,"#0081d8")]},onDispatcherAction:function onDispatcherAction(payload){switch(payload.action_type){case _ClipActionTypes2.default.PAGE_LOAD_SUCCESS:this._resetState();this.emitChange();break;case _ClipActionTypes2.default.STATS_LOAD_SUCCESS:this.state=(0,_objectAssign2.default)({},payload.stats_data,{is_loading:false,graph_data:payload.stats_data.enabled?this._formatGraphData(payload.stats_data.graph_data):[]});this.emitChange();break;case _ClipActionTypes2.default.STATS_LOAD_ERROR:this.state={is_loading:false,enabled:false,error_message:"Oops! We’re having some problems loading your stats. Please try again later."};this.emitChange();break}}});window.___ClipStatsStore=ClipStatsStore;exports.default=ClipStatsStore;module.exports=exports["default"]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconComment16",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M12 1H4a4 4 0 0 0-4 4v2a4 4 0 0 0 4 4h1v4l4-4h3a4 4 0 0 0 4-4V5a4 4 0 0 0-4-4z"}),React.Children.map(children,function(c){return c}))}})},,function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconPlays16",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M1 15V1l14 7z"}),React.Children.map(children,function(c){return c}))}})},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _iris_icon_drill_down_=__webpack_require__(533);var _iris_icon_drill_down_2=_interopRequireDefault(_iris_icon_drill_down_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var propTypes={text:_react.PropTypes.string.isRequired,subtext:_react.PropTypes.string};var ClipAuxLink=function(_Component){_inherits(ClipAuxLink,_Component);function ClipAuxLink(props){_classCallCheck(this,ClipAuxLink);return _possibleConstructorReturn(this,(ClipAuxLink.__proto__||Object.getPrototypeOf(ClipAuxLink)).call(this,props))}_createClass(ClipAuxLink,[{key:"render",value:function render(){return _react2.default.createElement("a",{role:"button",className:"clip_aux_link",href:this.props.href},_react2.default.createElement("span",{className:"iris_btn iris_btn-utility clip_aux_link__btn iris_btn--circle"},_react2.default.createElement(_iris_icon_drill_down_2.default,{className:"clip_aux_link__icon iris_ic is--10"})),_react2.default.createElement("div",{className:"clip_aux_link__text iris_header iris_header--18"},this.props.text),_react2.default.createElement("div",{className:"clip_aux_link__subtext iris_toggle-text"},this.props.subtext))}}]);return ClipAuxLink}(_react.Component);ClipAuxLink.propTypes=propTypes;exports.default=ClipAuxLink;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconDrillDown16",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 8"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M11.7 1.3l-1-1c-.4-.4-1-.4-1.4 0L6 3.6 2.7.3c-.4-.4-1-.4-1.4 0l-1 1c-.4.4-.4 1 0 1.4l5 5c.2.2.5.3.7.3s.5-.1.7-.3l5-5c.4-.4.4-1 0-1.4"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(6);var _autobindDecorator=__webpack_require__(58);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);var _objectAssign=__webpack_require__(9);var _objectAssign2=_interopRequireDefault(_objectAssign);var _lodash=__webpack_require__(64);var _AppDispatcher=__webpack_require__(15);var _AppDispatcher2=_interopRequireDefault(_AppDispatcher);var _ClipActions=__webpack_require__(8);var _ClipActions2=_interopRequireDefault(_ClipActions);var _ClipStore=__webpack_require__(28);var _ClipStore2=_interopRequireDefault(_ClipStore);var _ClipCommentsStore=__webpack_require__(59);var _ClipCommentsStore2=_interopRequireDefault(_ClipCommentsStore);var _ClipInfo=__webpack_require__(535);var _ClipInfo2=_interopRequireDefault(_ClipInfo);var _ClipNotification=__webpack_require__(556);var _ClipNotification2=_interopRequireDefault(_ClipNotification);var _ClipDetails=__webpack_require__(557);var _ClipDetails2=_interopRequireDefault(_ClipDetails);var _ClipExtras=__webpack_require__(561);var _ClipExtras2=_interopRequireDefault(_ClipExtras);var _ClipComments=__webpack_require__(567);var _ClipComments2=_interopRequireDefault(_ClipComments);var _ClipTextAd=__webpack_require__(588);var _ClipTextAd2=_interopRequireDefault(_ClipTextAd);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var MINI_BAR_OFFSET=139;var HEIGHT_LIMIT=160;var DESCRIPTION_CONTENT_SELECTOR=".description-content";var ClipContent=(_class=function(_React$Component){_inherits(ClipContent,_React$Component);function ClipContent(props){_classCallCheck(this,ClipContent);var _this=_possibleConstructorReturn(this,(ClipContent.__proto__||Object.getPrototypeOf(ClipContent)).call(this,props));_this.state=_ClipStore2.default.getState();return _this}_createClass(ClipContent,[{key:"componentDidMount",value:function componentDidMount(){_ClipStore2.default.addChangeListener(this._handleStoreChange);this._dispatcher_token=_AppDispatcher2.default.register(this._handleDispatcherAction)}},{key:"componentWillUnmount",value:function componentWillUnmount(){_ClipStore2.default.removeChangeListener(this._handleStoreChange);_AppDispatcher2.default.unregister(this._dispatcher_token)}},{key:"_handleStoreChange",value:function _handleStoreChange(data){this.setState(_ClipStore2.default.getState())}},{key:"_handleDispatcherAction",value:function _handleDispatcherAction(payload){}},{key:"_openMoreInfo",value:function _openMoreInfo(e){e.preventDefault();_ClipActions2.default.openMoreInfo(this.props.clip_id)}},{key:"_toggleFollowUser",value:function _toggleFollowUser(e){var _props=this.props,cur_user=_props.cur_user,owner=_props.owner;if(!cur_user){_ClipActions2.default.openLogin()}else if(!owner.is_following){_ClipActions2.default.followUser(owner.id)}else{_ClipActions2.default.unfollowUser(owner.id)}}},{key:"_openShareMenu",value:function _openShareMenu(){var clip_id=this.props.clip_id;_ClipActions2.default.openShare(clip_id,"clip_description")}},{key:"_viewComments",value:function _viewComments(e){var comments_el=document.getElementById("comments");if(typeof comments_el.scrollIntoView==="function"){e.preventDefault();comments_el.scrollIntoView();window.scrollTo(0,window.pageYOffset-MINI_BAR_OFFSET)}}},{key:"_showClipDetails",value:function _showClipDetails(e){if(this.state.checked_desc===false){this.refs.description_content.classList.remove("iris_desc--truncated");this.setState({do_truncate:false})}}},{key:"_toggleClipDetails",value:function _toggleClipDetails(e){if(this.state.checked_desc===false){this.setState({checked_desc:true})}else{this.setState({checked_desc:false})}}},{key:"_clipDetailsTruncateText",value:function _clipDetailsTruncateText(){var contentNode=document.querySelector(DESCRIPTION_CONTENT_SELECTOR);if(!contentNode){return}var height=contentNode.offsetHeight;if(height>=HEIGHT_LIMIT&&height<=200){}else{var needs_truncating=height>=HEIGHT_LIMIT;this.setState({do_truncate:needs_truncating})}}},{key:"_clipDetailsDidMount",value:function _clipDetailsDidMount(clipDetails){this._clipDetailsTruncateText();var clipDetailsNode=(0,_reactDom.findDOMNode)(clipDetails);if(!clipDetailsNode){return}var time_nodes=clipDetailsNode.querySelectorAll("[data-time]");[].forEach.call(time_nodes,function(time_el){time_el.addEventListener("click",function(e){_ClipActions2.default.seekClip(e.target.getAttribute("data-time"))},false)})}},{key:"_clipDetailsDidUpdate",value:function _clipDetailsDidUpdate(prev_props,prev_state,props){if(prev_props.clip_id!==props.clip_id&&!this.state.checked_desc){this._clipDetailsTruncateText()}}},{key:"_openDownload",value:function _openDownload(){_ClipActions2.default.openDownload(this.state.clip.id)}},{key:"render",value:function render(){var state=this.state;var _props2=this.props,should_render_sidebar=_props2.should_render_sidebar,columns_narrow=_props2.columns_narrow,columns_wide=_props2.columns_wide,is_cameo=_props2.is_cameo,is_copyright_blocked=_props2.is_copyright_blocked,is_owner=_props2.is_owner,dismissNotification=_props2.dismissNotification;var _state=this.state,owner=_state.owner,cur_user=_state.cur_user,clip=_state.clip,collection_adder=_state.collection_adder,tags=_state.tags,send_to_wipster_enabled=_state.send_to_wipster_enabled,share_enabled=_state.share_enabled,brand_channel=_state.brand_channel,comments=_state.comments,do_truncate=_state.do_truncate;var clip_id=clip.id;var collections_enabled=collection_adder&&collection_adder.enabled;var show_more_enabled=!!tags&&tags.length||!!state.cc_license||!!state.api_app;var downloads_enabled=!!state.download_config;var total_comments=_ClipCommentsStore2.default.getState().total_comments;var total_comments_formatted=_ClipCommentsStore2.default.getState().total_comments_formatted;var afc_text_ad=state.ads.afc_text_ad;var column_count=should_render_sidebar?columns_narrow:columns_wide;return _react2.default.createElement("div",{className:"clip_main-content iris_grid-wrapper--content",role:"main","aria-label":"Clip Information"},_react2.default.createElement("div",{className:"iris_grid-content"},_react2.default.createElement(_ClipInfo2.default,{format:["watch","inline"],owner:owner,clip:clip,cur_user:state.cur_user,ondemand:state.ondemand,content_rating:state.content_rating,show_more:show_more_enabled,brand_channel:brand_channel,is_cameo:is_cameo,review_page_url:state.review_page_url,moreClick:this._openMoreInfo,followClick:this._toggleFollowUser}),_react2.default.createElement("div",{className:"clip-notification"},state.notifications.map(function(notification,i){return _react2.default.createElement(_ClipNotification2.default,_extends({format:"clip",key:"notification_"+Math.random()},notification,{onDismissed:dismissNotification}))}))),_react2.default.createElement("div",{className:"clip_details iris_divider--dark iris_divider-top iris_divider-top--m iris_divider-bot iris_divider-bot--m"},_react2.default.createElement("div",{className:"iris_grid-content"},_react2.default.createElement(_ClipDetails2.default,{clip_id:clip_id,is_liked:clip.is_liked,stats:(0,_objectAssign2.default)({},state.stat_counts,{total_comments:{raw:total_comments,formatted:total_comments_formatted}}),do_truncate:do_truncate,description:clip.description,downloads_enabled:downloads_enabled,wipster_enabled:send_to_wipster_enabled,share_enabled:share_enabled,collections_enabled:collections_enabled,likes_url:clip.likes_url,shareClick:this._openShareMenu,commentsClick:this._viewComments,descriptionClick:this._showClipDetails,checkboxToggle:this._toggleClipDetails,openDownload:this._openDownload,didMount:this._clipDetailsDidMount,didUpdate:this._clipDetailsDidUpdate}))),_react2.default.createElement(_ClipExtras2.default,{available_columns:column_count,clip_id:clip_id,credits:state.credits.displayed_credits,total_credits:state.credits.total_credits,categories_config:state.categories_config,photos:state.photos,music_track:state.music_track}),!is_copyright_blocked?_react2.default.createElement("div",{className:"iris_comment-wrapper iris_grid-content"},_react2.default.createElement(_ClipComments2.default,{available_columns:column_count,clip_id:clip.id,clip_title:clip.title,cur_user:cur_user,comments:comments,is_owner:is_owner,ondemand:this.state.ondemand,sidebar:this.refs.contextual_clips})):null,afc_text_ad?_react2.default.createElement("div",{className:"iris_grid-content"},_react2.default.createElement(_ClipTextAd2.default,{pubId:afc_text_ad.pub_id})):null)}}]);return ClipContent}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"_handleStoreChange",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleStoreChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_openMoreInfo",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_openMoreInfo"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_toggleFollowUser",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_toggleFollowUser"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_openShareMenu",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_openShareMenu"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_viewComments",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_viewComments"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_showClipDetails",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_showClipDetails"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_toggleClipDetails",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_toggleClipDetails"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_clipDetailsDidMount",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_clipDetailsDidMount"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_clipDetailsDidUpdate",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_clipDetailsDidUpdate"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_openDownload",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_openDownload"),_class.prototype),_class);ClipContent.propTypes={owner:_react2.default.PropTypes.object.isRequired,cur_user:_react2.default.PropTypes.object.isRequired,should_render_sidebar:_react2.default.PropTypes.bool.isRequired,columns_narrow:_react2.default.PropTypes.number.isRequired,columns_wide:_react2.default.PropTypes.number.isRequired,is_cameo:_react2.default.PropTypes.bool,is_copyright_blocked:_react2.default.PropTypes.bool,is_owner:_react2.default.PropTypes.bool,dismissNotification:_react2.default.PropTypes.func};ClipContent.defaultProps={is_cameo:false,is_copyright_blocked:false,is_owner:false,dismissNotification:_lodash.noop};exports.default=ClipContent;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(64);var _ClipInfoBrandChannel=__webpack_require__(536);var _ClipInfoBrandChannel2=_interopRequireDefault(_ClipInfoBrandChannel);var _ClipInfoViewer=__webpack_require__(546);var _ClipInfoViewer2=_interopRequireDefault(_ClipInfoViewer);var _ClipInfoVOD=__webpack_require__(554);var _ClipInfoVOD2=_interopRequireDefault(_ClipInfoVOD);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ClipInfo=function(_React$Component){_inherits(ClipInfo,_React$Component);function ClipInfo(){_classCallCheck(this,ClipInfo);return _possibleConstructorReturn(this,(ClipInfo.__proto__||Object.getPrototypeOf(ClipInfo)).apply(this,arguments))}_createClass(ClipInfo,[{key:"render",value:function render(){var _props=this.props,followClick=_props.followClick,moreClick=_props.moreClick;var Info=void 0;if(this.props.ondemand!==null){Info=_ClipInfoVOD2.default}else if(this.props.brand_channel!==null){Info=_ClipInfoBrandChannel2.default}else{Info=_ClipInfoViewer2.default}return _react2.default.createElement(Info,_extends({onFollowClick:followClick,onMoreClick:moreClick},this.props))}}]);return ClipInfo}(_react2.default.Component);ClipInfo.propTypes={review_page_url:_react2.default.PropTypes.string,followClick:_react2.default.PropTypes.func,moreClick:_react2.default.PropTypes.func};ClipInfo.defaultProps={followClick:_lodash.noop,moreClick:_lodash.noop};exports.default=ClipInfo;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _ClipPrivacyIcon=__webpack_require__(537);var _Time=__webpack_require__(538);var _Time2=_interopRequireDefault(_Time);var _UserPortrait=__webpack_require__(539);var _UserPortrait2=_interopRequireDefault(_UserPortrait);var _FollowButton=__webpack_require__(541);var _FollowButton2=_interopRequireDefault(_FollowButton);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ClipInfoBrandChannel=function(_React$Component){_inherits(ClipInfoBrandChannel,_React$Component);function ClipInfoBrandChannel(){_classCallCheck(this,ClipInfoBrandChannel);return _possibleConstructorReturn(this,(ClipInfoBrandChannel.__proto__||Object.getPrototypeOf(ClipInfoBrandChannel)).apply(this,arguments))}_createClass(ClipInfoBrandChannel,[{key:"render",value:function render(){var _props=this.props,clip=_props.clip,owner=_props.owner,brand_channel=_props.brand_channel,onFollowClick=_props.onFollowClick,cur_user=_props.cur_user;var user_link=_react2.default.createElement("a",{href:"/"+brand_channel.custom_url},brand_channel.name);if(brand_channel.spotlight_user){user_link=_react2.default.createElement("a",{href:brand_channel.spotlight_user.url},brand_channel.spotlight_user.name)}var follow_comp=owner.is_following?"unfollow":"follow";var fatal_attr="container:clip_description|component:"+follow_comp+"|keyword:"+owner.id;var custom_byline=(0,_i18n.translate)("from {USER_NAME}",{USER_NAME:user_link});return _react2.default.createElement("div",{className:"clip_info-bcf clearfix"},_react2.default.createElement("div",{className:"clip_info-header clip_info-header--bcf"},_react2.default.createElement("h1",{role:"banner"},(0,_ClipPrivacyIcon.maybePrivacyIcon)(clip.privacy),clip.title)),_react2.default.createElement("div",{className:"clip_info-portrait--bcf"},_react2.default.createElement(_UserPortrait2.default,{user:owner,format:"portrait--lg"})),_react2.default.createElement("div",{className:"clip_info-subline--bcf"},_react2.default.createElement("p",null,_react2.default.createElement("span",null,custom_byline," ",_react2.default.createElement(_Time2.default,{clip:clip}))),_react2.default.createElement("p",{className:"clip_info-presenter"},(0,_i18n.translate)("Presented by {BRAND_NAME}’s {CAMPAIGN_TITLE}",{BRAND_NAME:brand_channel.user.display_name,CAMPAIGN_TITLE:_react2.default.createElement("a",{href:brand_channel.custom_url},brand_channel.name)})),_react2.default.createElement("div",{className:"clip_info-actions"},_react2.default.createElement("a",{role:"button",className:"iris_btn iris_btn--secondary",href:brand_channel.custom_url},(0,_i18n.translate)("View channel")),_react2.default.createElement(_FollowButton2.default,{followId:owner.id,isFollowing:owner.is_following,isLoggedIn:!!cur_user,onClick:onFollowClick,format:"outline","data-fatal-attraction":fatal_attr}))))}}]);return ClipInfoBrandChannel}(_react2.default.Component);exports.default=ClipInfoBrandChannel;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.maybePrivacyIcon=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _ClipPrivacyTypes=__webpack_require__(269);var _iris_icon_privacy_=__webpack_require__(270);
var _iris_icon_privacy_2=_interopRequireDefault(_iris_icon_privacy_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var maybePrivacyIcon=exports.maybePrivacyIcon=function maybePrivacyIcon(privacy){var is_anyone_or_ptv=privacy.type===_ClipPrivacyTypes.ViewPrivacy.ANYONE||privacy.type===_ClipPrivacyTypes.ViewPrivacy.PTV;return!is_anyone_or_ptv?_react2.default.createElement(ClipPrivacyIcon,{privacy:privacy}):null};var ClipPrivacyIcon=function(_React$Component){_inherits(ClipPrivacyIcon,_React$Component);function ClipPrivacyIcon(){_classCallCheck(this,ClipPrivacyIcon);return _possibleConstructorReturn(this,(ClipPrivacyIcon.__proto__||Object.getPrototypeOf(ClipPrivacyIcon)).apply(this,arguments))}_createClass(ClipPrivacyIcon,[{key:"render",value:function render(){var privacy=this.props.privacy;return _react2.default.createElement("span",{title:privacy.description,className:"clip_info-ic-private"},_react2.default.createElement(_iris_icon_privacy_2.default,{"aria-hidden":"true",className:"iris_ic iris_icp--baseline is--header"}))}}]);return ClipPrivacyIcon}(_react2.default.Component);exports.default=ClipPrivacyIcon},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Time=function(_React$Component){_inherits(Time,_React$Component);function Time(){_classCallCheck(this,Time);return _possibleConstructorReturn(this,(Time.__proto__||Object.getPrototypeOf(Time)).apply(this,arguments))}_createClass(Time,[{key:"render",value:function render(){var _props$clip=this.props.clip,uploaded_on=_props$clip.uploaded_on,uploaded_on_relative=_props$clip.uploaded_on_relative,uploaded_on_full=_props$clip.uploaded_on_full;return _react2.default.createElement("time",{className:"clip_info-time",dateTime:uploaded_on,title:uploaded_on_full},uploaded_on_relative)}}]);return Time}(_react2.default.Component);exports.default=Time;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=undefined;var _UserPortrait=__webpack_require__(540);var _UserPortrait2=_interopRequireDefault(_UserPortrait);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_UserPortrait2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(66);var _classnames2=_interopRequireDefault(_classnames);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var UserPortrait=function(_React$Component){_inherits(UserPortrait,_React$Component);function UserPortrait(props){_classCallCheck(this,UserPortrait);return _possibleConstructorReturn(this,(UserPortrait.__proto__||Object.getPrototypeOf(UserPortrait)).call(this,props))}_createClass(UserPortrait,[{key:"render",value:function render(){var _props=this.props,user=_props.user,className=_props.className,format=_props.format;return _react2.default.createElement("div",{className:className},user&&user.hasOwnProperty("url")&&user.url!==null?this._renderLinkedImage(user.url):this._renderPlaceholderImage())}},{key:"_renderPlaceholderImage",value:function _renderPlaceholderImage(){var _props2=this.props,format=_props2.format,size=_props2.size;var portrait_size="iris_portrait--"+size;var class_list=(0,_classnames2.default)("iris_portrait","is-circle",portrait_size,{"iris_portrait--lg":format==="iris_portrait--lg","iris_portrait-comment_reply":format==="comment-reply"});return _react2.default.createElement("div",{className:class_list},this._renderImage())}},{key:"_renderLinkedImage",value:function _renderLinkedImage(url){var _props3=this.props,format=_props3.format,size=_props3.size,aria_hidden=_props3.aria_hidden,dataFatalAttraction=_props3.dataFatalAttraction;var portrait_size="iris_portrait--"+size;var class_list=(0,_classnames2.default)("iris_portrait","is-circle",portrait_size,{"iris_portrait--lg":format==="portrait--lg","iris_portrait-comment_reply":format==="comment-reply"});return _react2.default.createElement("a",_extends({},dataFatalAttraction,{href:url,className:class_list,"aria-hidden":aria_hidden,tabIndex:aria_hidden?-1:0}),this._renderImage())}},{key:"_renderImage",value:function _renderImage(){var _props4=this.props,user=_props4.user,alt=_props4.alt;var src=void 0;var srcSet=void 0;if(!user||!user.hasOwnProperty("portrait")){src="https://i1.wp.com/devi.vimeocdn.com/portrait/default-blue_40x40.png?ssl=1";srcSet="https://i1.wp.com/devi.vimeocdn.com/portrait/default-blue_80x80.png?ssl=1 2x"}else{src=user.portrait.src;srcSet=user.portrait.src_2x+" 2x"}return _react2.default.createElement("img",{src:src,srcSet:srcSet,alt:alt})}}]);return UserPortrait}(_react2.default.Component);UserPortrait.propTypes={className:_react2.default.PropTypes.string,user:_react2.default.PropTypes.shape({url:_react2.default.PropTypes.string,portrait:_react2.default.PropTypes.shape({src:_react2.default.PropTypes.string.isRequired,src_2x:_react2.default.PropTypes.string.isRequired})}),alt:_react2.default.PropTypes.string,aria_hidden:_react2.default.PropTypes.bool};UserPortrait.defaultProps={alt:"",aria_hidden:true};exports.default=UserPortrait;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=undefined;var _FollowButton=__webpack_require__(542);var _FollowButton2=_interopRequireDefault(_FollowButton);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_FollowButton2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _Button=__webpack_require__(247);var _Button2=_interopRequireDefault(_Button);var _i18n=__webpack_require__(37);var _iris_icon_more_=__webpack_require__(238);var _iris_icon_more_2=_interopRequireDefault(_iris_icon_more_);var _iris_icon_delete_=__webpack_require__(239);var _iris_icon_delete_2=_interopRequireDefault(_iris_icon_delete_);var _iris_icon_select_=__webpack_require__(240);var _iris_icon_select_2=_interopRequireDefault(_iris_icon_select_);var _iris_icon_more_3=__webpack_require__(543);var _iris_icon_more_4=_interopRequireDefault(_iris_icon_more_3);var _iris_icon_delete_3=__webpack_require__(544);var _iris_icon_delete_4=_interopRequireDefault(_iris_icon_delete_3);var _iris_icon_select_3=__webpack_require__(545);var _iris_icon_select_4=_interopRequireDefault(_iris_icon_select_3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var FollowButton=function(_React$Component){_inherits(FollowButton,_React$Component);function FollowButton(props){_classCallCheck(this,FollowButton);var _this=_possibleConstructorReturn(this,(FollowButton.__proto__||Object.getPrototypeOf(FollowButton)).call(this,props));_this.state={is_hovering:false,is_pending_follow_request:props.isPending,just_followed:false};return _this}_createClass(FollowButton,[{key:"_renderIcon",value:function _renderIcon(){var _state=this.state,is_hovering=_state.is_hovering,just_followed=_state.just_followed;var _props=this.props,isFollowing=_props.isFollowing,size=_props.size;var follow_icon=void 0;var unfollow_icon=void 0;var following_icon=void 0;if(size==="sm"||size==="xsm"){follow_icon=_react2.default.createElement(_iris_icon_more_4.default,null);unfollow_icon=_react2.default.createElement(_iris_icon_delete_4.default,null);following_icon=_react2.default.createElement(_iris_icon_select_4.default,null)}else{follow_icon=_react2.default.createElement(_iris_icon_more_2.default,null);unfollow_icon=_react2.default.createElement(_iris_icon_delete_2.default,null);following_icon=_react2.default.createElement(_iris_icon_select_2.default,null)}if(isFollowing){if(is_hovering&&!just_followed){return unfollow_icon}return following_icon}return follow_icon}},{key:"_handleMouseEnter",value:function _handleMouseEnter(){this.setState({is_hovering:true})}},{key:"_handleMouseLeave",value:function _handleMouseLeave(){this.setState({is_hovering:false,just_followed:false})}},{key:"_handleClick",value:function _handleClick(e){var _props2=this.props,isFollowing=_props2.isFollowing,onClick=_props2.onClick,isLoggedIn=_props2.isLoggedIn;e.preventDefault();if(this.state.is_pending_follow_request){return}this.setState({is_pending_follow_request:isLoggedIn,just_followed:!isFollowing});onClick(e)}},{key:"_getFormat",value:function _getFormat(){var _props3=this.props,isFollowing=_props3.isFollowing,format=_props3.format;var _state2=this.state,is_hovering=_state2.is_hovering,just_followed=_state2.just_followed;var buttonFormat=void 0;if(isFollowing&&is_hovering&&!just_followed){buttonFormat="secondary"}else if(format==="default"&&isFollowing){buttonFormat="success"}else if(format==="outline"&&isFollowing){buttonFormat="successOutline"}else if(format==="default"){buttonFormat="primary"}else if(format==="outline"){buttonFormat="primaryOutline"}return buttonFormat}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(next_props){if(this.props.isFollowing!==next_props.isFollowing){this.setState({is_pending_follow_request:false})}}},{key:"render",value:function render(){var _state3=this.state,is_hovering=_state3.is_hovering,is_pending_follow_request=_state3.is_pending_follow_request,just_followed=_state3.just_followed;var _props4=this.props,autoMargins=_props4.autoMargins,autoWidth=_props4.autoWidth,isFollowing=_props4.isFollowing,className=_props4.className,dataFatalAttraction=_props4.dataFatalAttraction;var size=this.props.size;var isDisabled=this.props.isPending||is_pending_follow_request;var text_label=(0,_i18n.translate)("Follow");if(isFollowing){text_label=!is_hovering||just_followed?(0,_i18n.translate)("Following"):(0,_i18n.translate)("Unfollow")}if(size==="xsm"){size="xs"}return _react2.default.createElement(_Button2.default,{autoMargins:autoMargins,autoWidth:autoWidth,className:className,format:this._getFormat(),size:size,icon:this._renderIcon(),onMouseLeave:this._handleMouseLeave.bind(this),onMouseEnter:this._handleMouseEnter.bind(this),onClick:this._handleClick.bind(this),"data-fatal-attraction":dataFatalAttraction,disabled:isDisabled?"disabled":false},text_label)}}]);return FollowButton}(_react2.default.Component);FollowButton.propTypes={autoMargins:_react2.default.PropTypes.bool,isFollowing:_react2.default.PropTypes.bool.isRequired,onClick:_react2.default.PropTypes.func,format:_react2.default.PropTypes.string,size:_react2.default.PropTypes.string,autoWidth:_react2.default.PropTypes.string,isLoggedIn:_react2.default.PropTypes.bool,className:_react2.default.PropTypes.string,dataFatalAttraction:_react2.default.PropTypes.string,isPending:_react2.default.PropTypes.bool};FollowButton.defaultProps={autoMargins:true,isFollowing:false,onClick:function onClick(){},format:"default",size:"md",autoWidth:"xs",isLoggedIn:false,className:"",dataFatalAttraction:null,isPending:false};exports.default=FollowButton;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconMore12",getDefaultProps:function getDefaultProps(){return{width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M9.5 4H6V.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5V4H.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5H4v3.5a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5V6h3.5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconDelete12",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M7.4 6l2.4-2.4c.2-.2.2-.6.1-.7l-.8-.8c-.1-.1-.5-.1-.7 0L6 4.6 3.6 2.1c-.2-.1-.6-.1-.7 0l-.8.8c-.1.1-.1.5 0 .7L4.6 6 2.1 8.4c-.1.2-.1.6 0 .7l.7.7c.2.2.6.2.8.1L6 7.4l2.4 2.4c.2.2.6.2.7.1l.7-.7c.2-.2.2-.6.1-.8L7.4 6z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconSelect12",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M10.9 2.9l-.7-.7c-.2-.2-.6-.2-.8-.1L5 6.6 2.6 4.1c-.2-.1-.6-.1-.7 0l-.8.8c-.1.1-.1.5 0 .7l3.1 3.1c.4.4 1 .4 1.4 0l5.1-5.1c.3-.2.3-.6.2-.7z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _classnames=__webpack_require__(66);var _classnames2=_interopRequireDefault(_classnames);var _ClipPrivacyIcon=__webpack_require__(537);var _CameoLink=__webpack_require__(547);var _MoreLink=__webpack_require__(548);var _ContentRatingBadge=__webpack_require__(549);var _ContentRatingBadge2=_interopRequireDefault(_ContentRatingBadge);var _UserByline=__webpack_require__(271);var _UserByline2=_interopRequireDefault(_UserByline);var _SpatialBadge=__webpack_require__(304);var _SpatialBadge2=_interopRequireDefault(_SpatialBadge);var _Time=__webpack_require__(538);var _Time2=_interopRequireDefault(_Time);var _ViewerAction=__webpack_require__(550);var _ViewerAction2=_interopRequireDefault(_ViewerAction);var _OwnerAction=__webpack_require__(551);var _OwnerAction2=_interopRequireDefault(_OwnerAction);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var maybeContentRating=function maybeContentRating(_ref){var content_rating=_ref.content_rating,clip=_ref.clip;if(content_rating!==null){return _react2.default.createElement(_ContentRatingBadge2.default,_extends({},content_rating,{size:"md",clip_id:clip.id}))}return null};var ClipInfoViewer=function(_React$Component){_inherits(ClipInfoViewer,_React$Component);function ClipInfoViewer(){_classCallCheck(this,ClipInfoViewer);return _possibleConstructorReturn(this,(ClipInfoViewer.__proto__||Object.getPrototypeOf(ClipInfoViewer)).apply(this,arguments))}_createClass(ClipInfoViewer,[{key:"render",value:function render(){var _props=this.props,clip=_props.clip,owner=_props.owner,cur_user=_props.cur_user,content_rating=_props.content_rating,badge_size=_props.badge_size,format=_props.format,is_cameo=_props.is_cameo,show_more=_props.show_more,review_page_url=_props.review_page_url,onFollowClick=_props.onFollowClick,onMoreClick=_props.onMoreClick;var class_list_subline=(0,_classnames2.default)("clip_info-subline--"+format[0],{"clip_info-subline--inline":format.indexOf("inline")>-1});var is_format_watch=format.indexOf("watch")>-1;var user_byline_format=is_format_watch?"header":"";var subline_class_list=is_format_watch?class_list_subline:"clip_info-subline";var is_owner=cur_user&&cur_user.id===owner.id;var ViewerOrOwnerAction=!is_owner?_ViewerAction2.default:_OwnerAction2.default;return _react2.default.createElement("div",{className:"clip_info-wrapper"},_react2.default.createElement("div",{className:"clip_info"},_react2.default.createElement("h1",{className:"clip_info-header iris_header iris_header--36","aria-label":"Clip Title"},(0,_ClipPrivacyIcon.maybePrivacyIcon)(clip.privacy),_react2.default.createElement("span",{className:"clip_info-title"},clip.title),_react2.default.createElement("span",{className:"video_attributes"},_react2.default.createElement(_SpatialBadge2.default,{isSpatial:clip.is_spatial}),maybeContentRating({content_rating:content_rating,clip:clip}))),_react2.default.createElement("div",{className:subline_class_list},_react2.default.createElement(_UserByline2.default,{url:owner.url,display_name:owner.display_name,badge:owner.badge,badge_size:badge_size,format:user_byline_format,dataFatalAttraction:{"data-fatal-attraction":"container:clip_page|component:user_profile_link|keyword:video_creator"}},_react2.default.createElement(_Time2.default,{clip:clip})),(0,_CameoLink.maybeCameoLink)(is_cameo),(0,_MoreLink.maybeMoreLink)({show_more:show_more,onMoreClick:onMoreClick.bind(this)}))),_react2.default.createElement(ViewerOrOwnerAction,{owner:owner,clip:clip,review_page_url:review_page_url,onFollowClick:onFollowClick,cur_user:cur_user}))}}]);return ClipInfoViewer}(_react2.default.Component);exports.default=ClipInfoViewer;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.maybeCameoLink=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var maybeCameoLink=exports.maybeCameoLink=function maybeCameoLink(is_cameo){return is_cameo?_react2.default.createElement(CameoLink,null):null};var CameoLink=function(_React$Component){_inherits(CameoLink,_React$Component);function CameoLink(){_classCallCheck(this,CameoLink);return _possibleConstructorReturn(this,(CameoLink.__proto__||Object.getPrototypeOf(CameoLink)).apply(this,arguments))}_createClass(CameoLink,[{key:"render",value:function render(){var cameo_logo_svg='<svg class="clip_cameo-logo" width="47" height="22" viewBox="0 0 110 47" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M49.7,22.9 C47.4,27.2 43.6,30.3 42.4,29.8 C40.8,29.2 46,22 47.5,20.7 C48,20.1 44.7,17.1 43.9,17.9 C40.8,20.7 37,26.7 38.2,30 C38.6,31 39.8,31.5 41,31.9 C43.3,32.6 47.1,30.9 49.6,27.2 C50.2,26.5 50.8,25.5 51,24.4 L49.7,22.9 L49.7,22.9 Z M76,20.7 C73.8,24.7 70.3,27.1 68.7,26.6 C67.8,26.4 69.3,22.9 71.5,19.4 C73.5,16.2 76.1,13 76.4,12.6 C77.1,12 72.2,9.8 71.6,10.4 C71.1,10.9 67.3,14.6 63.7,19 C64.7,16.7 65.9,14.4 67.5,12.2 C68,11.5 63.8,9.6 63.2,10.2 C62.7,10.7 58.9,14.2 54.9,19.1 C56,16.8 57,14.3 57.2,14 C57.4,13.1 53.1,11.4 52.9,12.1 C51.3,16.8 46.1,27.8 45.2,29 C44.5,30.4 49.3,31.6 49.5,31.1 C49.7,30.7 54.6,22.7 59,19.1 L55.7,28.1 C55.3,29.2 59.5,30 59.8,29.5 C61.3,26.8 64.1,22.6 67,19.4 C65.9,20.9 64,24.6 64.5,27.1 C64.7,28 66.2,28.5 67.3,28.8 C69.5,29.5 72.7,27.6 75.2,25.2 C76.6,23.8 77.1,22.4 77.2,21.9 L76,20.7 L76,20.7 Z M89.9,20.7 C88.3,24.2 83.1,28 80.1,26.9 C78.9,26.4 78.7,24.6 79,23.2 C84.7,23.6 90.9,20 91.5,12.6 C91.5,12.2 90.4,11.1 89.2,10.4 C88,9.7 87.3,9.2 86.1,9.3 C83.1,9.9 79.2,11.6 76,17 C73.9,20.5 73,24.2 74.5,26.8 C75.1,27.9 77.3,28.5 79.1,29 C83.3,30.2 87.5,28.1 90.1,25 C90.8,24.1 91.1,23.3 91.6,22.3 L89.9,20.7 L89.9,20.7 Z M88,12.9 C89.6,14.3 83.7,21.3 79.8,21.1 C80.4,19.1 81.7,17.4 83,16 C84.9,14.1 87.5,12.4 88,12.9 L88,12.9 L88,12.9 Z M105,15.6 C104.5,14 102.3,13.6 101.4,13.5 C101.9,13.3 102.5,13 103,12.9 C103.7,12.9 100.9,11.4 99,11.5 C96.7,11.9 93.3,14 91.3,17.4 C89.3,20.6 88.1,24.8 89.7,27.4 C90.2,28.1 91.9,28.8 92.9,29.1 C97,30.8 101.4,27.4 103.8,22.8 C105.1,20.4 105.7,18 105,15.6 L105,15.6 L105,15.6 Z M94,27.5 C92.3,27 93.9,22.9 96.1,19.5 C98,16.7 100.2,14.1 101,13.8 L101.1,13.8 C102.3,14.8 101.6,18.1 100,21.3 C98.3,24.9 95.6,28.2 94,27.5 L94,27.5 L94,27.5 Z M23.2,40.8 C22.7,41 22.5,41.7 22.5,42 C22.5,42.2 22.6,42.4 23.2,42.2 C25.8,41.6 38.8,38 61.5,36.9 C84.2,35.8 96.7,38.1 98.4,39 C99.6,39.6 99.5,40.4 99.5,40.4 C99.5,40.4 101.2,39.7 101.6,38.5 C102.1,37 100.7,35.2 98.9,34.5 C94.3,33.3 82.1,32.3 64.4,33.1 C44.1,34.1 27.2,38.8 23.2,40.8 L23.2,40.8 L23.2,40.8 Z M47.7,15.9 C47.2,15 45.1,13.3 43.3,13.2 C40.5,13.2 35.9,14.3 31.6,19.9 C29.6,22.5 26.8,28.1 28.5,31.3 C29.2,32.7 31.6,33.4 32.7,33.5 C35,33.9 37.5,32.9 41,28.4 C42,27 42.9,25.7 42.9,25.1 L41.5,23.7 C38.4,29.1 35.3,32.3 33.5,31.5 C32.5,31 32.6,27.7 36.3,22.6 C40,17.5 44.5,15.2 45.6,16.4 C46.6,17.4 45.2,20.1 45.6,20.4 C45.7,20.6 48.2,16.9 47.7,15.9 L47.7,15.9 L47.7,15.9 Z M23.9,18.3 C23.7,19.9 25.3,21.1 25.8,21 C26.4,20.9 28.6,19.5 31.7,16.1 C34.9,12.6 37.4,6.3 36.8,4.6 C36.2,2.9 33.2,0.9 32.2,0.4 C30.8,-0.5 19.4,-0.7 7,15.1 C0.3,23.7 -0.5,31.2 0.9,35.8 C1.8,38.4 4.2,40.6 5.8,41.1 C5.8,41.1 14.1,45.4 23.3,35.4 C26.1,32.3 27,29.8 27.1,28.9 C27.1,28.4 25.1,27 24.8,27.7 C21,34.7 11.7,40.3 8,39.1 C4.2,37.7 5.2,28.4 14.2,17.4 C23.2,6.3 31.6,3.7 32.2,5 C33.1,6.6 30.8,10.4 27.3,14.1 C25.8,15.7 24,17.1 23.9,18.3 L23.9,18.3 Z"></path></svg>';var via_cameo_label=(0,_i18n.translate)("via {CAMEO}",{CAMEO:_react2.default.createElement("a",{href:"/cameo","data-gtm-click":"clip_via_cameo_click|context:clip"},_react2.default.createElement("span",{dangerouslySetInnerHTML:{__html:cameo_logo_svg}}))});return _react2.default.createElement("span",null," ",via_cameo_label)}}]);return CameoLink}(_react2.default.Component);exports.default=CameoLink},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.maybeMoreLink=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var maybeMoreLink=function maybeMoreLink(_ref){var show_more=_ref.show_more,props=_objectWithoutProperties(_ref,["show_more"]);return show_more?_react2.default.createElement(MoreLink,props):null};exports.maybeMoreLink=maybeMoreLink;var MoreLink=function(_React$Component){_inherits(MoreLink,_React$Component);
function MoreLink(){_classCallCheck(this,MoreLink);return _possibleConstructorReturn(this,(MoreLink.__proto__||Object.getPrototypeOf(MoreLink)).apply(this,arguments))}_createClass(MoreLink,[{key:"render",value:function render(){var onMoreClick=this.props.onMoreClick;return _react2.default.createElement("a",{className:"clip_info-more iris_link iris_link--gray-2",href:"#more_info",onClick:onMoreClick,"aria-label":(0,_i18n.translate)("View more information about this video")},(0,_i18n.translate)("more"))}}]);return MoreLink}(_react2.default.Component);exports.default=MoreLink},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _autobindDecorator=__webpack_require__(58);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);var _classnames=__webpack_require__(66);var _classnames2=_interopRequireDefault(_classnames);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var ContentRatingBadge=(_class=function(_React$Component){_inherits(ContentRatingBadge,_React$Component);function ContentRatingBadge(props){_classCallCheck(this,ContentRatingBadge);var _this=_possibleConstructorReturn(this,(ContentRatingBadge.__proto__||Object.getPrototypeOf(ContentRatingBadge)).call(this,props));_this.state={tooltip_show:false};return _this}_createClass(ContentRatingBadge,[{key:"_handleBadgeMouseOver",value:function _handleBadgeMouseOver(e){e.preventDefault();this.setState({tooltip_show:true})}},{key:"_handleBadgeMouseOut",value:function _handleBadgeMouseOut(e){this.setState({tooltip_show:false})}},{key:"_shouldShowTooltip",value:function _shouldShowTooltip(){var _props=this.props,type=_props.type,description=_props.description;var content_badge=this.refs.content_badge;return this.state.tooltip_show&&content_badge&&description&&type!=="unrated"}},{key:"render",value:function render(){var _props2=this.props,clip_id=_props2.clip_id,size=_props2.size,type=_props2.type,is_editable=_props2.is_editable,message=_props2.message,description=_props2.description;var badge_size="badge--"+size;var classlist=(0,_classnames2.default)("iris_badge iris_badge-rating","iris_badge--"+type,badge_size);var inline_style={display:"inline-block",position:"relative"};if(is_editable){return _react2.default.createElement("div",{style:inline_style},_react2.default.createElement("a",{ref:"content_badge",href:"/"+clip_id+"/settings#clip_settings_rating",className:classlist,title:(0,_i18n.translate)("Change your content filter preference"),"data-size":"sm",onMouseOver:this._handleBadgeMouseOver,onMouseOut:this._handleBadgeMouseOut},message),this._shouldShowTooltip()?_react2.default.createElement("span",{className:"iris_tooltip iris_tooltip-badge iris_tooltip--dark iris_tooltip--lts"},description):null)}return _react2.default.createElement("div",{style:inline_style},_react2.default.createElement("span",{ref:"content_badge",className:classlist,"data-size":"sm",onMouseOver:this._handleBadgeMouseOver,onMouseOut:this._handleBadgeMouseOut},message),this._shouldShowTooltip()?_react2.default.createElement("span",{className:"iris_tooltip iris_tooltip-badge iris_tooltip--dark iris_tooltip--lts"},description):null)}}]);return ContentRatingBadge}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"_handleBadgeMouseOver",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleBadgeMouseOver"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_handleBadgeMouseOut",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleBadgeMouseOut"),_class.prototype),_class);ContentRatingBadge.propTypes={clip_id:_react2.default.PropTypes.number,message:_react2.default.PropTypes.string.isRequired,size:_react2.default.PropTypes.string,type:_react2.default.PropTypes.string,is_editable:_react2.default.PropTypes.bool};exports.default=ContentRatingBadge;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _UserPortrait=__webpack_require__(539);var _UserPortrait2=_interopRequireDefault(_UserPortrait);var _FollowButton=__webpack_require__(541);var _FollowButton2=_interopRequireDefault(_FollowButton);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ViewerAction=function(_React$Component){_inherits(ViewerAction,_React$Component);function ViewerAction(){_classCallCheck(this,ViewerAction);return _possibleConstructorReturn(this,(ViewerAction.__proto__||Object.getPrototypeOf(ViewerAction)).apply(this,arguments))}_createClass(ViewerAction,[{key:"render",value:function render(){var _props=this.props,owner=_props.owner,cur_user=_props.cur_user,onFollowClick=_props.onFollowClick;var follow_comp=owner.is_following?"unfollow":"follow";var fatal_attr="container:clip_description|component:"+follow_comp+"|keyword:"+owner.id;return _react2.default.createElement("div",{className:"clip_info-actions"},_react2.default.createElement("div",{className:"clip_info-user_actions"},_react2.default.createElement(_UserPortrait2.default,{user:owner})),_react2.default.createElement("div",{className:"clip_info-user_actions"},_react2.default.createElement(_FollowButton2.default,{autoMargins:false,followId:owner.id,isFollowing:owner.is_following,onClick:onFollowClick,format:"outline",isLoggedIn:!!cur_user,dataFatalAttraction:fatal_attr})))}}]);return ViewerAction}(_react2.default.Component);exports.default=ViewerAction;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _ReviewPage=__webpack_require__(552);var _ReviewPage2=_interopRequireDefault(_ReviewPage);var _iris_icon_settings_=__webpack_require__(322);var _iris_icon_settings_2=_interopRequireDefault(_iris_icon_settings_);var _Button=__webpack_require__(247);var _Button2=_interopRequireDefault(_Button);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var OwnerAction=function(_React$Component){_inherits(OwnerAction,_React$Component);function OwnerAction(){_classCallCheck(this,OwnerAction);return _possibleConstructorReturn(this,(OwnerAction.__proto__||Object.getPrototypeOf(OwnerAction)).apply(this,arguments))}_createClass(OwnerAction,[{key:"render",value:function render(){var _props=this.props,clip=_props.clip,review_page_url=_props.review_page_url;return _react2.default.createElement("div",{className:"clip_info-actions"},_react2.default.createElement("a",{href:"/"+clip.id+"/settings",title:(0,_i18n.translate)("Edit Settings")},_react2.default.createElement(_Button2.default,{format:"alternative",icon:_react2.default.createElement(_iris_icon_settings_2.default,null),isButtonElement:false},(0,_i18n.translate)("Settings"))),_react2.default.createElement(_ReviewPage2.default,{review_page_url:review_page_url}))}}]);return OwnerAction}(_react2.default.Component);exports.default=OwnerAction;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _iris_icon_link_=__webpack_require__(553);var _iris_icon_link_2=_interopRequireDefault(_iris_icon_link_);var _Button=__webpack_require__(247);var _Button2=_interopRequireDefault(_Button);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var ReviewPage=function ReviewPage(_ref){var review_page_url=_ref.review_page_url;if(!review_page_url){return null}return _react2.default.createElement("a",{className:"review_page__button",href:review_page_url,target:"_blank",rel:"nofollow"},_react2.default.createElement(_Button2.default,{format:"alternative",icon:_react2.default.createElement(_iris_icon_link_2.default,null),isButtonElement:false},(0,_i18n.translate)("Review page")))};ReviewPage.propTypes={review_page_url:_react2.default.PropTypes.string,toolTip:_react2.default.PropTypes.bool.isRequired};exports.default=ReviewPage;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconLink16",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M4 12c-2.206 0-4-1.794-4-4s1.794-4 4-4h3c2.206 0 4 1.794 4 4a1 1 0 1 1-2 0c0-1.103-.897-2-2-2H4c-1.103 0-2 .897-2 2s.897 2 2 2a1 1 0 1 1 0 2z"}),React.createElement("path",{d:"M12 12H9c-2.206 0-4-1.794-4-4a1 1 0 1 1 2 0c0 1.103.897 2 2 2h3c1.103 0 2-.897 2-2s-.897-2-2-2a1 1 0 1 1 0-2c2.206 0 4 1.794 4 4s-1.794 4-4 4z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _ClipPrivacyIcon=__webpack_require__(537);var _Time=__webpack_require__(538);var _Time2=_interopRequireDefault(_Time);var _VODAction=__webpack_require__(555);var _VODAction2=_interopRequireDefault(_VODAction);var _OwnerAction=__webpack_require__(551);var _OwnerAction2=_interopRequireDefault(_OwnerAction);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ClipInfoVOD=function(_React$Component){_inherits(ClipInfoVOD,_React$Component);function ClipInfoVOD(){_classCallCheck(this,ClipInfoVOD);return _possibleConstructorReturn(this,(ClipInfoVOD.__proto__||Object.getPrototypeOf(ClipInfoVOD)).apply(this,arguments))}_createClass(ClipInfoVOD,[{key:"render",value:function render(){var _props=this.props,clip=_props.clip,owner=_props.owner,cur_user=_props.cur_user,ondemand=_props.ondemand,review_page_url=_props.review_page_url;var is_owner=cur_user&&cur_user.id===owner.id;var ViewerOrOwnerAction=!is_owner?_VODAction2.default:_OwnerAction2.default;return _react2.default.createElement("div",{className:"clip_info-vod l-clearfix"},_react2.default.createElement("div",{className:"clip_info-header clip_info-header--vod"},_react2.default.createElement("h1",null,(0,_ClipPrivacyIcon.maybePrivacyIcon)(clip.privacy),clip.title)),_react2.default.createElement("div",null,_react2.default.createElement("a",{className:"clip_info-link--vod",href:ondemand.url},_react2.default.createElement("img",{className:"clip_info--vod-img",src:ondemand.poster.src,srcSet:ondemand.poster.src_2x+" 2x",alt:""})),_react2.default.createElement("div",{className:"clip_info-subline--vod"},_react2.default.createElement("span",{className:"from"},(0,_i18n.translate)("from {VOD_TITLE}",{VOD_TITLE:_react2.default.createElement("a",{className:"iris_link iris_link--loud iris_link--gray-1",href:ondemand.url},ondemand.title)})," ",_react2.default.createElement(_Time2.default,{clip:clip})),_react2.default.createElement(ViewerOrOwnerAction,{clip:clip,review_page_url:review_page_url,ondemand:ondemand}))))}}]);return ClipInfoVOD}(_react2.default.Component);exports.default=ClipInfoVOD;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _constants=__webpack_require__(264);var _OnDemandPurchaseButton=__webpack_require__(258);var _OnDemandPurchaseButton2=_interopRequireDefault(_OnDemandPurchaseButton);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var maybeOnDemandPurchaseButton=function maybeOnDemandPurchaseButton(_ref){var predicate=_ref.predicate,props=_objectWithoutProperties(_ref,["predicate"]);return predicate()?_react2.default.createElement(_OnDemandPurchaseButton2.default,props):null};var VODAction=function(_React$Component){_inherits(VODAction,_React$Component);function VODAction(){_classCallCheck(this,VODAction);return _possibleConstructorReturn(this,(VODAction.__proto__||Object.getPrototypeOf(VODAction)).apply(this,arguments))}_createClass(VODAction,[{key:"render",value:function render(){var ondemand=this.props.ondemand;var isBlockedOrComingSoon=function isBlockedOrComingSoon(){return ondemand.is_geo_blocked||ondemand.is_coming_soon};var base={format:"secondary",ondemand:ondemand};var rent=_extends({predicate:function predicate(){return ondemand.allows_rent&&!isBlockedOrComingSoon()},product_type:_constants.Products.RENT,"data-fatal-attraction":"container:clip_description|component:vod_rent|keyword:"+ondemand.id},base);var buy=_extends({predicate:function predicate(){return ondemand.allows_buy&&!isBlockedOrComingSoon()},product_type:_constants.Products.BUY,"data-fatal-attraction":"container:clip_description|component:vod_buy|keyword:"+ondemand.id},base);var subscribe=_extends({predicate:function predicate(){return ondemand.allows_subscription&&!isBlockedOrComingSoon()},product_type:_constants.Products.SUBSCRIBE,"data-fatal-attraction":"container:clip_description|component:vod_subscribe|keyword:"+ondemand.id},base);var blocked={predicate:isBlockedOrComingSoon,format:"secondary",ondemand:ondemand,view_title:true};return _react2.default.createElement("div",{className:"clip_info-actions"},maybeOnDemandPurchaseButton(blocked),maybeOnDemandPurchaseButton(rent),maybeOnDemandPurchaseButton(buy),maybeOnDemandPurchaseButton(subscribe))}}]);return VODAction}(_react2.default.Component);exports.default=VODAction;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(64);var _IrisNotification=__webpack_require__(331);var _IrisNotification2=_interopRequireDefault(_IrisNotification);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var levels=_IrisNotification.IrisNotificationConstants.levels,modifiers=_IrisNotification.IrisNotificationConstants.modifiers;var ClipNotification=function ClipNotification(_ref){var onDismissed=_ref.onDismissed,dismissal_key=_ref.dismissal_key,message=_ref.message,level=_ref.level;return _react2.default.createElement(_IrisNotification2.default,{className:"iris_notification-clip",modifiers:!dismissal_key?[modifiers.NO_CLOSE]:[],onDismiss:function onDismiss(){return onDismissed({dismissal_key:dismissal_key})},level:level},_react2.default.createElement("div",{dangerouslySetInnerHTML:{__html:message}}))};ClipNotification.propTypes={message:_react2.default.PropTypes.string.isRequired,dismissal_key:_react2.default.PropTypes.oneOfType([_react2.default.PropTypes.string,_react2.default.PropTypes.number]),level:_react2.default.PropTypes.oneOf((0,_lodash.values)(levels)),onDismissed:_react2.default.PropTypes.func};exports.default=ClipNotification;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(64);var _Button=__webpack_require__(247);var _Button2=_interopRequireDefault(_Button);var _DownloadButton=__webpack_require__(558);var _DownloadButton2=_interopRequireDefault(_DownloadButton);var _ShareButton=__webpack_require__(559);var _ShareButton2=_interopRequireDefault(_ShareButton);var _i18n=__webpack_require__(37);var _iris_icon_collections_=__webpack_require__(250);var _iris_icon_collections_2=_interopRequireDefault(_iris_icon_collections_);var _iris_icon_comment_=__webpack_require__(528);var _iris_icon_comment_2=_interopRequireDefault(_iris_icon_comment_);var _iris_icon_breakout_=__webpack_require__(560);var _iris_icon_breakout_2=_interopRequireDefault(_iris_icon_breakout_);var _iris_icon_like_=__webpack_require__(224);var _iris_icon_like_2=_interopRequireDefault(_iris_icon_like_);var _iris_icon_plays_=__webpack_require__(530);var _iris_icon_plays_2=_interopRequireDefault(_iris_icon_plays_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ClipDetails=function(_React$Component){_inherits(ClipDetails,_React$Component);function ClipDetails(){_classCallCheck(this,ClipDetails);return _possibleConstructorReturn(this,(ClipDetails.__proto__||Object.getPrototypeOf(ClipDetails)).apply(this,arguments))}_createClass(ClipDetails,[{key:"componentDidMount",value:function componentDidMount(){this.props.didMount(this)}},{key:"componentDidUpdate",value:function componentDidUpdate(prev_props,prev_state){this.props.didUpdate(prev_props,prev_state,this.props,this.state)}},{key:"render",value:function render(){var _props=this.props,clip_id=_props.clip_id,is_liked=_props.is_liked,description=_props.description,downloads_enabled=_props.downloads_enabled,share_enabled=_props.share_enabled,wipster_enabled=_props.wipster_enabled,stats=_props.stats,likes_url=_props.likes_url,shareClick=_props.shareClick,commentsClick=_props.commentsClick,descriptionClick=_props.descriptionClick,checkboxToggle=_props.checkboxToggle,do_truncate=_props.do_truncate,openDownload=_props.openDownload;return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"l-clearfix"},_react2.default.createElement("div",{className:"clip_details__stats iris_span-7"},_react2.default.createElement(PlayStats,{stats:stats}),_react2.default.createElement(LikeStats,{is_liked:is_liked,likes_url:likes_url,stats:stats}),_react2.default.createElement(CollectionStats,{clip_id:clip_id,stats:stats}),_react2.default.createElement(CommentStats,{stats:stats,commentsClick:commentsClick})),_react2.default.createElement("div",{className:"clip_details-actions iris_span-last-9 l-text-right"},wipster_enabled?_react2.default.createElement(WipsterButton,{clip_id:clip_id}):null,downloads_enabled?_react2.default.createElement(_DownloadButton2.default,{is_responsive:true,format:"outline--secondary",clip_id:clip_id,openDownload:openDownload}):null,share_enabled?_react2.default.createElement(_ShareButton2.default,{clip_id:clip_id,format:"outline--secondary",responsive:"true","data-fatal-attraction":"container:clip_description|component:share|keyword:"+clip_id,onClick:shareClick}):null)),_react2.default.createElement("div",{className:"clip_details-description description-wrapper iris_desc"},do_truncate?_react2.default.createElement("input",{className:"iris_desc-reveal",id:"read-more",type:"checkbox",onChange:checkboxToggle}):null,description&&description.length>0?_react2.default.createElement("div",{className:"iris_desc-content description-content"+(do_truncate?" iris_desc--truncated iris_fader iris_fader--after iris_fader--absolute iris_fader--gray-2":""),dir:"auto",dangerouslySetInnerHTML:{__html:description},ref:"description_content",onClick:descriptionClick}):null,do_truncate?_react2.default.createElement("label",{className:"clip_details-more iris_desc-label",htmlFor:"read-more"},(0,_i18n.translate)("Read more…")):null))}}]);return ClipDetails}(_react2.default.Component);ClipDetails.propTypes={clip_id:_react2.default.PropTypes.number.isRequired,stats:_react2.default.PropTypes.object.isRequired,description:_react2.default.PropTypes.string,downloads_enabled:_react2.default.PropTypes.bool,share_enabled:_react2.default.PropTypes.bool,wipster_enabled:_react2.default.PropTypes.bool,shareClick:_react2.default.PropTypes.func,commentsClick:_react2.default.PropTypes.func,descriptionClick:_react2.default.PropTypes.func,checkboxToggle:_react2.default.PropTypes.func,openDownload:_react2.default.PropTypes.func,didMount:_react2.default.PropTypes.func,didUpdate:_react2.default.PropTypes.func};ClipDetails.defaultProps={downloads_enabled:false,share_enabled:false,wipster_enabled:false,shareClick:_lodash.noop,commentsClick:_lodash.noop,descriptionClick:_lodash.noop,checkboxToggle:_lodash.noop,openDownload:_lodash.noop,didMount:_lodash.noop,didUpdate:_lodash.noop};var PlayStats=function PlayStats(props){var stats=props.stats;if(!stats||!stats.total_plays){return null}var play_count_title=(0,_i18n.translate)("{COUNT} Play",{COUNT:stats.total_plays.formatted},stats.total_plays.raw!==1,{plural:"{COUNT} Plays"}).join("");var aria_label_plays=(0,_i18n.translate)("{COUNT} Play",{COUNT:stats.total_plays.raw},stats.total_plays.raw!==1,{plural:"{COUNT} Plays"}).join("");return _react2.default.createElement("div",{className:"clip_details__stats-item iris_quickstats__item",title:play_count_title,"aria-label":aria_label_plays},_react2.default.createElement(_iris_icon_plays_2.default,{className:"iris_quickstats__icon iris_ic is--16"}),_react2.default.createElement("span",null,stats.total_plays.formatted))};var LikeStats=function LikeStats(props){var stats=props.stats,is_liked=props.is_liked,likes_url=props.likes_url;if(!stats||!stats.total_likes){return null}var like_count_title=(0,_i18n.translate)("{COUNT} Like",{COUNT:stats.total_likes.formatted},stats.total_likes.raw!==1,{plural:"{COUNT} Likes"}).join("");var aria_label_likes=(0,_i18n.translate)("{COUNT} Like",{COUNT:stats.total_likes.raw},stats.total_likes.raw!==1,{plural:"{COUNT} Likes"}).join("");return _react2.default.createElement("a",{className:"clip_details__stats-item iris_quickstats__item",title:like_count_title,href:likes_url,"aria-label":aria_label_likes},is_liked?_react2.default.createElement(_iris_icon_like_2.default,{className:"iris_quickstats__icon iris_quickstats__liked iris_ic is--16"}):null,_react2.default.createElement(_iris_icon_like_2.default,{className:"iris_quickstats__icon iris_ic is--16"}),_react2.default.createElement("span",null,stats.total_likes.formatted))};var CommentStats=function CommentStats(props){var stats=props.stats,commentsClick=props.commentsClick;if(!stats||!stats.total_comments){return null}var comment_count_title=(0,_i18n.translate)("{COUNT} Comment",{COUNT:stats.total_comments.formatted},stats.total_comments.raw!==1,{plural:"{COUNT} Comments"}).join("");var aria_label_comments=(0,_i18n.translate)("{COUNT} Comment",{COUNT:stats.total_comments.raw},stats.total_comments.raw!==1,{plural:"{COUNT} Comments"}).join("");return _react2.default.createElement("a",{className:"clip_details__stats-item iris_quickstats__item",title:comment_count_title,href:"#comments","aria-label":aria_label_comments,onClick:commentsClick},_react2.default.createElement(_iris_icon_comment_2.default,{
className:"iris_quickstats__icon iris_ic is--16"}),_react2.default.createElement("span",null,stats.total_comments.formatted))};var CollectionStats=function CollectionStats(props){var stats=props.stats,clip_id=props.clip_id;if(!stats||!stats.total_collections){return null}var collection_count_title=(0,_i18n.translate)("{COUNT} Collection",{COUNT:stats.total_collections.formatted},stats.total_collections.raw!==1,{plural:"{COUNT} Collections"}).join("");var aria_label_collections=(0,_i18n.translate)("{COUNT} Collection",{COUNT:stats.total_collections.raw},stats.total_collections.raw!==1,{plural:"{COUNT} Collections"}).join("");return _react2.default.createElement("a",{className:"clip_details__stats-item iris_quickstats__item",title:collection_count_title,href:"/"+clip_id+"/collections","aria-label":aria_label_collections},_react2.default.createElement(_iris_icon_collections_2.default,{className:"iris_quickstats__icon iris_ic is--16"}),_react2.default.createElement("span",null,stats.total_collections.formatted))};var WipsterButton=function WipsterButton(_ref){var clip_id=_ref.clip_id;return _react2.default.createElement("a",{className:"clip-details__wipster-button-link",href:"https://app.wipster.io/vimeo/review/"+clip_id+"?utm_source=vimeo.com&utm_medium=referral&utm_campaign=vimeo",rel:"nofollow",target:"_blank","data-fatal-attraction":"component:wipster|keyword:wipster_connected"},_react2.default.createElement(_Button2.default,{autoWidth:"xs",format:"secondaryOutline",icon:_react2.default.createElement(_iris_icon_breakout_2.default,null),isButtonElement:false},"Wipster"))};exports.default=ClipDetails;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(64);var _Button=__webpack_require__(247);var _Button2=_interopRequireDefault(_Button);var _i18n=__webpack_require__(37);var _iris_icon_download_=__webpack_require__(261);var _iris_icon_download_2=_interopRequireDefault(_iris_icon_download_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var DownloadButton=function(_React$Component){_inherits(DownloadButton,_React$Component);function DownloadButton(){_classCallCheck(this,DownloadButton);return _possibleConstructorReturn(this,(DownloadButton.__proto__||Object.getPrototypeOf(DownloadButton)).apply(this,arguments))}_createClass(DownloadButton,[{key:"render",value:function render(){var _props=this.props,format=_props.format,size=_props.size,responsive=_props.responsive,openDownload=_props.openDownload;var autoWidth="xs";if(responsive==="true"){autoWidth="md"}var buttonFormat=void 0;switch(format){case"outline--primary":buttonFormat="primaryOutline";break;case"outline--secondary":buttonFormat="secondaryOutline";break;case"secondary":buttonFormat="secondary";break;case"primary":buttonFormat="primary";break;default:buttonFormat="alternative"}return _react2.default.createElement(_Button2.default,{autoWidth:autoWidth,format:buttonFormat,icon:_react2.default.createElement(_iris_icon_download_2.default,null),size:size,type:"button",onClick:openDownload,"data-fatal-attraction":this.props["data-fatal-attraction"]},(0,_i18n.translate)("Download"))}}]);return DownloadButton}(_react2.default.Component);DownloadButton.propTypes={clip_id:_react2.default.PropTypes.number.isRequired,format:_react2.default.PropTypes.string,size:_react2.default.PropTypes.string,is_responsive:_react2.default.PropTypes.bool,openDownload:_react2.default.PropTypes.func};DownloadButton.defaultProps={openDownload:_lodash.noop};exports.default=DownloadButton;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(64);var _i18n=__webpack_require__(37);var _Button=__webpack_require__(247);var _Button2=_interopRequireDefault(_Button);var _iris_icon_share_=__webpack_require__(245);var _iris_icon_share_2=_interopRequireDefault(_iris_icon_share_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ShareButton=function(_React$Component){_inherits(ShareButton,_React$Component);function ShareButton(){_classCallCheck(this,ShareButton);return _possibleConstructorReturn(this,(ShareButton.__proto__||Object.getPrototypeOf(ShareButton)).apply(this,arguments))}_createClass(ShareButton,[{key:"render",value:function render(){var _props=this.props,format=_props.format,size=_props.size,responsive=_props.responsive,onClick=_props.onClick;var autoWidth=responsive==="true"?"md":"xs";var buttonFormat=void 0;switch(format){case"outline--primary":buttonFormat="primaryOutline";break;case"outline--secondary":buttonFormat="secondaryOutline";break;case"secondary":buttonFormat="secondary";break;case"primary":buttonFormat="primary";break;default:buttonFormat="alternative"}return _react2.default.createElement(_Button2.default,{autoWidth:autoWidth,format:buttonFormat,icon:_react2.default.createElement(_iris_icon_share_2.default,null),size:size,type:"button",onClick:onClick,"data-fatal-attraction":this.props["data-fatal-attraction"]},(0,_i18n.translate)("Share"))}}]);return ShareButton}(_react2.default.Component);ShareButton.propTypes={format:_react2.default.PropTypes.string,size:_react2.default.PropTypes.string,is_responsive:_react2.default.PropTypes.bool,onClick:_react2.default.PropTypes.func,"data-fatal-attraction":_react2.default.PropTypes.string};ShareButton.defaultProps={onClick:_lodash.noop};exports.default=ShareButton;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconBreakout16",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M15 10a1 1 0 0 0-1 1v3H2V2h3a1 1 0 0 0 0-2H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1z"}),React.createElement("path",{d:"M15 0h-4a1 1 0 0 0 0 2h1.586L8.293 6.293a1 1 0 0 0 1.414 1.414L14 3.414V5a1 1 0 0 0 2 0V1a1 1 0 0 0-1-1z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _MusicTrack=__webpack_require__(562);var _MusicTrack2=_interopRequireDefault(_MusicTrack);var _ClipCredit=__webpack_require__(564);var _ClipCredit2=_interopRequireDefault(_ClipCredit);var _ClipCategory=__webpack_require__(565);var _ClipCategory2=_interopRequireDefault(_ClipCategory);var _ClipPhoto=__webpack_require__(566);var _ClipPhoto2=_interopRequireDefault(_ClipPhoto);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ClipExtras=function(_React$Component){_inherits(ClipExtras,_React$Component);function ClipExtras(){_classCallCheck(this,ClipExtras);return _possibleConstructorReturn(this,(ClipExtras.__proto__||Object.getPrototypeOf(ClipExtras)).apply(this,arguments))}_createClass(ClipExtras,[{key:"render",value:function render(){var _props=this.props,available_columns=_props.available_columns,credits=_props.credits,total_credits=_props.total_credits,categories_config=_props.categories_config,music_track=_props.music_track,photos=_props.photos,clip_id=_props.clip_id;var MaybeMusicTrack=null;var MaybeCredits=null;var MaybeCategories=null;var MaybeTrackCreditsOrCategories=null;var MaybePhotos=null;var has_music=typeof music_track!=="undefined"&&music_track!==null;var has_credits=typeof credits!=="undefined"&&credits!==null&&credits.length;var has_categories=typeof categories_config!=="undefined"&&typeof categories_config.categories!=="undefined"&&categories_config.categories&&categories_config.categories.length;var has_photos=typeof photos!=="undefined"&&photos.length;if(has_credits||has_categories||has_music){if(has_music){if(has_credits&has_categories){MaybeMusicTrack=_react2.default.createElement("div",{className:"clip-extras-trackCreditCat"},_react2.default.createElement("h2",{className:"clip-extras-header iris_header iris_header--16"},(0,_i18n.translate)("1 Track")),_react2.default.createElement(_MusicTrack2.default,music_track))}else if(!has_credits&has_categories){MaybeMusicTrack=_react2.default.createElement("div",{className:"iris_span-4 clip-extras-musicCat"},_react2.default.createElement("h2",{className:"clip-extras-header iris_header iris_header--16"},(0,_i18n.translate)("1 Track")),_react2.default.createElement(_MusicTrack2.default,music_track))}else if(has_credits){MaybeMusicTrack=_react2.default.createElement("div",{className:"iris_span-4"},_react2.default.createElement("h2",{className:"clip-extras-header iris_header iris_header--16"},(0,_i18n.translate)("1 Track")),_react2.default.createElement(_MusicTrack2.default,music_track))}else{MaybeMusicTrack=_react2.default.createElement("div",null,_react2.default.createElement("h2",{className:"clip-extras-header iris_header iris_header--16"},"1 Track"),_react2.default.createElement(_MusicTrack2.default,music_track))}}if(has_credits){var MaybeViewAllLink=null;if(total_credits.raw>credits.length){MaybeViewAllLink=_react2.default.createElement("a",{className:"iris_link iris_link--gray-2 iris_link--arrow clip-extras__view-all",href:"/"+clip_id+"/credits","aria-label":(0,_i18n.translate)("View all users credited by this video")},(0,_i18n.translate)("View all"))}if(has_music&&has_categories){MaybeCredits=_react2.default.createElement("div",{className:"clip-extras-trackCreditCat"},_react2.default.createElement("h2",{className:"clip-extras-header iris_header iris_header--16"},(0,_i18n.translate)("{COUNT} Credit",{COUNT:total_credits.formatted},total_credits.raw!==1,{plural:"{COUNT} Credits"})),_react2.default.createElement("div",{className:"clip-credit-wrapper"},credits.map(function(credit,i){return _react2.default.createElement("div",{className:"clip-credit iris_span-4",key:"credit_"+i},_react2.default.createElement(_ClipCredit2.default,_extends({},credit,{clip_id:clip_id})))})),MaybeViewAllLink)}else if(has_categories&&!has_music){MaybeCredits=_react2.default.createElement("div",{className:total_credits.raw>2?"iris_span-12 clip-extras-creditCat clip-extras-creditCat--3credits":"iris_span-12 clip-extras-creditCat"},_react2.default.createElement("h2",{className:"clip-extras-header iris_header iris_header--16"},(0,_i18n.translate)("{COUNT} Credit",{COUNT:total_credits.formatted},total_credits.raw!==1,{plural:"{COUNT} Credits"})),_react2.default.createElement("div",{className:"clip-credit-wrapper"},credits.map(function(credit,i){return _react2.default.createElement("div",{className:"clip-credit iris_span-4",key:"credit_"+i},_react2.default.createElement(_ClipCredit2.default,_extends({},credit,{clip_id:clip_id})))})),MaybeViewAllLink)}else if(!has_categories&&has_music){MaybeCredits=_react2.default.createElement("div",{className:"clip-extras-trackCredit iris_span-12"},_react2.default.createElement("h2",{className:"clip-extras-header iris_header iris_header--16"},(0,_i18n.translate)("{COUNT} Credit",{COUNT:total_credits.formatted},total_credits.raw!==1,{plural:"{COUNT} Credits"})),_react2.default.createElement("div",{className:"clip-credit-wrapper"},credits.map(function(credit,i){return _react2.default.createElement("div",{className:"clip-credit iris_span-4",key:"credit_"+i},_react2.default.createElement(_ClipCredit2.default,_extends({},credit,{clip_id:clip_id})))})),MaybeViewAllLink)}else{MaybeCredits=_react2.default.createElement("div",{className:"iris_span-16"},_react2.default.createElement("h2",{className:"clip-extras-header iris_header iris_header--16"},(0,_i18n.translate)("{COUNT} Credit",{COUNT:total_credits.formatted},total_credits.raw!==1,{plural:"{COUNT} Credits"})),_react2.default.createElement("div",{className:"clip-credit-wrapper"},credits.map(function(credit,i){return _react2.default.createElement("div",{key:"credit_"+i,className:"clip-credit iris_span-4"},_react2.default.createElement(_ClipCredit2.default,_extends({},credit,{clip_id:clip_id})))})),MaybeViewAllLink)}}if(has_categories){var categories=categories_config.categories,total_categories=categories_config.total_categories;var _MaybeViewAllLink=null;if(total_categories>categories.length){_MaybeViewAllLink=_react2.default.createElement("a",{className:"iris_link iris_link--gray-2 iris_link--arrow clip-extras__view-all",href:"/"+clip_id+"/collections","aria-label":(0,_i18n.translate)("View all categories associated with this video")},(0,_i18n.translate)("View all"))}if(has_music&&has_credits){MaybeCategories=_react2.default.createElement("div",{className:"clip-extras-trackCreditCat"},_react2.default.createElement("h2",{className:"clip-extras-header iris_header iris_header--16"},(0,_i18n.translate)("{COUNT} Category",{COUNT:total_categories},total_categories!==1,{plural:"{COUNT} Categories"})),_react2.default.createElement("div",{className:"clip-categories"},categories.map(function(category,i){return _react2.default.createElement(_ClipCategory2.default,{key:"category_"+i,name:category.name,url:category.url})})),_MaybeViewAllLink)}else if(!has_music&&has_credits){MaybeCategories=_react2.default.createElement("div",{className:"clip-extras-creditCat"},_react2.default.createElement("h2",{className:"clip-extras-header iris_header iris_header--16"},(0,_i18n.translate)("{COUNT} Category",{COUNT:total_categories},total_categories!==1,{plural:"{COUNT} Categories"})),_react2.default.createElement("div",{className:"clip-categories"},categories.map(function(category,i){return _react2.default.createElement(_ClipCategory2.default,{key:"category_"+i,name:category.name,url:category.url})})),_MaybeViewAllLink)}else if(!has_music&&!has_credits){MaybeCategories=_react2.default.createElement("div",null,_react2.default.createElement("h2",{className:"clip-extras-header iris_header iris_header--16"},(0,_i18n.translate)("{COUNT} Category",{COUNT:total_categories},total_categories!==1,{plural:"{COUNT} Categories"})),_react2.default.createElement("div",{className:"clip-categories"},categories.map(function(category,i){return _react2.default.createElement(_ClipCategory2.default,{key:"category_"+i,name:category.name,url:category.url})})),_MaybeViewAllLink)}else{MaybeCategories=_react2.default.createElement("div",{className:"clip-extras-musicCat"},_react2.default.createElement("h2",{className:"clip-extras-header iris_header iris_header--16"},(0,_i18n.translate)("{COUNT} Category",{COUNT:total_categories},total_categories!==1,{plural:"{COUNT} Categories"})),_react2.default.createElement("div",{className:"clip-categories"},categories.map(function(category,i){return _react2.default.createElement(_ClipCategory2.default,{key:"category_"+i,name:category.name,url:category.url})})),_MaybeViewAllLink)}}MaybeTrackCreditsOrCategories=_react2.default.createElement("div",{className:"l-clearfix"},_react2.default.createElement("div",{className:"iris_grid-content"},_react2.default.createElement("div",{className:"clip-extras"},MaybeMusicTrack,MaybeCredits,MaybeCategories)))}if(has_photos){var total_photos=photos.length;if(has_credits||has_music||has_categories){if(available_columns===24){MaybePhotos=_react2.default.createElement("div",{className:"iris_divider--dark iris_divider-top iris_divider-top--pm"},_react2.default.createElement("div",{className:"iris_photos-clip iris_grid-content"},_react2.default.createElement("h2",{className:"clip-extras-header iris_header iris_header--16"},(0,_i18n.translate)("{COUNT} Photo",{COUNT:total_photos},total_photos!==1,{plural:"{COUNT} Photos"})),photos.map(function(photo,i){return _react2.default.createElement(_ClipPhoto2.default,_extends({key:"photo_"+i},photo))})))}else{MaybePhotos=_react2.default.createElement("div",{className:" iris_divider--dark iris_divider-top iris_divider-top--pm"},_react2.default.createElement("div",{className:"iris_photos-clip iris_grid-content"},_react2.default.createElement("div",{className:"iris_photos-clip"},_react2.default.createElement("h2",{className:"clip-extras-header iris_header iris_header--16"},(0,_i18n.translate)("{COUNT} Photo",{COUNT:total_photos},total_photos!==1,{plural:"{COUNT} Photos"})),photos.map(function(photo,i){return _react2.default.createElement(_ClipPhoto2.default,_extends({key:"photo_"+i},photo))}))))}}else{MaybePhotos=_react2.default.createElement("div",{className:"iris_photos-clip iris_grid-content"},_react2.default.createElement("h2",{className:"clip-extras-header iris_header iris_header--16"},(0,_i18n.translate)("{COUNT} Photo",{COUNT:total_photos},total_photos!==1,{plural:"{COUNT} Photos"})),photos.map(function(photo,i){return _react2.default.createElement(_ClipPhoto2.default,_extends({key:"photo_"+i},photo))}))}}if(MaybeTrackCreditsOrCategories===null&&MaybePhotos===null){return null}return _react2.default.createElement("div",{className:"iris_divider-bot iris_divider--dark iris_divider-bot--pm"},MaybeTrackCreditsOrCategories,MaybePhotos)}}]);return ClipExtras}(_react2.default.Component);ClipExtras.propTypes={clip_id:_react2.default.PropTypes.number.isRequired,available_columns:_react2.default.PropTypes.number,categories_config:_react2.default.PropTypes.object,credits:_react2.default.PropTypes.array,total_credits:_react2.default.PropTypes.object,music_track:_react2.default.PropTypes.object,photos:_react2.default.PropTypes.array};exports.default=ClipExtras;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _i18n=__webpack_require__(37);var _iris_icon_music_=__webpack_require__(563);var _iris_icon_music_2=_interopRequireDefault(_iris_icon_music_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var MusicTrack=function(_React$Component){_inherits(MusicTrack,_React$Component);function MusicTrack(){_classCallCheck(this,MusicTrack);return _possibleConstructorReturn(this,(MusicTrack.__proto__||Object.getPrototypeOf(MusicTrack)).apply(this,arguments))}_createClass(MusicTrack,[{key:"render",value:function render(){var _props=this.props,title=_props.title,artist=_props.artist,album_artwork=_props.album_artwork,album_artwork_2x=_props.album_artwork_2x,url=_props.url;return _react2.default.createElement("div",{className:"iris_track"},_react2.default.createElement("a",{className:"iris_track-img-wrapper",href:url,rel:"nofollow",target:"_blank"},album_artwork?_react2.default.createElement("img",{className:"iris_track-img",src:album_artwork,srcSet:album_artwork_2x+" 2x",alt:title+" album artwork"}):_react2.default.createElement("div",{className:"iris_track-default"},_react2.default.createElement(_iris_icon_music_2.default,{className:"iris_ic is--24"}))),_react2.default.createElement("div",{className:"iris_track-content l-ellipsis"},_react2.default.createElement("a",{className:"iris_link iris_link--gray-2 iris_link--loud",href:url,rel:"nofollow",target:"_blank"},title),_react2.default.createElement("p",{className:"iris_track-subtitle l-ellipsis"},(0,_i18n.translate)("by {ARTIST_NAME}",{ARTIST_NAME:artist}))))}}]);return MusicTrack}(_react2.default.Component);MusicTrack.propTypes={title:_react2.default.PropTypes.string,artist:_react2.default.PropTypes.string,album_artwork:_react2.default.PropTypes.string,album_artwork_2x:_react2.default.PropTypes.string,url:_react2.default.PropTypes.string};exports.default=MusicTrack;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconMusic16",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M14.836.014l-10 1.667A.999.999 0 0 0 4 2.667v7.517A2.962 2.962 0 0 0 3 10a3 3 0 1 0 3 3V5.486l8-1.333v4.031A2.962 2.962 0 0 0 13 8a3 3 0 1 0 3 3V1a1 1 0 0 0-1.164-.986z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _UserLink=__webpack_require__(273);var _UserLink2=_interopRequireDefault(_UserLink);var _UserPortrait=__webpack_require__(539);var _UserPortrait2=_interopRequireDefault(_UserPortrait);var _ClipActions=__webpack_require__(8);var _ClipActions2=_interopRequireDefault(_ClipActions);var _i18n=__webpack_require__(37);var _iris_icon_delete_=__webpack_require__(544);var _iris_icon_delete_2=_interopRequireDefault(_iris_icon_delete_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ClipCredit=function(_React$Component){_inherits(ClipCredit,_React$Component);function ClipCredit(){_classCallCheck(this,ClipCredit);return _possibleConstructorReturn(this,(ClipCredit.__proto__||Object.getPrototypeOf(ClipCredit)).apply(this,arguments))}_createClass(ClipCredit,[{key:"_handleRemoveCredit",value:function _handleRemoveCredit(e){var _props=this.props,id=_props.id,clip_id=_props.clip_id;_ClipActions2.default.removeCredit(clip_id,id)}},{key:"render",value:function render(){var _props2=this.props,user=_props2.user,role=_props2.role,can_delete=_props2.can_delete,format=_props2.format;var user_name=user.display_name;var MaybeRemoveCreditButton=null;if(can_delete){MaybeRemoveCreditButton=_react2.default.createElement("button",{className:"clip-credit-close",type:"button",title:(0,_i18n.translate)("Remove credit"),onClick:this._handleRemoveCredit.bind(this)},_react2.default.createElement(_iris_icon_delete_2.default,{className:"iris_ic is--12"}))}return _react2.default.createElement("div",{className:"iris_uservital iris_uservital--credits"},_react2.default.createElement(_UserPortrait2.default,{className:"iris_uservital-portrait",user:user}),_react2.default.createElement("div",{className:"iris_uservital-content l-ellipsis"},_react2.default.createElement(_UserLink2.default,{url:user.url,display_name:user_name,format:user.url?"header":null,ellipsis:"true"}),_react2.default.createElement("p",{className:"iris_uservital-subline l-ellipsis"},role),MaybeRemoveCreditButton))}}]);return ClipCredit}(_react2.default.Component);ClipCredit.propTypes={clip_id:_react2.default.PropTypes.number.isRequired,id:_react2.default.PropTypes.number.isRequired,user:_react2.default.PropTypes.object.isRequired,role:_react2.default.PropTypes.string,can_delete:_react2.default.PropTypes.bool};exports.default=ClipCredit;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _Button=__webpack_require__(247);var _Button2=_interopRequireDefault(_Button);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ClipCategory=function(_React$Component){_inherits(ClipCategory,_React$Component);function ClipCategory(){_classCallCheck(this,ClipCategory);
return _possibleConstructorReturn(this,(ClipCategory.__proto__||Object.getPrototypeOf(ClipCategory)).apply(this,arguments))}_createClass(ClipCategory,[{key:"render",value:function render(){var _props=this.props,name=_props.name,url=_props.url;return _react2.default.createElement("a",{href:url},_react2.default.createElement(_Button2.default,{autoWidth:"xs",format:"secondary",isButtonElement:false,size:"sm"},name))}}]);return ClipCategory}(_react2.default.Component);ClipCategory.propTypes={name:_react2.default.PropTypes.string.isRequired,url:_react2.default.PropTypes.string.isRequired};exports.default=ClipCategory;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ClipPhoto=function(_React$Component){_inherits(ClipPhoto,_React$Component);function ClipPhoto(){_classCallCheck(this,ClipPhoto);return _possibleConstructorReturn(this,(ClipPhoto.__proto__||Object.getPrototypeOf(ClipPhoto)).apply(this,arguments))}_createClass(ClipPhoto,[{key:"render",value:function render(){var _props=this.props,page_url=_props.page_url,medium=_props.medium;return _react2.default.createElement("a",{href:page_url,target:"_blank",rel:"nofollow"},_react2.default.createElement("img",{className:"photos-clip",src:medium,srcSet:medium+" 2x",alt:""}))}}]);return ClipPhoto}(_react2.default.Component);ClipPhoto.propTypes={page_url:_react2.default.PropTypes.string.isRequired,medium:_react2.default.PropTypes.string.isRequired};exports.default=ClipPhoto;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _autobindDecorator=__webpack_require__(58);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);var _objectAssign=__webpack_require__(9);var _objectAssign2=_interopRequireDefault(_objectAssign);var _ClipActions=__webpack_require__(8);var _ClipActions2=_interopRequireDefault(_ClipActions);var _ClipCommentsStore=__webpack_require__(59);var _ClipCommentsStore2=_interopRequireDefault(_ClipCommentsStore);var _Comment=__webpack_require__(568);var _Comment2=_interopRequireDefault(_Comment);var _ClipCommentsLoadMore=__webpack_require__(572);var _ClipCommentsLoadMore2=_interopRequireDefault(_ClipCommentsLoadMore);var _DeepLinkedComment=__webpack_require__(574);var _DeepLinkedComment2=_interopRequireDefault(_DeepLinkedComment);var _DisabledMessage=__webpack_require__(576);var _DisabledMessage2=_interopRequireDefault(_DisabledMessage);var _CommentForm=__webpack_require__(578);var _CommentForm2=_interopRequireDefault(_CommentForm);var _CommentStates=__webpack_require__(35);var _CommentStates2=_interopRequireDefault(_CommentStates);var _Throbber=__webpack_require__(60);var _Throbber2=_interopRequireDefault(_Throbber);var _VimeoApp=__webpack_require__(20);var _VimeoApp2=_interopRequireDefault(_VimeoApp);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var MINI_BAR_OFFSET=139;var ENTER_KEY=13;var header_styles={marginBottom:"20px"};var ClipComments=(_class=function(_React$Component){_inherits(ClipComments,_React$Component);function ClipComments(props){_classCallCheck(this,ClipComments);var _this=_possibleConstructorReturn(this,(ClipComments.__proto__||Object.getPrototypeOf(ClipComments)).call(this,props));_this.state=(0,_objectAssign2.default)({},{comment_form_open:false,is_commenting:false},_ClipCommentsStore2.default.getState());return _this}_createClass(ClipComments,[{key:"componentDidMount",value:function componentDidMount(){_ClipCommentsStore2.default.addChangeListener(this._handleStoreChange.bind(this))}},{key:"componentDidUpdate",value:function componentDidUpdate(prev_props,prev_state){var is_loading=this.state.is_loading;if(is_loading){return}if(prev_state.is_loading){this._checkForUrlHash()}}},{key:"render",value:function render(){var _this2=this;var _props=this.props,clip_id=_props.clip_id,is_owner=_props.is_owner,cur_user=_props.cur_user,available_columns=_props.available_columns;var _state=this.state,is_loading=_state.is_loading,comments=_state.comments,comments_enabled=_state.comments_enabled,total_comments=_state.total_comments,total_comments_formatted=_state.total_comments_formatted,active_comment=_state.active_comment,has_next_page=_state.has_next_page,remaining_comments=_state.remaining_comments,next_page_loading=_state.next_page_loading,loading_more_comments=_state.loading_more_comments,deep_linked_comment=_state.deep_linked_comment,comment_form_open=_state.comment_form_open,is_commenting=_state.is_commenting,social_apps=_state.social_apps,tweet_preview=_state.tweet_preview,comment_text=_state.comment_text;if(is_loading){return _react2.default.createElement("div",{className:"iris_throbber-wrapper"},_react2.default.createElement(_Throbber2.default,null,(0,_i18n.translate)("Loading")))}if(!comments_enabled&&total_comments===0){return _react2.default.createElement("section",{className:comments_enabled?"iris_comments-container":"",id:"comments"},_react2.default.createElement(_DisabledMessage2.default,{clip_id:clip_id,is_owner:is_owner}))}var CommentHeaderText=(0,_i18n.translate)("Leave the first comment:");if(total_comments>0){CommentHeaderText=(0,_i18n.translate)("{COUNT} Comment",{COUNT:total_comments_formatted},total_comments!==1,{plural:"{COUNT} Comments"})}return _react2.default.createElement("section",{id:"comments"},_react2.default.createElement("h2",{className:"iris_header iris_header--18",style:total_comments<=0?header_styles:{}},CommentHeaderText),deep_linked_comment?_react2.default.createElement(_DeepLinkedComment2.default,{deep_linked_comment:deep_linked_comment,active_comment:active_comment,onReplyClick:this._handleReplyClick,onReply:this._handleCommentReply,onTimecodeClick:this._handleTimecodeClick,onStateChange:this._handleActiveCommentChange}):null,has_next_page&&remaining_comments>0?_react2.default.createElement(_ClipCommentsLoadMore2.default,{next_page_loading:next_page_loading,button_copy:loading_more_comments?_react2.default.createElement("div",{className:"comment-load-throbber"},_react2.default.createElement(_Throbber2.default,null)):(0,_i18n.translate)("Load {COUNT} previous comment",{COUNT:this.state.more_comments_count},this.state.more_comments_count!==1,{plural:"Load {COUNT} previous comments"}).join(""),onClick:this._handleLoadMoreClick}):null,_react2.default.createElement("div",{className:"iris_comments-list"},comments.map(function(comment,i){return _react2.default.createElement(_Comment2.default,{key:"comment_"+i,comments_enabled:comments_enabled,available_columns:available_columns,comment:comment,active_comment:active_comment,active_ui_state:active_comment.id===comment.id?active_comment.ui_state:_CommentStates2.default.COMMENT_STATE_DEFAULT,is_reply:comment.is_reply,include_replies:true,onReplyClick:_this2._handleReplyClick,onEdit:_this2._handleCommentEdit,onDelete:_this2._handleCommentDelete,onMarkSpam:_this2._handleCommentSpam,onReply:_this2._handleCommentReply,onPermalinkClick:_this2._handlePermalinkClick,onTimecodeClick:_this2._handleTimecodeClick,onStateChange:_this2._handleActiveCommentChange,content_id:clip_id,content_type:"clip",dataFatalAttraction:{"data-fatal-attraction":"container:clip_page|component:user_profile_link|keyword:comment"}})})),comments_enabled?_react2.default.createElement(_CommentForm2.default,{ref:"comment_form",total_comments:total_comments,comment_form_open:comment_form_open,comment_text:comment_text,user:cur_user,social_apps:social_apps,tweet_preview:tweet_preview,is_commenting:is_commenting,onSubmit:this._handleCommentSubmit,onFocus:this._handleCommentFormFocus,onChange:this._handleCommentFormChange,onKeyDown:this._handleKeyDown,onSocialChange:this._handleSocialChange}):_react2.default.createElement(_DisabledMessage2.default,{clip_id:clip_id,is_owner:is_owner}))}},{key:"_checkForUrlHash",value:function _checkForUrlHash(){var _this3=this;setTimeout(function(){var url_hash=window.location.hash.split("#")[1];if(/comment_[0-9]+/.test(url_hash)){var deep_link_comment=document.getElementById(url_hash);if(deep_link_comment){if(typeof deep_link_comment.scrollIntoView==="function"){deep_link_comment.scrollIntoView();window.scrollTo(0,window.pageYOffset-MINI_BAR_OFFSET)}}else if(!_this3.state.did_check_deeplinks&&!_this3.state.deep_link_comment){_ClipActions2.default.loadDeepLinkedComment(_this3.props.clip_id,parseInt(url_hash.split("comment_")[1],10)).then(_this3._checkForUrlHash)}}else if(url_hash==="add_comment"){var add_comment=document.getElementById("add_comment");if(typeof add_comment.scrollIntoView==="function"){add_comment.scrollIntoView();window.scrollTo(0,window.pageYOffset-MINI_BAR_OFFSET)}}},15)}},{key:"_handleStoreChange",value:function _handleStoreChange(e){this.setState((0,_objectAssign2.default)({},this.state,_ClipCommentsStore2.default.getState()))}},{key:"_handlePageClick",value:function _handlePageClick(e){var target=e.target;var container=this.refs.comment_form;var clicked_container=target===container;var clicked_inside_container=$(container).find($(target)).length>0&&!$(target).hasClass("js-comment-add-actions");var clicked_outside_container=!clicked_container&&!clicked_inside_container;if(clicked_outside_container&&!this.state.is_commenting){this.setState({comment_form_open:false});window.removeEventListener("click",this._handlePageClick)}}},{key:"_handleCommentFormChange",value:function _handleCommentFormChange(e,comment_text){var _this4=this;this.setState({is_commenting:comment_text.length>0},function(){_ClipActions2.default.updateNewCommentValue(comment_text,_this4.props.clip_title,_this4.props.clip_id)})}},{key:"_handleLoadMoreClick",value:function _handleLoadMoreClick(e){var _state2=this.state,is_preview=_state2.is_preview,page=_state2.page;var clip_id=this.props.clip_id;var next_page=is_preview?1:page+1;e.preventDefault();_ClipActions2.default.loadComments(clip_id,next_page,false)}},{key:"_handleCommentFormFocus",value:function _handleCommentFormFocus(e){var _this5=this;e.persist();if(this.props.cur_user===null){_ClipActions2.default.openLogin();return}else if(!this.props.cur_user.verified){_ClipActions2.default.openUnverified();return}this.setState({comment_form_open:true});setTimeout(function(){window.addEventListener("click",_this5._handlePageClick)},200);if(window.vimeo.cur_user.can_mention){if(window.vimeo.cur_user.following&&window.vimeo.cur_user.tags){this._initializeTribute(e);return}_VimeoApp2.default.user(this.props.cur_user.id).following.get("get_following_for_mentions",{object_id:this.props.clip_id,type:"clip"}).then(function(response){return response.json()}).then(function(response){window.vimeo.cur_user.following=response.users;window.vimeo.cur_user.tags=response.tags;_this5._initializeTribute(e)})}}},{key:"_handleCommentSubmit",value:function _handleCommentSubmit(e){e.preventDefault();var _props2=this.props,ondemand=_props2.ondemand,clip_id=_props2.clip_id;var comment_text=this.state.comment_text;var is_ondemand=ondemand!==null;var object_id=is_ondemand?ondemand.id:clip_id;if(this.state.is_commenting){_ClipActions2.default.addComment(object_id,comment_text,null,is_ondemand);this.refs.comment_form.reset();this.setState({total_comments:this.state.total_comments+1,comment_form_open:false,is_commenting:false})}}},{key:"_handleCommentReply",value:function _handleCommentReply(e){var _props3=this.props,ondemand=_props3.ondemand,clip_id=_props3.clip_id;var is_ondemand=ondemand!==null;var object_id=is_ondemand?ondemand.id:clip_id;_ClipActions2.default.addComment(object_id,e.comment_text,e.reply_to_comment_id,is_ondemand)}},{key:"_handleCommentEdit",value:function _handleCommentEdit(e){var _props4=this.props,ondemand=_props4.ondemand,clip_id=_props4.clip_id;var is_ondemand=ondemand!==null;var object_id=is_ondemand?ondemand.id:clip_id;_ClipActions2.default.editComment(object_id,e.comment_id,e.comment_text,is_ondemand)}},{key:"_handleCommentDelete",value:function _handleCommentDelete(e){var _props5=this.props,ondemand=_props5.ondemand,clip_id=_props5.clip_id;var is_ondemand=ondemand!==null;var object_id=is_ondemand?ondemand.id:clip_id;_ClipActions2.default.deleteComment(object_id,e.comment_id,e.reply_to_comment_id,is_ondemand);this.setState({total_comments:this.state.total_comments-1})}},{key:"_handleCommentSpam",value:function _handleCommentSpam(e){var clip_id=this.props.clip_id;_ClipActions2.default.markSpamComment(clip_id,e.comment_id,e.reply_to_comment_id)}},{key:"_handlePermalinkClick",value:function _handlePermalinkClick(e){this._checkForUrlHash()}},{key:"_handleTimecodeClick",value:function _handleTimecodeClick(e){_ClipActions2.default.seekClip(e.seconds)}},{key:"_handleReplyClick",value:function _handleReplyClick(e){if(this.props.cur_user===null){_ClipActions2.default.openLogin();e.stopPropagation()}else if(!this.props.cur_user.verified){_ClipActions2.default.openUnverified();e.stopPropagation()}}},{key:"_handleActiveCommentChange",value:function _handleActiveCommentChange(e){var comment=e.comment,ui_state=e.ui_state;_ClipActions2.default.setActiveComment(comment,ui_state)}},{key:"_handleSocialChange",value:function _handleSocialChange(social_provider,e){if(!this.state.social_apps[social_provider].is_connected){_ClipActions2.default.connectSocialCommenting(social_provider)}else{_ClipActions2.default.toggleSocialCommenting(this.props.cur_user.id,social_provider,e.target.checked)}}},{key:"_initializeTribute",value:function _initializeTribute(e){if(!e.target.hasAttribute("data-tribute")){var t=new Tribute({collection:[{values:window.vimeo.cur_user.following,menuItemTemplate:function menuItemTemplate(item){return'<div class="suggestion"><div class="list_item"><img class="portrait portrait_sm" src="'+item.original.img+'" srcset="'+item.original.retina+'"><div>'+item.original.key+"</div></div></div>"},selectClass:"selected"},{trigger:"#",values:window.vimeo.cur_user.tags,menuItemTemplate:function menuItemTemplate(item){return'<div class="suggestion"><div class="list_item"><div>'+item.original.key+"</div></div></div>"},selectTemplate:function selectTemplate(item){return"#"+item.original.value},selectClass:"selected"}]});t.attach(e.target)}}},{key:"_handleKeyDown",value:function _handleKeyDown(e){if(e.keyCode===ENTER_KEY&&(e.metaKey||e.ctrlKey)){e.target.blur();this._handleCommentSubmit(e)}}}]);return ClipComments}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"_handlePageClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handlePageClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_handleCommentFormChange",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleCommentFormChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_handleLoadMoreClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleLoadMoreClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_handleCommentFormFocus",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleCommentFormFocus"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_handleCommentSubmit",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleCommentSubmit"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_handleCommentReply",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleCommentReply"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_handleCommentEdit",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleCommentEdit"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_handleCommentDelete",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleCommentDelete"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_handleCommentSpam",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleCommentSpam"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_handlePermalinkClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handlePermalinkClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_handleReplyClick",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleReplyClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_handleSocialChange",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleSocialChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_handleKeyDown",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleKeyDown"),_class.prototype),_class);ClipComments.propTypes={clip_id:_react2.default.PropTypes.number.isRequired,clip_title:_react2.default.PropTypes.string.isRequired,uploader_twitter_handle:_react2.default.PropTypes.string,cur_user:_react2.default.PropTypes.object,is_owner:_react2.default.PropTypes.bool,ondemand:_react2.default.PropTypes.object};exports.default=ClipComments;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=undefined;var _Comment=__webpack_require__(569);var _Comment2=_interopRequireDefault(_Comment);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_Comment2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _UserLink=__webpack_require__(273);var _UserLink2=_interopRequireDefault(_UserLink);var _UserPortrait=__webpack_require__(539);var _UserPortrait2=_interopRequireDefault(_UserPortrait);var _CommentStates=__webpack_require__(35);var _CommentStates2=_interopRequireDefault(_CommentStates);var _VimeoApp=__webpack_require__(20);var _VimeoApp2=_interopRequireDefault(_VimeoApp);var _i18n=__webpack_require__(37);var _iris_icon_warning_=__webpack_require__(348);var _iris_icon_warning_2=_interopRequireDefault(_iris_icon_warning_);var _iris_icon_link_=__webpack_require__(570);var _iris_icon_link_2=_interopRequireDefault(_iris_icon_link_);var _iris_icon_pin_=__webpack_require__(571);var _iris_icon_pin_2=_interopRequireDefault(_iris_icon_pin_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ENTER_KEY=13;var Comment=function(_React$Component){_inherits(Comment,_React$Component);function Comment(props){_classCallCheck(this,Comment);var _this=_possibleConstructorReturn(this,(Comment.__proto__||Object.getPrototypeOf(Comment)).call(this,props));_this.state={has_input_focus:false,comment_text:_this.props.comment.text,comment_text_plain:_this.props.comment.plaintext,is_mouse_over:false};_this._handleReplyTextAreaKeyDown=_this._handleReplyTextAreaKeyDown.bind(_this);_this._handleInputBlur=_this._handleInputBlur.bind(_this);_this._handleReplyChange=_this._handleReplyChange.bind(_this);_this._handlePermalinkClick=_this._handlePermalinkClick.bind(_this);_this._handleEditClick=_this._handleEditClick.bind(_this);_this._handleInputFocus=_this._handleInputFocus.bind(_this);_this._handleInputBlur=_this._handleInputBlur.bind(_this);_this._handleEditChange=_this._handleEditChange.bind(_this);_this._handleTimecodeClick=_this._handleTimecodeClick.bind(_this);_this._handleReplySubmit=_this._handleReplySubmit.bind(_this);_this._handleReplyCancel=_this._handleReplyCancel.bind(_this);_this._handleEditSubmit=_this._handleEditSubmit.bind(_this);_this._handleEditCancel=_this._handleEditCancel.bind(_this);_this._handleDeleteClick=_this._handleDeleteClick.bind(_this);_this._handleDeleteSubmit=_this._handleDeleteSubmit.bind(_this);_this._handleDeleteCancel=_this._handleDeleteCancel.bind(_this);_this._handleMarkSpamClick=_this._handleMarkSpamClick.bind(_this);_this._handleMarkSpamSubmit=_this._handleMarkSpamSubmit.bind(_this);_this._handleMarkSpamCancel=_this._handleMarkSpamCancel.bind(_this);_this._handleReplyClick=_this._handleReplyClick.bind(_this);_this._handleMouseOver=_this._handleMouseOver.bind(_this);_this._handleMouseOut=_this._handleMouseOut.bind(_this);return _this}_createClass(Comment,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){var new_text=nextProps.comment.text;var new_plain_text=nextProps.comment.plaintext;var currently_rendered_plain_text=this.state.comment_text_plain||this.props.comment.plaintext;if(new_plain_text!==currently_rendered_plain_text){this.setState({comment_text:new_text,comment_text_plain:new_plain_text})}}},{key:"componentDidMount",value:function componentDidMount(){var _this2=this;var video_times=this.refs.commentText.querySelectorAll(".video_time");video_times.forEach(function(video_time){video_time.addEventListener("click",_this2._handleTimecodeClick)})}},{key:"componentWillUnmount",value:function componentWillUnmount(){var _this3=this;var video_times=this.refs.commentText.querySelectorAll(".video_time");video_times.forEach(function(video_time){video_time.removeEventListener("click",_this3._handleTimecodeClick)})}},{key:"_setActiveState",value:function _setActiveState(ui_state){var _props=this.props,onStateChange=_props.onStateChange,comment=_props.comment;if(typeof onStateChange!=="function"){return}onStateChange({comment:comment,ui_state:ui_state})}},{key:"_renderCommentActions",value:function _renderCommentActions(){var _props2=this.props,comment=_props2.comment,is_deeplink=_props2.is_deeplink;if(is_deeplink){return _react2.default.createElement("div",{className:"iris_notification-close--notice"},_react2.default.createElement(_iris_icon_pin_2.default,{className:"iris_ic is--12"}))}return _react2.default.createElement("div",{className:"iris_comment-actions "+(!this.state.is_mouse_over?"is--hidden":null)},this._renderEditLink(),this._renderSpamLink(),this._renderDeleteLink(),_react2.default.createElement("a",{className:"iris_comment-permalink",href:"#comment_"+comment.id,title:(0,_i18n.translate)("Permalink to this comment"),onClick:this._handlePermalinkClick},_react2.default.createElement(_iris_icon_link_2.default,{className:"iris_ic is--12"})))}},{key:"_renderContent",value:function _renderContent(){var _props3=this.props,comment=_props3.comment,active_ui_state=_props3.active_ui_state;if(comment.permissions.can_edit&&active_ui_state===_CommentStates2.default.COMMENT_STATE_EDITING){return this._renderEditForm()}return _react2.default.createElement("div",{ref:"commentText",className:"iris_comment-text",dangerouslySetInnerHTML:{__html:this.state.comment_text}})}},{key:"_renderReplies",value:function _renderReplies(parent_comment){if(!parent_comment.replies||!parent_comment.replies.length){return null}var _props4=this.props,active_comment=_props4.active_comment,onEdit=_props4.onEdit,onDelete=_props4.onDelete,onReply=_props4.onReply,onMarkSpam=_props4.onMarkSpam,onPermalinkClick=_props4.onPermalinkClick,onTimecodeClick=_props4.onTimecodeClick,onStateChange=_props4.onStateChange,creatorId=_props4.creatorId;return _react2.default.createElement("div",{className:"iris_comment-replies l-clearfix"},parent_comment.replies.map(function(comment){return _react2.default.createElement(Comment,{key:"comment_"+comment.id,comment:comment,creatorId:creatorId,active_ui_state:active_comment&&active_comment.id===comment.id?active_comment.ui_state:_CommentStates2.default.COMMENT_STATE_DEFAULT,is_reply:true,include_replies:false,onEdit:onEdit,onDelete:onDelete,onReply:onReply,onMarkSpam:onMarkSpam,onPermalinkClick:onPermalinkClick,onTimecodeClick:onTimecodeClick,onStateChange:onStateChange})}))}},{key:"_renderReplyForm",value:function _renderReplyForm(){if(this.props.active_ui_state!==_CommentStates2.default.COMMENT_STATE_REPLYING){return null}var placeholder=this.state.has_input_focus?"":(0,_i18n.translate)("Reply to this comment");return _react2.default.createElement("form",{className:(this.state.has_input_focus?"is_focused":"")+" iris_comment-reply iris_span-last-15",onSubmit:this._handleReplySubmit,onReset:this._handleReplyCancel},_react2.default.createElement("textarea",{className:"js-reply_form iris_form_textarea--full iris_form_textarea",ref:"reply_text",placeholder:placeholder,autoFocus:true,"aria-required":true,onKeyDown:this._handleReplyTextAreaKeyDown,onFocus:this._handleInputFocus,onBlur:this._handleInputBlur,onChange:this._handleReplyChange}),_react2.default.createElement("div",{className:"iris_comment-reply-actions"},_react2.default.createElement("button",{className:"js-reply_submit_button iris_btn iris_btn--secondary reply_text_btn",type:"submit",ref:"reply_text_btn",disabled:true},(0,_i18n.translate)("Add reply")),_react2.default.createElement("button",{className:"iris_btn iris_btn--md iris_btn-utility iris_btn-utility--transparent",type:"reset"},(0,_i18n.translate)("Cancel")),_react2.default.createElement("span",{className:"iris_comment-reply-subline"},_react2.default.createElement("a",{href:"/help/guidelines#community",target:"_blank"},(0,_i18n.translate)("Remember to be cool and play nice!")))))}},{key:"_renderEditLink",value:function _renderEditLink(){if(!this.props.comment.permissions.can_edit){return null}return _react2.default.createElement("button",{className:"js-edit_link iris_comment-actions-edit",onClick:this._handleEditClick},(0,_i18n.translate)("Edit"))}},{key:"_renderEditForm",value:function _renderEditForm(){if(!this.props.comment.permissions.can_edit||this.props.active_ui_state!==_CommentStates2.default.COMMENT_STATE_EDITING){return null}return _react2.default.createElement("form",{className:(this.state.has_input_focus?"is_focused":"")+" iris_comment-reply iris_comment-reply-edit js-edit_form",onSubmit:this._handleEditSubmit,onReset:this._handleEditCancel},_react2.default.createElement("textarea",{className:"js-edit_textarea iris_form_textarea--full iris_form_textarea",ref:"comment_textarea",defaultValue:this.state.comment_text_plain,"aria-required":true,onFocus:this._handleInputFocus,onBlur:this._handleInputBlur,onChange:this._handleEditChange}),_react2.default.createElement("div",{className:"iris_comment-reply-actions"},_react2.default.createElement("button",{className:"js-edit_submit_button iris_btn iris_btn--secondary edit_reply_btn",type:"submit",ref:"edit_reply_btn",disabled:true},"Edit comment"),_react2.default.createElement("button",{className:"iris_btn iris_btn-outline iris_btn-outline--downplay",type:"reset"},(0,_i18n.translate)("Cancel")),_react2.default.createElement("span",{className:"iris_comment-reply-subline"},_react2.default.createElement("a",{href:"/help/guidelines#community",target:"_blank"},(0,_i18n.translate)("Remember to be cool and play nice!")))))}},{key:"_renderDeleteLink",value:function _renderDeleteLink(){if(!this.props.comment.permissions.can_delete){return null}return _react2.default.createElement("button",{className:"js-delete_link iris_comment-actions-delete",
onClick:this._handleDeleteClick},(0,_i18n.translate)("Delete"))}},{key:"_renderDeleteForm",value:function _renderDeleteForm(){if(!this.props.comment.permissions.can_delete||this.props.active_ui_state!==_CommentStates2.default.COMMENT_STATE_DELETING){return null}return _react2.default.createElement("div",{className:"js-delete_comment_notification clip-comment-notification iris_notification iris_notification--full iris_notification--warning comment-reply"},_react2.default.createElement("div",{className:"iris_notification--warning-icon"},_react2.default.createElement(_iris_icon_warning_2.default,{className:"iris_ic is--16"})),_react2.default.createElement("p",null,(0,_i18n.translate)("Are you sure you want delete this comment permanently?")),_react2.default.createElement("div",{className:"iris_comment-reply-actions"},_react2.default.createElement("button",{className:"js-delete_submit_button iris_btn iris_btn--negative",type:"button",onClick:this._handleDeleteSubmit},"Delete comment"),_react2.default.createElement("button",{className:"iris_btn iris_btn-outline iris_btn-outline--negative",type:"button",onClick:this._handleDeleteCancel},"Cancel")))}},{key:"_renderSpamLink",value:function _renderSpamLink(){if(!this.props.comment.permissions.can_mark_spam){return null}return _react2.default.createElement("button",{className:"iris_comment-actions-delete",onClick:this._handleMarkSpamClick},"Mark as Spam")}},{key:"_renderSpamForm",value:function _renderSpamForm(){if(!this.props.comment.permissions.can_mark_spam||this.props.active_ui_state!==_CommentStates2.default.COMMENT_STATE_FLAGGING){return null}return _react2.default.createElement("div",{className:"clip-comment-notification iris_notification iris_notification--full iris_notification--caution comment-reply"},_react2.default.createElement("div",{className:"iris_notification--caution-icon"},_react2.default.createElement(_iris_icon_warning_2.default,{className:"iris_ic is--16"})),_react2.default.createElement("p",null,"Are you sure you want to mark this comment as spam?"),_react2.default.createElement("div",{className:"comment-reply-actions"},_react2.default.createElement("button",{className:"iris_btn iris_btn--yellow",type:"button",onClick:this._handleMarkSpamSubmit},"Mark as Spam"),_react2.default.createElement("button",{className:"iris_btn iris_btn-outline iris_btn-outline--yellow",type:"button",onClick:this._handleMarkSpamCancel},"Cancel")))}},{key:"_handleReplyTextAreaKeyDown",value:function _handleReplyTextAreaKeyDown(e){if(e.keyCode===ENTER_KEY&&(e.metaKey||e.ctrlKey)){this._handleReplySubmit(e)}}},{key:"_handleInputFocus",value:function _handleInputFocus(e){var _this4=this;e.persist();this.setState({has_input_focus:true});if(!this.props.disableMentions&&window.vimeo.cur_user.can_mention){if(window.vimeo.cur_user.following&&window.vimeo.cur_user.tags){return this._initializeTribute(e)}_VimeoApp2.default.user(window.vimeo.cur_user.id).following.get("get_following_for_mentions",{object_id:this.props.content_id,type:this.props.content_type}).then(function(response){return response.json()}).then(function(response){window.vimeo.cur_user.following=response.users;window.vimeo.cur_user.tags=response.tags;_this4._initializeTribute(e)})}}},{key:"_handleInputBlur",value:function _handleInputBlur(e){this.setState({has_input_focus:false})}},{key:"_handleReplyChange",value:function _handleReplyChange(e){var comment_text=this.refs.reply_text.value;var reply_btn=this.refs.reply_text_btn;if(comment_text.length<=0){reply_btn.disabled=true}else{reply_btn.disabled=false}}},{key:"_handleReplyClick",value:function _handleReplyClick(e){e.preventDefault();if(this.props.onReplyClick){this.props.onReplyClick(e)}if(!e.isPropagationStopped()){this._setActiveState(_CommentStates2.default.COMMENT_STATE_REPLYING)}}},{key:"_handleReplySubmit",value:function _handleReplySubmit(e){e.preventDefault();if(this.props.onReply){this.props.onReply({comment_text:this.refs.reply_text.value,reply_to_comment_id:this.props.comment.id})}this._setActiveState(_CommentStates2.default.COMMENT_STATE_DEFAULT)}},{key:"_handleReplyCancel",value:function _handleReplyCancel(e){this._setActiveState(_CommentStates2.default.COMMENT_STATE_DEFAULT)}},{key:"_handleEditClick",value:function _handleEditClick(e){this._setActiveState(_CommentStates2.default.COMMENT_STATE_EDITING)}},{key:"_handleEditChange",value:function _handleEditChange(e){var comment_text=this.refs.comment_textarea.value;var reply_btn=this.refs.edit_reply_btn;this.setState({comment_text:comment_text});if(comment_text.length<=0){reply_btn.disabled=true}else{reply_btn.disabled=false}}},{key:"_handleEditSubmit",value:function _handleEditSubmit(e){e.preventDefault();var comment_text=this.refs.comment_textarea.value;if(this.props.onEdit){this.props.onEdit({comment_id:this.props.comment.id,comment_text:comment_text})}this._setActiveState(_CommentStates2.default.COMMENT_STATE_DEFAULT)}},{key:"_handleEditCancel",value:function _handleEditCancel(e){this.setState({comment_text:this.props.comment.text});this._setActiveState(_CommentStates2.default.COMMENT_STATE_DEFAULT)}},{key:"_handleDeleteClick",value:function _handleDeleteClick(e){this._setActiveState(_CommentStates2.default.COMMENT_STATE_DELETING)}},{key:"_handleDeleteSubmit",value:function _handleDeleteSubmit(e){e.preventDefault();if(this.props.onDelete){this.props.onDelete({comment_id:this.props.comment.id,reply_to_comment_id:this.props.comment.reply_to_comment_id})}this._setActiveState(_CommentStates2.default.COMMENT_STATE_DEFAULT)}},{key:"_handleMouseOver",value:function _handleMouseOver(e){e.stopPropagation();this.setState({is_mouse_over:true})}},{key:"_handleMouseOut",value:function _handleMouseOut(e){e.stopPropagation();this.setState({is_mouse_over:false})}},{key:"_handleDeleteCancel",value:function _handleDeleteCancel(e){this._setActiveState(_CommentStates2.default.COMMENT_STATE_DEFAULT)}},{key:"_handleMarkSpamClick",value:function _handleMarkSpamClick(e){this._setActiveState(_CommentStates2.default.COMMENT_STATE_FLAGGING)}},{key:"_handleMarkSpamSubmit",value:function _handleMarkSpamSubmit(e){e.preventDefault();var _props5=this.props,comment=_props5.comment,onMarkSpam=_props5.onMarkSpam;if(onMarkSpam){onMarkSpam({comment_id:comment.id,reply_to_comment_id:comment.reply_to_comment_id})}this._setActiveState(_CommentStates2.default.COMMENT_STATE_DEFAULT)}},{key:"_handleMarkSpamCancel",value:function _handleMarkSpamCancel(e){this._setActiveState(_CommentStates2.default.COMMENT_STATE_DEFAULT)}},{key:"_handlePermalinkClick",value:function _handlePermalinkClick(e){var _props6=this.props,comment=_props6.comment,onPermalinkClick=_props6.onPermalinkClick;if(onPermalinkClick){onPermalinkClick({comment:comment})}}},{key:"_handleTimecodeClick",value:function _handleTimecodeClick(e){var onTimecodeClick=this.props.onTimecodeClick;if(onTimecodeClick){onTimecodeClick({seconds:e.target.getAttribute("data-time")})}}},{key:"_initializeTribute",value:function _initializeTribute(e){if(!e.target.hasAttribute("data-tribute")){var t=new Tribute({collection:[{values:window.vimeo.cur_user.following,menuItemTemplate:function menuItemTemplate(item){return'<div class="suggestion"><div class="list_item"><img class="portrait portrait_sm" src="'+item.original.img+'" srcset="'+item.original.retina+'"><div>'+item.original.key+"</div></div></div>"},selectClass:"selected"},{trigger:"#",values:window.vimeo.cur_user.tags,menuItemTemplate:function menuItemTemplate(item){return'<div class="suggestion"><div class="list_item"><div>'+item.original.key+"</div></div></div>"},selectTemplate:function selectTemplate(item){return"#"+item.original.value},selectClass:"selected"}]});t.attach(e.target)}}},{key:"render",value:function render(){var _props7=this.props,comment=_props7.comment,is_reply=_props7.is_reply,is_deeplink=_props7.is_deeplink,comments_enabled=_props7.comments_enabled,creatorId=_props7.creatorId,dataFatalAttraction=_props7.dataFatalAttraction;var user=comment.user;var class_name="iris_comment-container l-clearfix";if(is_reply){class_name=class_name+" is_reply clearfix"}if(is_deeplink){class_name=class_name+" iris_notification iris_notification-clip iris_notification--notice iris_notification--deeplink"}var reply_actions=null;if(!is_reply){var reply_link=void 0;if(comments_enabled){reply_link=_react2.default.createElement("button",{className:"js-comment_reply_link iris_comment-btn",type:"button",onClick:this._handleReplyClick},(0,_i18n.translate)("Reply"))}reply_actions=_react2.default.createElement("div",{className:"iris_reply-wrapper iris_span-24 l-collapse-rts"},this._renderReplies(comment),this._renderReplyForm(),reply_link)}var creator_indication=void 0;var reply_creator_indication=void 0;if(creatorId===user.id){creator_indication=is_reply?"":"indicate_creator_comment";reply_creator_indication=is_reply?"indicate_creator_comment":""}return _react2.default.createElement("article",{ref:"comment_wrapper",id:"comment_"+comment.id,className:class_name,onMouseOver:this._handleMouseOver,onMouseOut:this._handleMouseOut},_react2.default.createElement("div",{className:"iris_comment"},_react2.default.createElement("div",null,_react2.default.createElement(_UserPortrait2.default,{dataFatalAttraction:dataFatalAttraction,size:is_reply?"sm":null,format:is_reply?"comment-reply":null,className:"iris_comment-portrait "+creator_indication,user:user})),_react2.default.createElement("div",{className:"iris_comment-body iris_span-22"},_react2.default.createElement("div",{className:"iris_comment-content l-clearfix "+reply_creator_indication},_react2.default.createElement(_UserLink2.default,{dataFatalAttraction:dataFatalAttraction,format:"header",url:user.url,display_name:user.display_name,badge:user.badge}),_react2.default.createElement("time",{dateTime:comment.date,className:"iris_comment-subline"},comment.date_relative),this._renderContent(),this._renderDeleteForm(),this._renderSpamForm()))),this._renderCommentActions(),reply_actions)}}]);return Comment}(_react2.default.Component);Comment.propTypes={comment:_react2.default.PropTypes.shape({id:_react2.default.PropTypes.number.isRequired,user:_react2.default.PropTypes.object.isRequired,date:_react2.default.PropTypes.string.isRequired,text:_react2.default.PropTypes.string.isRequired,plaintext:_react2.default.PropTypes.string.isRequired,permissions:_react2.default.PropTypes.shape({can_edit:_react2.default.PropTypes.bool,can_delete:_react2.default.PropTypes.bool,can_mark_spam:_react2.default.PropTypes.bool}),reply_to_comment_id:_react2.default.PropTypes.number}),active_comment:_react2.default.PropTypes.shape({id:_react2.default.PropTypes.number,ui_state:_react2.default.PropTypes.oneOf(Object.keys(_CommentStates2.default))}),active_ui_state:_react2.default.PropTypes.oneOf(Object.keys(_CommentStates2.default)),is_reply:_react2.default.PropTypes.bool,is_deeplink:_react2.default.PropTypes.bool,comments_enabled:_react2.default.PropTypes.bool,onReplyClick:_react2.default.PropTypes.func,onReply:_react2.default.PropTypes.func,onEdit:_react2.default.PropTypes.func,onDelete:_react2.default.PropTypes.func,onMarkSpam:_react2.default.PropTypes.func,onPermalinkClick:_react2.default.PropTypes.func,onTimecodeClick:_react2.default.PropTypes.func,onStateChange:_react2.default.PropTypes.func,content_id:_react2.default.PropTypes.number,content_type:_react2.default.PropTypes.string};exports.default=Comment;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconLink12",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M5 3H3a3 3 0 1 0 0 6 .5.5 0 0 0 0-1c-1.103 0-2-.897-2-2s.897-2 2-2h2c1.103 0 2 .897 2 2a.5.5 0 0 0 1 0 3 3 0 0 0-3-3z"}),React.createElement("path",{d:"M9 3a.5.5 0 0 0 0 1c1.103 0 2 .897 2 2s-.897 2-2 2H7c-1.103 0-2-.897-2-2a.5.5 0 0 0-1 0 3 3 0 0 0 3 3h2a3 3 0 1 0 0-6z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconPin12",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M1.7 11.7L6 7.4c.6.4 1.3.6 2 .6 2.2 0 4-1.8 4-4s-1.8-4-4-4-4 1.8-4 4c0 .7.2 1.4.6 2L.3 10.3c-.4.4-.4 1 0 1.4.4.4 1 .4 1.4 0z",fill:"#010101"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _ClipCommentsLoadMore=__webpack_require__(573);var _ClipCommentsLoadMore2=_interopRequireDefault(_ClipCommentsLoadMore);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_ClipCommentsLoadMore2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _Button=__webpack_require__(247);var _Button2=_interopRequireDefault(_Button);var _iris_icon_more_=__webpack_require__(543);var _iris_icon_more_2=_interopRequireDefault(_iris_icon_more_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var icon=_react2.default.createElement(_iris_icon_more_2.default,{className:"iris_comment__icon"});var ClipCommentsLoadMore=function ClipCommentsLoadMore(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var next_page_loading=props.next_page_loading,button_copy=props.button_copy,onClick=props.onClick;return _react2.default.createElement(_Button2.default,{autoWidth:"fluid",className:"iris_comment-more"+(next_page_loading?" is-loading":""),format:"secondary",icon:icon,onClick:onClick},button_copy)};exports.default=ClipCommentsLoadMore;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _DeepLinkedComment=__webpack_require__(575);var _DeepLinkedComment2=_interopRequireDefault(_DeepLinkedComment);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_DeepLinkedComment2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _CommentStates=__webpack_require__(35);var _CommentStates2=_interopRequireDefault(_CommentStates);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var DeepLinkedComment=function DeepLinkedComment(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var deep_linked_comment=props.deep_linked_comment,active_comment=props.active_comment,onReplyClick=props.onReplyClick,onReply=props.onReply,onTimecodeClick=props.onTimecodeClick,onStateChange=props.onStateChange;return _react2.default.createElement(Comment,{comment:deep_linked_comment,active_ui_state:active_comment.id===deep_linked_comment.id?active_comment.ui_state:_CommentStates2.default.COMMENT_STATE_DEFAULT,is_reply:false,include_replies:false,is_deeplink:true,onReplyClick:onReplyClick,onReply:onReply,onTimecodeClick:onTimecodeClick,onStateChange:onStateChange})};exports.default=DeepLinkedComment;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _DisabledMessage=__webpack_require__(577);var _DisabledMessage2=_interopRequireDefault(_DisabledMessage);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_DisabledMessage2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var NBSP=" ";var className="iris_notification iris_notification--no-icon iris_notification--notice";var DisabledMessage=function DisabledMessage(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var clip_id=props.clip_id,is_owner=props.is_owner;var disabled=(0,_i18n.translate)("Comments are disabled.");if(is_owner){return _react2.default.createElement("p",{className:className},disabled,NBSP,_react2.default.createElement("a",{href:"/"+clip_id+"/settings/privacy"},(0,_i18n.translate)("Change settings.")))}return _react2.default.createElement("p",{className:className},disabled)};exports.default=DisabledMessage;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _CommentForm=__webpack_require__(579);var _CommentForm2=_interopRequireDefault(_CommentForm);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_CommentForm2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _autobindDecorator=__webpack_require__(58);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);var _ClipCommentImage=__webpack_require__(580);var _ClipCommentImage2=_interopRequireDefault(_ClipCommentImage);var _CommentExtras=__webpack_require__(582);var _CommentExtras2=_interopRequireDefault(_CommentExtras);var _i18n=__webpack_require__(37);var _lodash=__webpack_require__(64);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var form_border_style={borderTop:"1px solid #e3e8e9",paddingTop:"25px"};var CommentForm=(_class=function(_React$Component){_inherits(CommentForm,_React$Component);function CommentForm(){_classCallCheck(this,CommentForm);return _possibleConstructorReturn(this,(CommentForm.__proto__||Object.getPrototypeOf(CommentForm)).apply(this,arguments))}_createClass(CommentForm,[{key:"reset",value:function reset(){this.refs.comment_form.reset()}},{key:"_stopPropagation",value:function _stopPropagation(e){e.stopPropagation()}},{key:"_onChange",value:function _onChange(e){this.props.onChange(e,this.refs.comment_textarea.value)}},{key:"render",value:function render(){var _props=this.props,total_comments=_props.total_comments,comment_form_open=_props.comment_form_open,is_commenting=_props.is_commenting,user=_props.user,social_apps=_props.social_apps,tweet_preview=_props.tweet_preview,comment_text=_props.comment_text,onSubmit=_props.onSubmit,onFocus=_props.onFocus,onKeyDown=_props.onKeyDown,onSocialChange=_props.onSocialChange;var placeholder=comment_form_open?"":(0,_i18n.translate)("Add a comment");return _react2.default.createElement("div",{onClick:this._stopPropagation},_react2.default.createElement("div",{className:"iris_comment-form l-clearfix",ref:"comment_container"},_react2.default.createElement("div",{className:total_comments<=0?"iris_comment-portrait iris_comment-portrait--form":"iris_comment-portrait"},_react2.default.createElement("label",{className:"iris_portrait is-circle",htmlFor:"add_comment"},_react2.default.createElement(_ClipCommentImage2.default,{user:user}))),_react2.default.createElement("form",{ref:"comment_form",style:total_comments<=0?null:form_border_style,className:"iris_comment-body iris_span-22",onSubmit:onSubmit},_react2.default.createElement("div",null,_react2.default.createElement("textarea",{id:"add_comment",className:"iris_form_textarea--full iris_form_textarea iris_form_textarea--primary",ref:"comment_textarea",placeholder:placeholder,value:comment_text,"aria-required":true,"aria-label":(0,_i18n.translate)("Add a new comment"),onFocus:onFocus,onChange:this._onChange,onKeyDown:onKeyDown}),comment_form_open?_react2.default.createElement(_CommentExtras2.default,{user:user,is_commenting:is_commenting,social_apps:social_apps,tweet_preview:tweet_preview,onSocialChange:onSocialChange}):null))))}}]);return CommentForm}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"_onChange",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_onChange"),_class.prototype),_class);CommentForm.propTypes={user:_react2.default.PropTypes.object.isRequired,social_apps:_react2.default.PropTypes.object.isRequired,total_comments:_react2.default.PropTypes.number,comment_form_open:_react2.default.PropTypes.bool,is_commenting:_react2.default.PropTypes.bool,tweet_preview:_react2.default.PropTypes.string,onSubmit:_react2.default.PropTypes.func,onFocus:_react2.default.PropTypes.func,onChange:_react2.default.PropTypes.func,onKeyDown:_react2.default.PropTypes.func,onSocialChange:_react2.default.PropTypes.func};CommentForm.defaultProps={total_comments:0,comment_form_open:false,is_commenting:false,tweet_preview:"",onSubmit:_lodash.noop,onFocus:_lodash.noop,onChange:_lodash.noop,onKeyDown:_lodash.noop,onSocialChange:_lodash.noop};exports.default=CommentForm;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _ClipCommentImage=__webpack_require__(581);var _ClipCommentImage2=_interopRequireDefault(_ClipCommentImage);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_ClipCommentImage2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var srcDefault="https://i1.wp.com/devi.vimeocdn.com/portrait/default-blue_40x40.png?ssl=1";var srcSetDefault="https://i1.wp.com/devi.vimeocdn.com/portrait/default-blue_80x80.png?ssl=1 2x";var ClipCommentImage=function ClipCommentImage(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var user=props.user;var src=void 0,srcSet=void 0;if(!user||!user.hasOwnProperty("portrait")){src=srcDefault;srcSet=srcSetDefault}else{src=user.portrait.src;srcSet=user.portrait.src_2x+" 2x"}return _react2.default.createElement("img",{src:src,srcSet:srcSet,alt:""})};exports.default=ClipCommentImage;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _CommentExtras=__webpack_require__(583);var _CommentExtras2=_interopRequireDefault(_CommentExtras);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_CommentExtras2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _CommentSocialShare=__webpack_require__(584);var _CommentSocialShare2=_interopRequireDefault(_CommentSocialShare);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var CommentExtras=function CommentExtras(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var is_commenting=props.is_commenting,user=props.user,social_apps=props.social_apps,tweet_preview=props.tweet_preview,onSocialChange=props.onSocialChange;return _react2.default.createElement("div",{className:"iris_comment-add-actions js-comment-add-actions"},_react2.default.createElement("button",{className:"js-comment_submit iris_btn iris_btn--secondary",type:"submit",disabled:!is_commenting,"data-fatal-attraction":"container:comment|component:post_comment|keyword:"},(0,_i18n.translate)("Add comment")),_react2.default.createElement("span",{className:"iris_comment-add-subline"},_react2.default.createElement("a",{href:"/help/guidelines#community",target:"_blank"},(0,_i18n.translate)("Remember to be cool and play nice!"))),user===null||!social_apps?null:_react2.default.createElement(_CommentSocialShare2.default,{social_apps:social_apps,tweet_preview:tweet_preview,onSocialChange:onSocialChange}))};exports.default=CommentExtras;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _CommentSocialShare=__webpack_require__(585);var _CommentSocialShare2=_interopRequireDefault(_CommentSocialShare);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_CommentSocialShare2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _desc,_value,_class;var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _autobindDecorator=__webpack_require__(58);var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);var _i18n=__webpack_require__(37);var _iris_icon_warning_=__webpack_require__(348);var _iris_icon_warning_2=_interopRequireDefault(_iris_icon_warning_);var _iris_icon_facebook=__webpack_require__(586);var _iris_icon_facebook2=_interopRequireDefault(_iris_icon_facebook);var _iris_icon_social_twitter_=__webpack_require__(587);var _iris_icon_social_twitter_2=_interopRequireDefault(_iris_icon_social_twitter_);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}var tweetWarning=_react2.default.createElement("span",{className:"iris_comment-add-share-icon-warning"},_react2.default.createElement(_iris_icon_warning_2.default,{className:"iris_ic is--16"}));var CommentSocialShare=(_class=function(_React$Component){_inherits(CommentSocialShare,_React$Component);function CommentSocialShare(){_classCallCheck(this,CommentSocialShare);return _possibleConstructorReturn(this,(CommentSocialShare.__proto__||Object.getPrototypeOf(CommentSocialShare)).apply(this,arguments))}_createClass(CommentSocialShare,[{key:"_handleFacebookChange",value:function _handleFacebookChange(e){this.props.onSocialChange("facebook",e)}},{key:"_handleTwitterChange",value:function _handleTwitterChange(e){this.props.onSocialChange("twitter",e)}},{key:"_getTitleTextForService",value:function _getTitleTextForService(social_app){if(!(social_app.is_connected&&social_app.is_commenting_enabled)){return(0,_i18n.translate)("Click to share this comment on {SOCIAL_APP}",{SOCIAL_APP:social_app.name}).join("")}return(0,_i18n.translate)("This comment will be shared on {SOCIAL_APP}",{SOCIAL_APP:social_app.name}).join("")}},{key:"render",value:function render(){var _props=this.props,social_apps=_props.social_apps,tweet_preview=_props.tweet_preview;var facebook=social_apps.facebook,twitter=social_apps.twitter;var show_tweet_preview=twitter.is_connected&&twitter.is_commenting_enabled&&tweet_preview&&tweet_preview!=="";var show_tweet_warning=twitter.is_connected&&twitter.is_commenting_enabled&&tweet_preview.indexOf("…")!==-1;return _react2.default.createElement("fieldset",{className:"iris_comment-add-share"},_react2.default.createElement("legend",{className:"iris_comment-add-share-title"},"Share comment:"),_react2.default.createElement("label",{className:"iris_comment-add-share-icon iris_comment-add-share-icon--fb",
title:this._getTitleTextForService(facebook),"data-fatal-attraction":"container:comment|component:share|keyword:facebook","data-gtm-click":"comment_share_click|service:facebook"},_react2.default.createElement("input",{type:"checkbox",defaultChecked:facebook.is_connected&&facebook.is_commenting_enabled,onClick:this._handleFacebookChange}),_react2.default.createElement(_iris_icon_facebook2.default,{className:"vendors_ic vendors_ic-fb"})),_react2.default.createElement("label",{className:"iris_comment-add-share-icon iris_comment-add-share-icon--twitter",title:this._getTitleTextForService(twitter),"data-fatal-attraction":"container:comment|component:share|keyword:twitter","data-gtm-click":"comment_share_click|service:twitter"},_react2.default.createElement("div",{className:"iris_menu-wrapper iris_menu-wrapper--inline"},_react2.default.createElement("input",{type:"checkbox",defaultChecked:twitter.is_connected&&twitter.is_commenting_enabled,onClick:this._handleTwitterChange}),_react2.default.createElement(_iris_icon_social_twitter_2.default,{className:"vendors_ic vendors_ic-twitter"}),show_tweet_warning?tweetWarning:null,show_tweet_preview?_react2.default.createElement("p",{className:"iris_menu iris_menu--light iris_menu--popover iris_tooltip-badge iris_tooltip--tls"},tweet_preview):null)))}}]);return CommentSocialShare}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"_handleFacebookChange",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleFacebookChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_handleTwitterChange",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"_handleTwitterChange"),_class.prototype),_class);CommentSocialShare.propTypes={social_apps:_react2.default.PropTypes.object.isRequired,tweet_preview:_react2.default.PropTypes.string.isRequired};CommentSocialShare.defaultProps={};exports.default=CommentSocialShare;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconFacebook",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 372.7 792"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M93.2 792V419.3H0V288.8h93.2V172.3C93.2 83.9 149.1 0 279.5 0c51.2 0 93.2 4.7 93.2 4.7L368 130.5h-83.9s-51.2 23.3-51.2 60.6v97.8h139.8L368 419.3H232.9V792H93.2z"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(5);var helpers=__webpack_require__(225)(__webpack_require__(6));module.exports=React.createClass({displayName:"IrisIconSocialTwitter32",getDefaultProps:function getDefaultProps(){return{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"}},componentDidMount:function componentDidMount(){helpers.applyXmlAttributes(this)},render:function render(){var props=this.props;var children=props.children;return React.createElement("svg",this.props,React.createElement("path",{d:"M32 6.1c-1.2.5-2.4.9-3.8 1 1.4-.8 2.4-2.1 2.9-3.6-1.3.8-2.7 1.3-4.2 1.6C25.8 3.8 24 3 22.2 3c-3.6 0-6.6 2.9-6.6 6.6 0 .5.1 1 .2 1.5-5.5-.3-10.3-2.9-13.6-6.9-.6 1-.9 2.1-.9 3.3 0 2.3 1.2 4.3 2.9 5.5-1.1 0-2.1-.3-3-.8v.1c0 3.2 2.3 5.8 5.3 6.4-.6.1-1.1.2-1.7.2-.4 0-.8 0-1.2-.1.8 2.6 3.3 4.5 6.1 4.6-2.2 1.8-5.1 2.8-8.2 2.8-.5 0-1.1 0-1.6-.1 2.9 1.9 6.4 3 10.1 3 12.1 0 18.7-10 18.7-18.7v-.9c1.3-1 2.4-2.1 3.3-3.4"}),React.Children.map(children,function(c){return c}))}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=undefined;var _ClipTextAd=__webpack_require__(589);var _ClipTextAd2=_interopRequireDefault(_ClipTextAd);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_ClipTextAd2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var appendScripts=function appendScripts(div){if(!div){return}var ad=document.createElement("script");ad.async=true;ad.src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";var adsbygoogle=document.createElement("script");adsbygoogle.text="(adsbygoogle = window.adsbygoogle || []).push({});";div.appendChild(ad);div.appendChild(adsbygoogle)};var ClipTextAd=function ClipTextAd(_ref){var _ref$pubId=_ref.pubId,pubId=_ref$pubId===undefined?"":_ref$pubId;var adString='\n        <!-- Clips Page -->\n        <ins class="adsbygoogle"\n             style="display:inline-block;min-width:320px;max-width:1200px;width:100%;height:260px"\n             data-ad-client='+pubId+'\n             data-ad-slot="3450755476"></ins>\n        ';return _react2.default.createElement("aside",null,_react2.default.createElement("div",{className:"clip-text-ad-wrapper",dangerouslySetInnerHTML:{__html:adString},ref:appendScripts}))};ClipTextAd.propTypes={pubId:_react2.default.PropTypes.string.isRequired};exports.default=ClipTextAd;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=undefined;var _ViewerSegmentationSurveyBanner=__webpack_require__(591);var _ViewerSegmentationSurveyBanner2=_interopRequireDefault(_ViewerSegmentationSurveyBanner);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_ViewerSegmentationSurveyBanner2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _DismissableCtaBanner=__webpack_require__(592);var _DismissableCtaBanner2=_interopRequireDefault(_DismissableCtaBanner);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var STORAGE_KEY_SURVEY_DISMISSED="survey_banner_dismissed";var ViewerSegmentationSurveyBanner=function(_React$Component){_inherits(ViewerSegmentationSurveyBanner,_React$Component);function ViewerSegmentationSurveyBanner(props){_classCallCheck(this,ViewerSegmentationSurveyBanner);var _this=_possibleConstructorReturn(this,(ViewerSegmentationSurveyBanner.__proto__||Object.getPrototypeOf(ViewerSegmentationSurveyBanner)).call(this,props));_this.handleDismiss=_this.handleDismiss.bind(_this);_this.onBannerImpression=_this.onBannerImpression.bind(_this);_this.handleClick=_this.handleClick.bind(_this);var isBucketedIntoSurvey=false;if(window.ABLincoln){var banner_treatment=window.ABLincoln.getTest("VideoPage.ViewerSegmentationSurvey").get("banner","");isBucketedIntoSurvey=banner_treatment==="show"}_this.state={isBucketedIntoSurvey:isBucketedIntoSurvey,surveyIsDismissed:$.cookie(STORAGE_KEY_SURVEY_DISMISSED)};return _this}_createClass(ViewerSegmentationSurveyBanner,[{key:"render",value:function render(){var _props=this.props,clipId=_props.clipId,isPublic=_props.isPublic,accountType=_props.accountType,isOwner=_props.isOwner;var _state=this.state,surveyIsDismissed=_state.surveyIsDismissed,isBucketedIntoSurvey=_state.isBucketedIntoSurvey;if(isOwner||!isPublic||surveyIsDismissed||!isBucketedIntoSurvey){return null}var vuid=$.cookie("vuid");var survey_url="https://www.marketingresearchresources.com/images/ovm00716/mrr.asp?user="+accountType+"&clip="+clipId+"&vuid="+vuid+"&device=desktop";var header_copy="How do you watch the stuff you watch?";var sub_copy="Share a bit about your viewing habits, and we'll give you a $5 Amazon gift code!";return React.createElement(_DismissableCtaBanner2.default,{className:"viewer-survey",href:survey_url,onDismiss:this.handleDismiss,onClick:this.handleClick,onImpression:this.onBannerImpression,linkTitle:"Take Survey",openInNewTab:true},React.createElement("div",{className:"messaging"},React.createElement("h3",{className:"iris_header--18"},header_copy),React.createElement("div",null,sub_copy)),React.createElement("div",{className:"iris_btn iris_btn--primary"},"Take Survey"))}},{key:"handleDismiss",value:function handleDismiss(ev){$.cookie(STORAGE_KEY_SURVEY_DISMISSED,true);this.setState({surveyIsDismissed:true})}},{key:"handleClick",value:function handleClick(ev){window.__fa.push(["trackEvent",{type:"click",container:"survey_banner",component:"viewer_segmentation",keyword:"take_survey"}])}},{key:"onBannerImpression",value:function onBannerImpression(){window.__fa.push(["trackEvent",{type:"impression",container:"survey_banner",component:"viewer_segmentation"}])}}]);return ViewerSegmentationSurveyBanner}(React.Component);exports.default=ViewerSegmentationSurveyBanner;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=undefined;var _DismissableCtaBanner=__webpack_require__(593);var _DismissableCtaBanner2=_interopRequireDefault(_DismissableCtaBanner);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_DismissableCtaBanner2.default;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(5);var _react2=_interopRequireDefault(_react);var _iris_icon_close=__webpack_require__(333);var _iris_icon_close2=_interopRequireDefault(_iris_icon_close);var _i18n=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var DismissableCtaBanner=function(_React$Component){_inherits(DismissableCtaBanner,_React$Component);function DismissableCtaBanner(props){_classCallCheck(this,DismissableCtaBanner);var _this=_possibleConstructorReturn(this,(DismissableCtaBanner.__proto__||Object.getPrototypeOf(DismissableCtaBanner)).call(this,props));_this.onClick=_this.onClick.bind(_this);return _this}_createClass(DismissableCtaBanner,[{key:"componentDidMount",value:function componentDidMount(){if(this.props.onImpression){this.props.onImpression()}document.querySelector(".footer_v2").className+=" footer_v2--extended"}},{key:"render",value:function render(){var _props=this.props,href=_props.href,className=_props.className,linkTitle=_props.linkTitle,children=_props.children,onDismiss=_props.onDismiss,openInNewTab=_props.openInNewTab;return _react2.default.createElement("a",{href:href,className:className+" iris_sticky-upsell dark show dismissable-cta-banner",onClick:this.onClick,title:linkTitle,target:openInNewTab?"_blank":""},_react2.default.createElement("div",{className:"iris_sticky-upsell__with-padding"},_react2.default.createElement("div",{className:"iris_sticky-upsell__wrapper"},children)),_react2.default.createElement("div",{className:"iris_sticky-upsell__close-icon-wrapper"},_react2.default.createElement(_iris_icon_close2.default,null)))}},{key:"onClick",value:function onClick(ev){var _props2=this.props,onClick=_props2.onClick,onDismiss=_props2.onDismiss;var close_icon=document.querySelector(".iris_sticky-upsell__close-icon-wrapper");if(ev.target===close_icon||close_icon.contains(ev.target)){ev.preventDefault()}else{if(typeof onClick==="function"){onClick()}}if(typeof onDismiss==="function"){onDismiss()}document.querySelector(".footer_v2").className="footer_v2 footer_v2--responsive"}}]);return DismissableCtaBanner}(_react2.default.Component);DismissableCtaBanner.defaultProps={linkTitle:"",className:"",href:"",onDismiss:"",onClick:"",openInNewTab:false,onImpression:null};exports.default=DismissableCtaBanner;module.exports=exports["default"]}]));